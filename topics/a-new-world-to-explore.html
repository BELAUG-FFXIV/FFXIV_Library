<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>A New World to Explore | FFXIV Library</title>
  <meta name="description" content="A New World to Explore â€” MSQ topic page with clear steps and embedded video. EN/JP/ZH switch." />
  <link rel="icon" href="../img/favicon.ico" />
  <link rel="stylesheet" href="../style.css" />
  <style>
    .topic-wrap{max-width:960px;margin:24px auto;padding:0 16px}
    .topic-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:12px 0 8px}
    .topic-title{font-size:1.6rem;font-weight:800;letter-spacing:.3px;margin:0}
    .topic-meta{display:flex;flex-wrap:wrap;gap:8px;color:var(--muted,#888)}
    .kv{display:grid;grid-template-columns:160px 1fr;gap:6px 12px;margin:12px 0}
    .kv dt{font-weight:700;color:var(--muted,#777)}
    .kv dd{margin:0}
    .sect{margin:16px 0}
    .video-wrapper{position:relative;padding-bottom:56.25%;height:0;border-radius:10px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,.12)}
    .video-wrapper iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
    [data-theme="dark"] .kv dt{color:#bbb}
    [data-theme="dark"] .topic-wrap{color:#eaeaea}
    .wiki-links{display:flex;gap:8px;flex-wrap:wrap}
  </style>
</head>
<body>
  <!-- Headerï¼ˆæ²¿ç”¨ä½ çš„è¨­è¨ˆï¼‰ -->
  <header class="site-header">
    <nav class="container nav">
      <a class="brand" href="../#top" aria-label="Home">Final Fantasy XIV Library</a>
      <div class="nav-right">
        <button id="themeToggle" class="icon-btn" aria-label="åˆ‡æ›ä¸»é¡Œ">ğŸŒ™</button>
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
        <a class="icon-btn" href="https://www.youtube.com/@BELAUG" target="_blank" rel="noopener" aria-label="YouTube">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
               viewBox="0 0 24 24" class="yt-icon"><path
               d="M23.5 6.2s-.2-1.7-.8-2.5c-.8-.9-1.7-.9-2.1-1-3-.2-7.6-.2-7.6-.2h-.1s-4.6 0-7.6.2c-.4 0-1.3 0-2.1 1-.6.8-.8 2.5-.8 2.5S2 8.1 2 10v1.9c0 1.9.2 3.8.2 3.8s.2 1.7.8 2.5c.8.9 1.9.9 2.4 1 1.7.2 7.2.2 7.2.2s4.6 0 7.6-.2c.4 0 1.3 0 2.1-1 .6-.8.8-2.5.8-2.5s.2-1.9.2-3.8V10c0-1.9-.2-3.8-.2-3.8zM9.8 13.6V8.4l5.9 2.6-5.9 2.6z"/></svg>
        </a>
      </div>
    </nav>
  </header>

  <main class="topic-wrap" id="scope">
    <!-- æ¨™é¡Œï¼ˆæœƒç”± JS æ³¨å…¥ä¸‰èªï¼‰ -->
    <div class="topic-head">
      <h1 class="topic-title" id="title">A New World to Explore</h1>
    </div>

    <!-- Meta æ¨™ç±¤ï¼ˆä¸ç¿»è­¯çš„ä»£ç¢¼å¯ç›´æ¥ä¿ç•™ï¼‰ -->
    <div class="topic-meta">
      <span class="badge">MSQ</span>
      <span class="badge">DT</span>
      <span class="badge">Patch 7.0</span>
    </div>

    <!-- å½±ç‰‡ -->
    <section class="sect">
      <div class="video-wrapper">
        <!-- â­ æ›æˆä½ çš„å½±ç‰‡ ID -->
        <iframe id="yt"
          src="https://www.youtube.com/embed/HMf2Ldtb36Y"
          title="A New World to Explore"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen></iframe>
      </div>
    </section>

    <!-- é—œéµè³‡è¨Šï¼ˆè¡¨æ ¼å¼ï¼‰ -->
    <section class="sect">
      <dl class="kv" id="facts">
        <!-- ç”± JS ä¾èªè¨€å¡«å…¥ -->
      </dl>
    </section>

    <!-- å…§å®¹å€ï¼ˆOverview / Steps / Rewardsï¼‰ -->
    <section class="sect" id="content">
      <!-- ç”± JS ä¾èªè¨€å¡«å…¥ -->
    </section>

    <!-- å°æ‡‰ wiki é€£çµï¼ˆä¾èªè¨€é¡¯ç¤ºå°æ‡‰èªç³»ï¼‰ -->
    <section class="sect">
      <div class="wiki-links" id="wikis"></div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container foot">
      <small>Â© <span id="year"></span> BELAUG Â· FFXIV Library</small>
      <a href="#top" class="backtop" aria-label="Back to top">â†‘</a>
    </div>
  </footer>

  <!-- è¼•é‡ JSï¼šä¸»é¡Œåˆ‡æ› + ä¸‰èªè³‡æ–™ + æ³¨å…¥ -->
  <script>
    // ====== å¹´ä»½ ======
    document.getElementById('year').textContent = new Date().getFullYear();

    // ====== ä¸»é¡Œåˆ‡æ›ï¼ˆå’Œé¦–é ä¸€è‡´ï¼‰ ======
    const THEME_KEY = 'ffxiv-lib-theme';
    const themeToggle = document.getElementById('themeToggle');
    function applyTheme(mode){
      if(mode === 'dark'){
        document.documentElement.setAttribute('data-theme','dark');
        themeToggle.textContent = 'â˜€ï¸';
      }else{
        document.documentElement.removeAttribute('data-theme');
        themeToggle.textContent = 'ğŸŒ™';
      }
    }
    applyTheme(localStorage.getItem(THEME_KEY) || 'light');
    themeToggle?.addEventListener('click', ()=>{
      const cur = localStorage.getItem(THEME_KEY) || 'light';
      const next = cur === 'dark' ? 'light' : 'dark';
      localStorage.setItem(THEME_KEY, next);
      applyTheme(next);
    });

    // ====== ä¸‰èªè³‡æ–™ï¼ˆé€™è£¡å¡«ä¸€æ¬¡ï¼Œåˆ‡æ›å°±æœƒæ›ï¼‰ ======
    // â­ åªè¦æ”¹ä¸‹é¢é€™å€‹ data ç‰©ä»¶ï¼Œä¸ç”¨æ”¹ HTML çµæ§‹
    const data = {
      ytId: "HMf2Ldtb36Y", // æ›æˆä½ çš„å½±ç‰‡ ID
      title: {
        EN: "A New World to Explore",
        JP: "æ–°ãŸãªä¸–ç•Œã¸",
        ZH: "æ–°çš„ä¸–ç•Œåœ¨å‰æ–¹"
      },
      wiki: {
        EN: "https://ffxiv.consolegameswiki.com/wiki/A_New_World_to_Explore",
        JP: "", // è‹¥æœ‰æ—¥æ–‡å°æ‡‰ï¼Œå¡«å…¥
        ZH: ""  // è‹¥æœ‰ä¸­æ–‡å°æ‡‰ï¼Œå¡«å…¥
      },
      facts: {
        EN: [
          ["Type", "Main Scenario Quest"],
          ["Expansion", "Dawntrail (DT)"],
          ["Start NPC", "(Fill here)"],
          ["Location", "(Fill here)"],
          ["Requirements", "(Fill here)"]
        ],
        JP: [
          ["ç¨®é¡", "ãƒ¡ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒªãƒ¼"],
          ["æ‹¡å¼µ", "é»„é‡‘ã®ãƒ¬ã‚¬ã‚·ãƒ¼ï¼ˆDTï¼‰"],
          ["é–‹å§‹NPC", "ï¼ˆå…¥åŠ›ï¼‰"],
          ["å ´æ‰€", "ï¼ˆå…¥åŠ›ï¼‰"],
          ["å‰ææ¡ä»¶", "ï¼ˆå…¥åŠ›ï¼‰"]
        ],
        ZH: [
          ["é¡å‹", "ä¸»ç·šä»»å‹™"],
          ["è³‡æ–™ç‰‡", "é»ƒé‡‘çš„éºç”¢ï¼ˆDTï¼‰"],
          ["èµ·å§‹ NPC", "ï¼ˆå¡«å¯«ï¼‰"],
          ["åœ°é»", "ï¼ˆå¡«å¯«ï¼‰"],
          ["å‰ç½®æ¢ä»¶", "ï¼ˆå¡«å¯«ï¼‰"]
        ]
      },
      content: {
        EN: {
          overviewTitle: "Overview",
          overviewHtml: `
            <p>Write a concise summary: objective, where to go, who to talk to, and tips.</p>
          `,
          stepsTitle: "Steps",
          stepsHtml: `
            <ol>
              <li>Talk to â€¦ at â€¦</li>
              <li>Travel to â€¦ and interact â€¦</li>
              <li>After the cutscene, report back to â€¦</li>
            </ol>
          `,
          rewardsTitle: "Rewards",
          rewardsHtml: `<p>(Fill here)</p>`
        },
        JP: {
          overviewTitle: "æ¦‚è¦",
          overviewHtml: `
            <p>ç›®çš„ã€è¡Œãå…ˆã€ä¼šè©±ç›¸æ‰‹ã€æ³¨æ„ç‚¹ãªã©ã‚’ç°¡æ½”ã«ã€‚</p>
          `,
          stepsTitle: "æ‰‹é †",
          stepsHtml: `
            <ol>
              <li>â€¦â€¦ã«ã„ã‚‹â€¦â€¦ã¨è©±ã™</li>
              <li>â€¦â€¦ã¸ç§»å‹•ã—ã€â€¦â€¦ã‚’èª¿ã¹ã‚‹</li>
              <li>ã‚«ãƒƒãƒˆã‚·ãƒ¼ãƒ³å¾Œã€â€¦â€¦ã¸å ±å‘Š</li>
            </ol>
          `,
          rewardsTitle: "å ±é…¬",
          rewardsHtml: `<p>ï¼ˆå…¥åŠ›ï¼‰</p>`
        },
        ZH: {
          overviewTitle: "æ¦‚è¿°",
          overviewHtml: `
            <p>ç°¡å–®å¯«æ¸…æ¥šç›®æ¨™ã€è·¯ç·šã€å°è©±å°è±¡èˆ‡æ³¨æ„äº‹é …ã€‚</p>
          `,
          stepsTitle: "æ­¥é©Ÿ",
          stepsHtml: `
            <ol>
              <li>å‰å¾€â€¦â€¦èˆ‡â€¦â€¦å°è©±</li>
              <li>ç§»å‹•åˆ°â€¦â€¦ä¸¦äº’å‹•â€¦â€¦</li>
              <li>æ’­ç‰‡å¾Œå›åˆ°â€¦â€¦å›å ±</li>
            </ol>
          `,
          rewardsTitle: "çå‹µ",
          rewardsHtml: `<p>ï¼ˆå¡«å¯«ï¼‰</p>`
        }
      }
    };

    // ====== èªè¨€åˆ‡æ› ======
    const LANG_KEY = 'ffxiv-lib-lang';
    const langToggle = document.getElementById('langToggle');
    function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
    function setLang(v){ localStorage.setItem(LANG_KEY, v); }

    // ====== å°‡è³‡æ–™æ³¨å…¥é é¢ ======
    const $ = (sel)=>document.querySelector(sel);
    function render(lang){
      // 1) æ¨™é¡Œ
      $('#title').textContent = data.title[lang] || data.title.EN || '';

      // 2) å½±ç‰‡ï¼ˆè‹¥ä½ æƒ³ä¸åŒèªè¨€å°æ‡‰ä¸åŒå½±ç‰‡ï¼Œä¹Ÿå¯åœ¨é€™è£¡åˆ‡ï¼‰
      const yt = $('#yt');
      if (yt && data.ytId) {
        yt.src = `https://www.youtube.com/embed/${data.ytId}`;
        yt.title = data.title[lang] || 'Video';
      }

      // 3) Factsï¼ˆkv è¡¨ï¼‰
      const facts = data.facts[lang] || data.facts.EN || [];
      const factsDl = $('#facts');
      factsDl.innerHTML = facts.map(([k,v]) => `<dt>${k}</dt><dd>${v}</dd>`).join('');

      // 4) å…§å®¹ï¼ˆOverview/Steps/Rewardsï¼‰
      const c = data.content[lang] || data.content.EN;
      $('#content').innerHTML = `
        <h3>${c.overviewTitle}</h3>
        ${c.overviewHtml}
        <h3>${c.stepsTitle}</h3>
        ${c.stepsHtml}
        <h3>${c.rewardsTitle}</h3>
        ${c.rewardsHtml}
      `;

      // 5) Wiki é€£çµ
      const w = data.wiki || {};
      const wBox = $('#wikis');
      const links = [];
      if (w.EN) links.push(`<a class="btn ghost" href="${w.EN}" target="_blank" rel="noopener">EN Wiki</a>`);
      if (w.JP) links.push(`<a class="btn ghost" href="${w.JP}" target="_blank" rel="noopener">JP Wiki</a>`);
      if (w.ZH) links.push(`<a class="btn ghost" href="${w.ZH}" target="_blank" rel="noopener">ZH Wiki</a>`);
      wBox.innerHTML = links.join('') || '<small style="color:var(--muted,#888)">No wiki links</small>';

      // 6) èªè¨€æŒ‰éˆ•é¡¯ç¤º
      langToggle.textContent = `ğŸŒ ${lang}`;
    }

    // åˆå§‹åŒ–
    const bootLang = getLang();
    render(bootLang);

    // é»æ“Šå¾ªç’° EN â†’ JP â†’ ZH â†’ EN
    langToggle?.addEventListener('click', ()=>{
      const cur = getLang();
      const next = cur === 'EN' ? 'JP' : (cur === 'JP' ? 'ZH' : 'EN');
      setLang(next);
      render(next);
    });
  </script>
</body>
</html>
