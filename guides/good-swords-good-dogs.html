<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Good Swords, Good Dogs | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="Hildibrand Adventures â€“ Good Swords, Good Dogs (SB Patch 4.45)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;
      background:var(--bg);
      color:var(--fg);
    }
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{
      border-bottom:1px solid var(--border);
      background:#fff9edb3;
      backdrop-filter:saturate(120%) blur(6px);
      position:sticky;top:0;z-index:10;
    }
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{
      border:1px solid var(--border);
      background:#fff;
      padding:4px 8px;
      border-radius:8px;
      text-decoration:none;
      color:var(--fg);
      font-weight:800;
    }
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{
      background:none;
      border:1px solid transparent;
      cursor:pointer;
      font-size:14px;
      padding:6px 10px;
      border-radius:8px;
    }
    .icon-btn:hover{background:#fff;border-color:var(--border)}
    .main{padding:20px 0 40px}
    .grid{
      display:grid;
      grid-template-columns:1.1fr 1fr;
      gap:20px;
      align-items:start;
    }
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:16px;
      box-shadow:0 4px 14px rgba(0,0,0,.05);
    }
    .card .hd{
      padding:14px 16px;
      border-bottom:1px solid var(--border);
      font-weight:700;
    }
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{
      width:100%;
      height:420px;
      border:0;
      display:block;
      border-radius:16px;
    }
    .tabs{
      display:flex;
      gap:8px;
      padding:12px 12px 0;
      flex-wrap:wrap;
    }
    .tab-btn{
      background:#fff;
      border:1px solid var(--border);
      color:var(--fg);
      border-radius:999px;
      padding:8px 14px;
      cursor:pointer;
      font-weight:600;
    }
    .tab-btn[aria-selected="true"]{
      border-color:var(--accent);
      color:#fff;
      background:var(--accent);
    }
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{
      padding:12px 14px;
      border:1px dashed var(--border);
      border-radius:12px;
      background:#fffdf6;
    }
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    .clamp{
      position:relative;
      max-height:360px;
      overflow:hidden;
    }
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:"";
      position:absolute;
      left:0;right:0;bottom:0;
      height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card));
      pointer-events:none;
    }
    .expand-wrap{margin-top:12px;}
    .expand-btn{
      display:inline-block;
      padding:8px 14px;
      border-radius:10px;
      background:var(--card);
      border:1px solid var(--border);
      cursor:pointer;
      font-weight:600;
    }
    .expand-btn:hover{background:#fffef8;}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame"
              src="https://www.youtube.com/embed/Q9WC4hH0a8c"
              title="Good Swords, Good Dogs"
              allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Good Swords, Good Dogs</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';

const i18n = {
  EN: {
    langLabel: 'EN',
    pageTitle: 'Good Swords, Good Dogs',
    tabs: {
      story: 'Story',
      acq: 'Acquisition',
      unlockq: 'Unlock Quest',
      followq: 'Follow-Up Quest',
      comments: 'Comments'
    },
    readMore: 'Show more',
    readLess: 'Show less',
    story: `<div class="clamp" data-collapsed="true">
<p>At the Ruby Sea, you take the ferry to the Ruby Price and wait as Shigure requested. While you pass the time, Nashu chatters excitedly about Shigureâ€™s â€œcostume change,â€ and the Wolf Burglar keeps circling back to the same subjectâ€”what the Soboro Sukehiro might fetch if it were soldâ€”insisting itâ€™s â€œjust curiosity.â€ Hildibrand, for his part, is already brimming with energy for the next leg of the chase.</p>
<p>Shigure finally arrives, explaining thatâ€”since it was suggested he stop wearing Sekiseigumi attireâ€”he went to Kogane Dori and bought something completely unlike what he normally wears. Hildibrand and Nashu praise the change, while the Wolf Burglar bluntly doubts anyone will copy the look, then forces the focus back to the hunt: if Yojimbo is truly after the Ame-no-Murakumo, the destination is the Isle of Zekki. The problem, he notes, is getting thereâ€”by air or by an underwater passageâ€”and Shigure admits the latter is close to impossible without the Kojinâ€™s blessing. When Shigure asks about Montaro, the Wolf Burglar only scoffs that the bird will be keeping its distance after what happened.</p>
<p>Before you move on, Hildibrand presses the Wolf Burglar for the reason he ever targeted Akebono in the first placeâ€”especially when Koju already pointed out how hard it would be to sell such a famous blade. The Wolf Burglar answers without dodging: it wasnâ€™t â€œstealingâ€ to take back what was stolen. He says Akebono wrested the sword from its rightful ownerâ€”a humble samurai who lived simply, took in a young Lupin boy who had fled Doma during the occupation, and raised him like a son. When a merchant came demanding the samurai sell his one prized possession, the samurai refusedâ€”because a sword is a samuraiâ€™s soul.</p>
<p>The Wolf Burglar goes on to describe how the merchant changed tactics, wormed into the samuraiâ€™s affairs, and drew him into debtâ€”small sums becoming a mountainâ€”until the blade was pledged as collateral. The samurai worked himself ragged trying to reclaim his honor, but sickness took him, leaving the Lupin boy alone. Years later, the boy returned from Yanxia, having learned the ways of the shinobiâ€”helping others as he had once been helped, all while yearning to reclaim the last memento of his adoptive father: the Soboro Sukehiro.</p>
<p>With that truth on the table, Shigure pieces together what it meant: Akebono was always the true target, and the break-in at Rakuza District was meant to find the sword. Nashu asks the question that still nagsâ€”if reaching the Isle of Zekki is so difficult, how was Yojimbo planning to do it? Shigure decides the answer must lie with those who watch the sea-lanes, and leads you to Sakazuki to question the pirates. One witness canâ€™t place a rail-thin samurai, but anotherâ€”the Confederate shipwatchâ€”recalls exactly such a traveler, wide-brimmed hat and a dog at his side, speaking openly of heading for the Isle of Zekki. The shipwatch even mentions seeing the dog wandering the beach below.</p>
<p>You search the shore and spot Daigoro, but he wonâ€™t comeâ€”until the Wolf Burglar demonstrates the simplest â€œincentive,â€ and the pup immediately responds. With Daigoro won over, you follow him straight to Yojimbo. Cornered, Yojimbo refuses to yield and declares he has been seeking stronger swords to redeem himself, insisting the Ame-no-Murakumo is the key to his victory. Shigure tries to speak, but Hildibrand barrels ahead with â€œnegotiation,â€ threatening Daigoro with furious belly rubs until Yojimbo panics, calls it betrayal, and finally gives inâ€”only to realize the Soboro Sukehiro isnâ€™t where he expects it to be. The Wolf Burglar reveals it â€œright where it belongs,â€ and when Yojimbo lunges, a stern Sekiseigumi arrives, forcing chaos: the Wolf Burglar bolts, Yojimbo flees, and the Sekiseigumi turns on Shigure.</p>
<p>Shigure hurriedly explains that freeing the Wolf Burglar was a temporary measure to track down Yojimbo and the sword, and that the burglar was meant to be returned to his cell. The Sekiseigumi rejects it, charging Shigure with aiding a criminalâ€™s escape, and hauls him away despite Hildibrandâ€™s protests. Back in Kugane, Hildibrand fumes that Shigure was treated like a common criminal and insists you must find a way to set things right; he also admits that he does not believe the Wolf Burglarâ€™s story about the samurai and Akebono was a lie. Determined to force the truth into the open, Hildibrand declares he will begin investigating Master Akebono at onceâ€”while, elsewhere, Akebono greets the moment with a quiet, ominous certainty that the day he expected has finally come.</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq: `<div class="stack">
  <div class="row"><b>Quest Giver</b> Hildibrand <small class="muted">(Kugane, X:12.1, Y:5.9)</small></div>
</div>`,
    unlockq: `<div class="stack">
  <div class="row"><a class="link" href="the-black-heart-beneath.html">The Black Heart Beneath</a></div>
</div>`,
    followq: `<div class="stack">
  <div class="row"><a class="link" href="the-past-is-never-past.html">The Past Is Never Past</a></div>
</div>`
  },

  JP: {
    langLabel: 'JP',
    pageTitle: 'ã®ã¹ã¤å¹•ãªã—æ­¦å™¨æ€ªç›—',
    tabs: {
      story: 'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼',
      acq: 'å…¥æ‰‹æ–¹æ³•',
      unlockq: 'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ',
      followq: 'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ',
      comments: 'ã‚³ãƒ¡ãƒ³ãƒˆ'
    },
    readMore: 'å…¨æ–‡ã‚’è¡¨ç¤º',
    readLess: 'æŠ˜ã‚ŠãŸãŸã‚€',
    story: `<div class="clamp" data-collapsed="true">
<p>ã‚ãªãŸã¯ç´…ç‰æµ·ã¸æ¸¡ã‚Šã€ãƒ«ãƒ“ãƒ¼ãƒ»ãƒ—ãƒ©ã‚¤ã‚¹ã§ã‚·ã‚°ãƒ¬ã‚’å¾…ã¤ã“ã¨ã«ã™ã‚‹ã€‚ãƒŠã‚·ãƒ¥ã¯ã€Œæ¬¡ã¯ã©ã‚“ãªæ ¼å¥½ã§æ¥ã‚‹ã®ã‹æ¥½ã—ã¿ã ã€ã¨ã¯ã—ã‚ƒãã€ç‹¼ç›—è³Šã¯ã‚½ãƒœãƒ­åŠ©åºƒã‚’å£²ã£ãŸã‚‰ã„ãã‚‰ã«ãªã‚‹ã®ã‹ã¨åŸ·æ‹—ã«æ°—ã«ã—ã¤ã¤ã€ã€Œç´”ç²‹ãªç–‘å•ã ã€ã¨è¨€ã„å¼µã‚‹ã€‚ãƒ’ãƒ«ãƒ‡ã‚£ãƒ–ãƒ©ãƒ³ãƒ‰ã¯ç›¸å¤‰ã‚ã‚‰ãšä¸Šæ©Ÿå«Œã§ã€æ¬¡ã®è¡Œç¨‹ã¸å‘ã‘ã¦å‹¢ã„ã‚’å¤±ã‚ãªã„ã€‚</p>
<p>ã‚„ãŒã¦ã‚·ã‚°ãƒ¬ãŒç¾ã‚Œã€èµ¤èª çµ„ã®è£…ã„ã‚’é¿ã‘ã‚‹ã¹ãã ã¨è¨€ã‚ã‚ŒãŸãŸã‚ã€é»„é‡‘é€šã‚Šã§æ™®æ®µã¨ã¯ã¾ã‚‹ã§é•ã†æœã‚’è²·ã£ã¦ããŸã¨èª¬æ˜ã™ã‚‹ã€‚ãƒ’ãƒ«ãƒ‡ã‚£ãƒ–ãƒ©ãƒ³ãƒ‰ã¨ãƒŠã‚·ãƒ¥ã¯ãã®å¤‰åŒ–ã‚’è¤’ã‚ã‚‹ãŒã€ç‹¼ç›—è³Šã¯è‰å±¥ã¾ã§å«ã‚ã¦æµè¡Œã‚‹ã¨ã¯æ€ãˆãªã„ã¨åˆ‡ã‚Šæ¨ã¦ã€ã™ãã«æœ¬é¡Œã¸æˆ»ã™ã€‚ãƒ¨ã‚¦ã‚¸ãƒ³ãƒœã‚¦ãŒå¤©å¢é›²å‰£ã‚’ç‹™ã†ãªã‚‰ã€ç›®çš„åœ°ã¯ã‚¼ãƒƒã‚­å³¶ã ã¨ã„ã†ã€‚ã ãŒè¡Œãæ–¹ãŒå„ä»‹ã§ã€ç©ºã‹ã‚‰ã‹ã€æ°´ä¸­ã®é€šè·¯ã‹â€•â€•å¾Œè€…ã¯ç”²äººã®åŠ è­·ãŒãªã‘ã‚Œã°ã»ã¨ã‚“ã©ä¸å¯èƒ½ã ã¨ã‚·ã‚°ãƒ¬ã¯è¨€ã†ã€‚ã•ã‚‰ã«ã‚·ã‚°ãƒ¬ãŒãƒ¢ãƒ³ã‚¿ãƒ­ã‚¦ã®ã“ã¨ã‚’å°‹ã­ã‚‹ã¨ã€ç‹¼ç›—è³Šã¯ã‚ã®ä¸€ä»¶ã®ã‚ã¨ã§ã¯è¿‘å¯„ã‚‰ãªã„ã ã‚ã†ã¨é¼»ã§ç¬‘ã†ã€‚</p>
<p>ãã®å ´ã§ãƒ’ãƒ«ãƒ‡ã‚£ãƒ–ãƒ©ãƒ³ãƒ‰ã¯ã€ç‹¼ç›—è³ŠãŒãªãœã‚¢ã‚±ãƒœãƒã‹ã‚‰ã‚½ãƒœãƒ­åŠ©åºƒã‚’å¥ªãŠã†ã¨ã—ãŸã®ã‹ã€å‹•æ©Ÿã‚’å•ã„ãŸã ã™ã€‚å£²ã‚‹ã®ãŒé›£ã—ã„ã¨åˆ†ã‹ã£ã¦ã„ãŸã¯ãšã ã¨æŒ‡æ‘˜ã•ã‚Œã‚‹ã¨ã€ç‹¼ç›—è³Šã¯è¨€ã„åˆ‡ã‚‹â€•â€•ç›—ã‚“ã ã®ã§ã¯ãªãã€ç›—ã¾ã‚ŒãŸã‚‚ã®ã‚’å–ã‚Šæˆ»ãã†ã¨ã—ãŸã®ã ã€ã¨ã€‚ã‚ã®åˆ€ã¯æœ¬æ¥ã€è³ªç´ ã«ç”Ÿãã‚‹ä¸€äººã®ä¾ã®ã‚‚ã®ã ã£ãŸã€‚å é ˜ä¸‹ã®ãƒ‰ãƒã‹ã‚‰é€ƒã’ã¦ããŸå¹¼ã„å°‘å¹´ã‚’å¼•ãå–ã‚Šã€è¦ªå­ã®ã‚ˆã†ã«æ”¯ãˆåˆã£ã¦ç”ŸããŸã¨ã„ã†ã€‚ãã“ã¸å•†äººãŒè¨ªã‚Œã€å”¯ä¸€ã®å®ã§ã‚ã‚‹åˆ€ã‚’å£²ã‚Œã¨è¿«ã£ãŸãŒã€ä¾ã¯æ‹’ã‚“ã ã€‚åˆ€ã¯ä¾ã®é­‚ã§ã‚ã‚Šã€é‡‘ã¨å¼•ãæ›ãˆã«ã¯ã§ããªã„ã‹ã‚‰ã ã€‚</p>
<p>ç‹¼ç›—è³Šã¯ã•ã‚‰ã«ã€å•†äººãŒæ‰‹ã‚’å¤‰ãˆã¦ä¾ã®æ‡ã«å…¥ã‚Šè¾¼ã¿ã€å°‘é¡ã®å€Ÿã‚Šã‹ã‚‰å§‹ã‚ã¦å€Ÿé‡‘ã‚’è†¨ã‚‰ã¾ã›ã€ã¤ã„ã«ã¯åˆ€ã‚’æ‹…ä¿ã«å·®ã—å‡ºã•ã›ãŸçµŒç·¯ã‚’èªã‚‹ã€‚ä¾ã¯åèª‰ã‚’å–ã‚Šæˆ»ãã†ã¨æ˜¼å¤œã‚’å•ã‚ãšåƒã„ãŸãŒã€ä½“ã¯å¼±ã‚Šã€ç—…ã«å€’ã‚Œã¦ä¸–ã‚’å»ã£ãŸã€‚æ®‹ã•ã‚ŒãŸå°‘å¹´ã¯ä¸æ¡ç†ãªä¸–ç•Œã§ä¸€äººã«ãªã‚Šã€å¹´æœˆã‚’çµŒã¦ãƒ¤ãƒ³ã‚µã‹ã‚‰æˆ»ã‚‹ã€‚å¿ã®é“ã‚’èº«ã«ã¤ã‘ã€ã‹ã¤ã¦åŠ©ã‘ã‚‰ã‚ŒãŸè‡ªåˆ†ã¨åŒã˜ã‚ˆã†ã«ä»–è€…ã‚’åŠ©ã‘ãªãŒã‚‰ã€é¤Šçˆ¶ã¨ã®æœ€å¾Œã®å½¢è¦‹ã§ã‚ã‚‹ã‚½ãƒœãƒ­åŠ©åºƒã‚’å–ã‚Šæˆ»ã™ã“ã¨ã ã‘ã‚’é¡˜ã„ç¶šã‘ãŸã®ã ã¨ã„ã†ã€‚</p>
<p>çœŸç›¸ã‚’èã„ãŸã‚·ã‚°ãƒ¬ã¯ã€ã‚¢ã‚±ãƒœãƒã“ããŒå¸¸ã«æ¨™çš„ã ã£ãŸã®ã ã¨ç†è§£ã—ã€ãƒ©ã‚¯ã‚¶åŒºã§ã®æŠ¼ã—å…¥ã‚Šã‚‚ã‚½ãƒœãƒ­åŠ©åºƒã‚’æ¢ã™ãŸã‚ã ã£ãŸã¨æ•´ç†ã™ã‚‹ã€‚ãƒŠã‚·ãƒ¥ã¯ã€ã‚¼ãƒƒã‚­å³¶ã¸è¡Œãã®ãŒé›£ã—ã„ãªã‚‰ã€ãƒ¨ã‚¦ã‚¸ãƒ³ãƒœã‚¦ã¯ã©ã†ã‚„ã£ã¦å‘ã‹ã†ã¤ã‚‚ã‚Šã ã£ãŸã®ã‹ã¨ç–‘å•ã‚’å£ã«ã™ã‚‹ã€‚ã‚·ã‚°ãƒ¬ã¯ã€èª°ã‹ãŒãã®å‹•ãã‚’è¦‹ã¦ã„ã‚‹ã¯ãšã ã¨ã—ã¦ã€ã‚µã‚«ã‚ºã‚­ã®æµ·è³Šã«èãè¾¼ã¿ã‚’ææ¡ˆã™ã‚‹ã€‚ã‚ã‚‹è€…ã¯å¿ƒå½“ãŸã‚ŠãŒãªã„ã¨è¨€ã†ãŒã€åˆ¥ã®ã‚³ãƒ³ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ãƒˆã®è¦‹å¼µã‚Šã¯ã€ã¤ã°ã®åºƒã„ç¬ ã‚’ã‹ã¶ã£ãŸç—©ã›ãŸä¾ã¨çŠ¬é€£ã‚Œã®æ—…äººã«ä¼šã£ãŸã¨è¨¼è¨€ã—ã€ã‚¼ãƒƒã‚­å³¶ã¸å‘ã‹ã†æ°—ã ã£ãŸã¨ã¾ã§è¦šãˆã¦ã„ã‚‹ã€‚ã•ã‚‰ã«ã€ãã®çŠ¬ãŒæµœè¾ºã‚’ã•ã¾ã‚ˆã£ã¦ã„ãŸã®ã‚’è¦‹ãŸã¨ã‚‚è¨€ã†ã€‚</p>
<p>ã‚ãªãŸãŒæµœè¾ºã§æ¢ã™ã¨ã€ãƒ€ã‚¤ã‚´ãƒ­ã‚¦ãŒè¦‹ã¤ã‹ã‚‹ãŒã€ãªã‹ãªã‹å¯„ã£ã¦ã“ãªã„ã€‚ã™ã‚‹ã¨ç‹¼ç›—è³ŠãŒã€Œæ­£ã—ã„é¤Œã€ã‚’ç¤ºã—ã€ãƒ€ã‚¤ã‚´ãƒ­ã‚¦ã¯ã‚ã£ã•ã‚Šåå¿œã—ã¦å‹•ãå‡ºã™ã€‚ã‚ãªãŸã¯ãã®å¾Œã‚’è¿½ã„ã€ã¤ã„ã«ãƒ¨ã‚¦ã‚¸ãƒ³ãƒœã‚¦ã‚’è¦‹ã¤ã‘ã‚‹ã€‚è¿½ã„è©°ã‚ã‚‰ã‚ŒãŸãƒ¨ã‚¦ã‚¸ãƒ³ãƒœã‚¦ã¯åˆ€ã‚’æ¸¡ã•ãšã€å·±ã‚’æ‰“ã¡è² ã‹ã—ãŸç›¸æ‰‹ã«é›ªè¾±ã™ã‚‹ãŸã‚ã€ã‚ˆã‚Šå¼·ã„åˆ€ã‚’æ±‚ã‚ã¦ããŸã®ã ã¨å«ã³ã€å¤©å¢é›²å‰£ã“ãå‹åˆ©ã®éµã ã¨è¨€ã„æ”¾ã¤ã€‚ã‚·ã‚°ãƒ¬ãŒæ­¢ã‚ã‚ˆã†ã¨ã™ã‚‹é–“ã‚‚ãªãã€ãƒ’ãƒ«ãƒ‡ã‚£ãƒ–ãƒ©ãƒ³ãƒ‰ã¯ã€Œäº¤æ¸‰ã€ã«ä¹—ã‚Šå‡ºã—ã€ãƒ€ã‚¤ã‚´ãƒ­ã‚¦ã®è…¹ã‚’å…¨åŠ›ã§æ’«ã§å›ã™ã¨è„…ã—ã¦ãƒ¨ã‚¦ã‚¸ãƒ³ãƒœã‚¦ã‚’æºã•ã¶ã‚Šã€ã¤ã„ã«é™å‚ã•ã›ã‚‹ã€‚ã—ã‹ã—ã‚½ãƒœãƒ­åŠ©åºƒã¯ãã“ã«ãªã„ã€‚ç‹¼ç›—è³ŠãŒã€Œã‚ã‚‹ã¹ãå ´æ‰€ã«ã‚ã‚‹ã€ã¨ç¤ºã—ãŸç¬é–“ã€å¯¡é»™ãªèµ¤èª çµ„ãŒè¸ã¿è¾¼ã¿ã€ç‹¼ç›—è³Šã¯é€ƒã’ã€ãƒ¨ã‚¦ã‚¸ãƒ³ãƒœã‚¦ã‚‚é€€ãã€çŸ›å…ˆã¯ã‚·ã‚°ãƒ¬ã¸å‘ã‘ã‚‰ã‚Œã‚‹ã€‚</p>
<p>ã‚·ã‚°ãƒ¬ã¯ã€ãƒ¨ã‚¦ã‚¸ãƒ³ãƒœã‚¦ã¨ã‚½ãƒœãƒ­åŠ©åºƒã‚’è¿½ã†ãŸã‚ã«ç‹¼ç›—è³Šã®åŠ©ã‘ãŒå¿…è¦ã§ã€ç‰¢ã‹ã‚‰å‡ºã—ãŸã®ã¯ã‚ãã¾ã§ä¸€æ™‚çš„ã§ã€å¿…ãšæˆ»ã™ã¤ã‚‚ã‚Šã ã£ãŸã¨å¿…æ­»ã«èª¬æ˜ã™ã‚‹ã€‚ã ãŒå¯¡é»™ãªèµ¤èª çµ„ã¯ãã‚Œã‚’èªã‚ãšã€ã‚·ã‚°ãƒ¬ã‚’ç½ªã«å•ã†ã¨ã—ã¦é€£è¡Œã—ã¦ã„ãã€‚ã‚ãªãŸãŒã‚¯ã‚¬ãƒã¸æˆ»ã‚‹ã¨ã€ãƒ’ãƒ«ãƒ‡ã‚£ãƒ–ãƒ©ãƒ³ãƒ‰ã¯çŠ¶æ³ã‚’ã€Œçœ‹éã§ããªã„ä¸æ­£ã€ã ã¨æ†¤ã‚Šã€ç‹¼ç›—è³Šã®èªã£ãŸä¾ã¨ã‚¢ã‚±ãƒœãƒã®è©±ãŒå˜˜ã¨ã¯æ€ãˆãªã„ã¨ã‚‚å‘Šã’ã‚‹ã€‚ãã—ã¦çœŸå®Ÿã‚’ç™½æ—¥ã®ä¸‹ã«ã•ã‚‰ã™ãŸã‚ã€ä»Šã™ãã‚¢ã‚±ãƒœãƒã‚’èª¿ã¹ã‚‹ã¨è¨€ã„æ®‹ã—ã¦å‹•ãå‡ºã™ã€‚ä¸€æ–¹ãã®é ƒã€ã‚¢ã‚±ãƒœãƒã¯é™ã‹ã«ã€ã¤ã„ã«ã“ã®æ—¥ãŒæ¥ãŸã¨ã¤ã¶ã‚„ãã€ã¾ã‚‚ãªãã™ã¹ã¦ãŒè‡ªåˆ†ã®æ‰‹ä¸­ã«åã¾ã‚‹ã‹ã®ã‚ˆã†ã«ç¬‘ã†ã€‚</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq: `<div class="stack">
  <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ’ãƒ«ãƒ‡ã‚£ãƒ–ãƒ©ãƒ³ãƒ‰ã€€ã‚¯ã‚¬ãƒ <small class="muted">(X:12.1, Y:5.9)</small></div>
</div>`,
    unlockq: `<div class="stack">
  <div class="row"><a class="link" href="the-black-heart-beneath.html">æ±ã®å›½ã®é—‡</a></div>
</div>`,
    followq: `<div class="stack">
  <div class="row"><a class="link" href="the-past-is-never-past.html">ç§˜ã‚ã‚‰ã‚ŒãŸè¨¼æ‹ å“</a></div>
</div>`
  },

  ZH: {
    langLabel: 'ZH',
    pageTitle: 'æ²’å®Œæ²’äº†çš„æ­¦å™¨æ€ªç›œ',
    tabs: {
      story: 'æ•…äº‹æ¦‚è¦',
      acq: 'å–å¾—æ–¹å¼',
      unlockq: 'è§£é–ä»»å‹™',
      followq: 'å¾ŒçºŒä»»å‹™',
      comments: 'ç•™è¨€'
    },
    readMore: 'å±•é–‹å…¨æ–‡',
    readLess: 'æ”¶åˆå…§å®¹',
    story: `<div class="clamp" data-collapsed="true">
<p>ä½ å€‘æ­ä¸Šå‰å¾€ Ruby Sea çš„æ¸¡èˆ¹ï¼Œåœ¨ Ruby Price ä¾ç…§ Shigure çš„è¦æ±‚å…ˆç­‰ä»–åˆæµã€‚ç­‰å¾…çš„ç©ºæª”ï¼ŒNashu ä¸€ç›´èˆˆå¥®åœ°èªªæƒ³çœ‹ Shigure ä¸‹ä¸€å¥—ã€Œè®Šè£ã€æœƒæœ‰å¤šèª‡å¼µï¼›Wolf Burglar å‰‡åˆé–‹å§‹ç›¤ç®— Soboro Sukehiro è‹¥çœŸæ‹¿å»è³£åˆ°åº•èƒ½è³£å¤šå°‘ï¼Œé‚„å¼·èª¿é€™åªæ˜¯ã€Œèª å¯¦çš„å¥½å¥‡ã€ï¼›Hildibrand çœ‹èµ·ä¾†å€’æ˜¯å·²ç¶“æº–å‚™å¥½å†åº¦å‡ºç™¼ï¼ŒæŠŠä½ å€‘ä¸€è·¯æ‹‰é€²ä¸‹ä¸€æ®µè¿½é€ã€‚</p>
<p>Shigure çµ‚æ–¼è¶•åˆ°ï¼Œè§£é‡‹è‡ªå·±è½äº†å»ºè­°ï¼Œæš«æ™‚ä¸å†ç©¿ Sekiseigumi çš„åˆ¶æœï¼Œæ–¼æ˜¯è·‘å» Kogane Dori è²·äº†ä¸€èº«å®Œå…¨ä¸åƒå¹³å¸¸çš„ç©¿è‘—ã€‚Hildibrand å’Œ Nashu éƒ½ç¨±è®šé€™æ¨£å¥½å¤šäº†ï¼ŒNashu ç”šè‡³èªªæ²’æƒ³åˆ°ä»–ä¹Ÿèƒ½é€™éº¼ã€Œæ™‚é«¦ã€ï¼›Wolf Burglar å»å˜´ä¸Šä¸é¥’äººï¼Œè¦ºå¾—é€™å¥—æ­ä¸Šè‰å±¥ä¹Ÿä¸æœƒæˆç‚ºæ½®æµï¼Œä½†ä»–å¾ˆå¿«æŠŠè©±é¡Œæ‹‰å›æ­£äº‹ï¼šå¦‚æœ Yojimbo çœŸçš„æ˜¯è¡è‘— Ame-no-Murakumo å»ï¼Œé‚£ç›®æ¨™å°±åªèƒ½æ˜¯ Isle of Zekkiã€‚å¯ä¸è«–èµ°ç©ºè·¯é‚„æ˜¯èµ°æ°´ä¸‹é€šé“ï¼Œéƒ½ä¸å¥½è¾¦ï¼›Shigure ç›´è¨€æ²’æœ‰ Kojin çš„ç¥ç¦ï¼Œæ°´ä¸‹é‚£æ¢è·¯å¹¾ä¹ä¸å¯èƒ½ã€‚ç•¶ä½ å€‘æåˆ° Montaroï¼ŒWolf Burglar åªå†·ç¬‘èªªé‚£éš»é³¥åœ¨ç¶“æ­·éå…ˆå‰çš„äº‹å¾Œï¼Œææ€•æ—©å°±èº²å¾—é é çš„äº†ã€‚</p>
<p>åœ¨çœŸæ­£å‹•èº«å‰ï¼ŒHildibrand ç›´æ¥å•äº† Wolf Burglar ä¸€å€‹ä½ å€‘ä¸€ç›´æ²’é€¼ä»–èªªæ¸…æ¥šçš„å•é¡Œï¼šæ—¢ç„¶ Koju éƒ½èªªéååˆ€é›£ä»¥å‡ºæ‰‹ï¼Œç‚ºä»€éº¼ä»–ç•¶åˆé‚„è¦å» Akebono é‚£è£¡å¥ªèµ° Soboro Sukehiroï¼ŸWolf Burglar æ²’æœ‰é–ƒèº²ï¼Œåªèªªé‚£ä¸æ˜¯ã€Œå·ã€ï¼Œè€Œæ˜¯æŠŠè¢«å¥ªèµ°çš„æ±è¥¿æ‹¿å›ä¾†ã€‚ä»–èªª Akebono ç”¨å‘åŠ£æ‰‹æ®µæŠŠåˆ€å¾çœŸæ­£çš„ä¸»äººæ‰‹è£¡æ’¬èµ°â€”â€”é‚£æ˜¯ä¸€åç”Ÿæ´»ç°¡æ¨¸çš„æ­¦å£«ï¼Œä¹Ÿæ˜¯ä¸€å€‹ä¸æœƒæ‹’çµ•ä¼¸æ‰‹çš„äººï¼Œç”šè‡³æ”¶ç•™äº†åœ¨ Doma è¢«å é ˜æ™‚é€ƒé›£ä¾†çš„å¹´å¹¼ Lupin ç”·å­©ï¼Œå…©äººåƒçˆ¶å­ä¸€æ¨£ç›¸ä¾ç‚ºå‘½ã€‚</p>
<p>Wolf Burglar æ¥è‘—æŠŠé‚£æ®µéå»è¬›å¾—æ›´æ¸…æ¥šï¼šä¸€åå•†äººä¸Šé–€æƒ³è²·æ­¦å£«çš„åˆ€ï¼Œæƒ³ç”¨é‡‘éŒ¢æ›èµ°ä»–å”¯ä¸€çš„çæ„›ä¹‹ç‰©ï¼›æ­¦å£«æ‹’çµ•ï¼Œå› ç‚ºåˆ€å°±æ˜¯æ­¦å£«çš„éˆé­‚ã€‚å•†äººå»ä¸è‚¯ç½·ä¼‘ï¼Œè½‰è€Œé‘½é€²æ­¦å£«çš„ç”Ÿæ´»èˆ‡å¸³ç›®â€”â€”å…ˆæ˜¯å°é¡å€Ÿæ¬¾ï¼Œå†è®Šæˆæ›´å¤§ã€æ›´å¤§ï¼Œç›´åˆ°æ­¦å£«åœ¨ä¸çŸ¥ä¸è¦ºé–“èƒŒè² ä¸€åº§å‚µå±±ï¼Œåªèƒ½æŠŠåˆ€æŠ¼ä½œæŠµæŠ¼ã€‚æ­¦å£«æ—¥å¤œæ‹šå‘½æƒ³è´–å›åè­½ï¼Œå»å› é«”å¼±è€Œç—…å€’ï¼Œæœ€çµ‚éä¸–ï¼Œåªç•™ä¸‹é‚£å Lupin ç”·å­©ç¨è‡ªé¢å°é€™å€‹ä¸è¬›ç†çš„ä¸–ç•Œã€‚å¤šå¹´å¾Œï¼Œç”·å­©å¾ Yanxia å›ä¾†ï¼Œå­¸æœƒäº† shinobi çš„æœ¬äº‹ï¼Œä¸€é‚Šä»¥è‡ªå·±çš„æ–¹å¼å»å¹«åŠ©ä»–äººï¼Œä¸€é‚Šåªæƒ³æŠŠ Soboro Sukehiro å¥ªå›â€”â€”é‚£æ˜¯ä»–èˆ‡é¤Šçˆ¶ç›¸ä¼´æ­²æœˆè£¡æœ€å¾Œã€ä¹Ÿæ˜¯å”¯ä¸€ç•™ä¸‹çš„å½¢ç‰©ã€‚</p>
<p>è½åˆ°é€™è£¡ï¼ŒShigure æŠŠä¸€åˆ‡ä¸²èµ·ä¾†ï¼šWolf Burglar å¾é ­åˆ°å°¾ç›¯ä¸Šçš„å…¶å¯¦æ˜¯ Akebonoï¼Œè€Œå…ˆå‰åœ¨ Rakuza District çš„é—–å…¥ä¹Ÿåªæ˜¯ç‚ºäº†æ‰¾åˆ° Soboro Sukehiroã€‚Nashu é€™æ™‚æå‡ºä¸€å€‹æ›´ç¾å¯¦çš„ç–‘å•â€”â€”æ—¢ç„¶ Isle of Zekki é€™éº¼é›£åˆ°ï¼ŒYojimbo åˆ°åº•æ‰“ç®—æ€éº¼å»ï¼ŸShigure èªç‚ºç„¡è«–å¦‚ä½•ï¼Œåªè¦æœ‰äººç¶“éï¼Œå°±ä¸€å®šæœƒè¢«æŸäº›äººçœ‹è¦‹ï¼Œæ–¼æ˜¯å¸¶ä½ å€‘å» Sakazuki å‘æµ·ä¸Šå‹¢åŠ›å•è©±ã€‚æœ‰äººèªªé‚£æ¨£çš„æ—…äººä¸å¯èƒ½é€ƒéè‡ªå·±çš„çœ¼ç›ï¼Œåéä¾†ä¹Ÿå°±ä»£è¡¨ä»–æ²’çœ‹è¦‹ï¼›ä½†å¦ä¸€å Confederate çš„å®ˆæœ›è€…å»å›æ†¶èµ·ä¸€å€‹ç˜¦é•·çš„æ­¦å£«ï¼Œæˆ´è‘—å¯¬é‚Šæ–—ç¬ ï¼Œèº«é‚Šé‚„è·Ÿè‘—ä¸€æ¢ç‹—ï¼Œç¢ºå¯¦èªªéè¦å‰å¾€ Isle of Zekkiã€‚å°æ–¹é‚„è£œäº†ä¸€å¥ï¼šé‚£æ¢ç‹—ä¸ä¹…å‰ä¼¼ä¹åœ¨ä¸‹æ–¹çš„æµ·ç˜å¾˜å¾Šï¼Œä»–å¾ˆæ“”å¿ƒä¸»äººæ˜¯ä¸æ˜¯æŠŠç‰ ä¸Ÿä¸‹äº†ã€‚</p>
<p>ä½ å€‘è¶•åˆ°æµ·ç˜æ‰¾åˆ°äº† Daigoroï¼Œå¯ä»–å°ä½ å€‘å†·å†·æ·¡æ·¡ï¼Œä¸é¡˜é è¿‘ã€‚Wolf Burglar å»ç¤ºæ„ä½ åˆ¥æ€¥ï¼Œåªè¦çµ¦å°æ–¹ã€Œå°çš„èª˜å› ã€å°±è¡Œâ€”â€”ä¸‹ä¸€ç§’ï¼ŒDaigoro ç«‹åˆ»è¢«å¸å¼•ï¼Œèˆˆå¥®åœ°å—…è‘—ã€å«è‘—ï¼Œå¸¶è‘—ä½ å€‘å¾€å‰è¡ã€‚ä½ è·Ÿè‘—ä»–ä¸€è·¯è¿½å»ï¼Œçµ‚æ–¼æŠŠäººé€®åˆ°ï¼šYojimbo æ­£è¢«é€¼åˆ°é€€ç„¡å¯é€€ï¼Œä»æ‹’çµ•äº¤å‡ºåˆ€ï¼Œé‚„å®£ç¨±è‡ªå·±åœ¨è¢«ä½ å€‘ä¹‹ä¸­çš„æ²‰é»˜æˆ°å£«å£“åˆ¶å¾Œï¼Œä¸€ç›´æ¸´æœ›é›ªæ¥ï¼Œæ‰€ä»¥æ‰å»å°‹æ‰¾æ›´å¼·çš„ååŠï¼Œä¸¦æ–·è¨€ Ame-no-Murakumo æ‰æ˜¯ä»–èµ°å‘å‹åˆ©çš„é‘°åŒ™ã€‚Shigure æƒ³å‡ºè²åˆ¶æ­¢ï¼ŒHildibrand å»æ¶å…ˆç”¨ä»–é‚£å¥—ã€Œè«‡åˆ¤è¡“ã€æŠŠå±€é¢ç¡¬æ‹—éä¾†â€”â€”ä»–å¨è„…è¦å° Daigoro æ–½ä»¥æœ€çŒ›çƒˆçš„è‚šçš®æŒ‰æ‘©ï¼Œå‰å¥ª Yojimbo çš„å¿«æ¨‚ï¼Œé€¼å¾— Yojimbo é©šæ€’äº¤åŠ ï¼Œæœ€å¾Œç«ŸçœŸçš„å±ˆæœï¼Œèªªåˆ€å¯ä»¥äº¤å‡ºå»ã€‚å¯ä¸‹ä¸€ç¬é–“ï¼ŒYojimbo åˆé©šè¦º Soboro Sukehiro ä¸åœ¨ä»–ä»¥ç‚ºçš„ä½ç½®ï¼›Wolf Burglar å†·å†·èªªåˆ€ã€Œå°±åœ¨å®ƒè©²åœ¨çš„åœ°æ–¹ã€ï¼Œè½‰çœ¼é–“ Sekiseigumi è¿½å…µæ®ºåˆ°ï¼ŒWolf Burglar ç«‹åˆ»æ‹”è…¿é€ƒèµ°ï¼ŒYojimbo ä¹Ÿè¶äº‚éå»ï¼Œè€Œä½ å€‘çš„éº»ç…©å‰‡è½åœ¨ Shigure èº«ä¸Šã€‚</p>
<p>Shigure æ€¥å¿™å‘è¶•åˆ°çš„ Sekiseigumi è§£é‡‹ï¼šç‚ºäº†è¿½åˆ° Yojimbo å’Œ Soboro Sukehiroï¼Œä»–æ‰ä¸å¾—å·²æš«æ™‚æŠŠ Wolf Burglar å¾ç‰¢è£¡å¸¶å‡ºä¾†ï¼ŒåŸæœ¬å°±æ‰“ç®—æŠŠäººé€å›å»ã€‚å¯å°æ–¹ä¸æ¥å—é€™å¥—èªªæ³•ï¼Œç›´æ¥ä»¥å”åŠ©çŠ¯äººé€ƒäº¡çš„ç½ªåè¿½ç©¶ Shigureï¼Œä¸¦æŠŠä»–å¸¶èµ°ï¼Œå³ä½¿ Hildibrand ä¹Ÿåªèƒ½å¾’å‹æŠ—è­°ã€‚å›åˆ° Kugane å¾Œï¼ŒHildibrand æ°£æ†¤åœ°èªª Shigure è¢«ç•¶æˆæ™®é€šç½ªçŠ¯å¸¶èµ°æ˜¯åš´é‡çš„ä¸å…¬ï¼Œä¸¦å¦è¨€ä»–ä¸èªç‚º Wolf Burglar è¬›çš„æ­¦å£«èˆ‡ Akebono é‚£æ®µå¾€äº‹æ˜¯è¬Šè¨€ã€‚ç‚ºäº†è®“æ‰€æœ‰çœŸç›¸åœ¨ä¸ä¹…å¾Œå¾¹åº•æ”¤é–‹ï¼Œä»–æ±ºå®šç«‹åˆ»è‘—æ‰‹èª¿æŸ¥ Akebonoï¼Œè®“ä½ å…ˆç•™å®ˆåŸåœ°ï¼›è€Œåœ¨å¦ä¸€è™•ï¼ŒAkebono åªæ˜¯ä½è²å†·å“¼ï¼Œåƒæ˜¯æ—©å°±é æœŸé€™ä¸€å¤©çµ‚æœƒåˆ°ä¾†ï¼Œä¸¦å¸¶è‘—è©­ç•°çš„ç¯¤å®šç¬‘æ„ï¼Œå½·å½¿å¾ˆå¿«å°±å†æ²’æœ‰ä»»ä½•äº‹ç‰©èƒ½é€ƒå‡ºä»–çš„æŒæ¡ã€‚</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq: `<div class="stack">
  <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> å¸Œçˆ¾è¿ªå¸ƒè˜­å¾·ã€€ä¹è¡— <small class="muted">(X:12.1, Y:5.9)</small></div>
</div>`,
    unlockq: `<div class="stack">
  <div class="row"><a class="link" href="the-black-heart-beneath.html">æ½›è—å…¶ä¸‹çš„é»‘å¿ƒ</a></div>
</div>`,
    followq: `<div class="stack">
  <div class="row"><a class="link" href="the-past-is-never-past.html">å°å­˜æ–¼éå»çš„é—œéµè­‰ç‰©</a></div>
</div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }

function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected') === 'true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur === 'EN' ? 'JP' : (cur === 'JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

/* === Giscusï¼šComments åˆ†é  === */
const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};

function uiLang(code){
  return code === 'JP' ? 'ja' : (code === 'ZH' ? 'zh-TW' : 'en');
}

function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
