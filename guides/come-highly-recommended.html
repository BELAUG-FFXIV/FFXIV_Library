<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Come Highly Recommended | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ Come Highly Recommended (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    /* å±•é–‹/æ”¶åˆ */
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/qMFMs5go8X0"
              title="Come Highly Recommended" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Come Highly Recommended</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'Come Highly Recommended',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
      <p>With the Ala Mhigans finally safe for the moment, Meffrid turns his attention back to you. Grateful for all youâ€™ve done, he offers his assistance without hesitationâ€”whatever you ask, he will give if it lies within his power. When you mention seeking the cooperation of the people of Little Ala Mhigo, he smiles faintly, surprised at the simplicity of your request.</p>
      <p>He agrees readily and pens a letter of introduction for you to deliver to Gundobald, the leader of Little Ala Mhigo. Meffrid speaks of him with fond respectâ€”his old mentor in the Resistance, a man whose gruff exterior hides a fiercely protective heart. He assures you that Gundobald will offer whatever aid he can.</p>
      <p>When you arrive at Little Ala Mhigo, Gundobald greets you coldly, reminding you that outsiders are not welcome. Yet the moment he learns that you bear a letter from Meffrid, his expression softens. It has been years since he last heard from his former comrade, and relief washes over him like sunlight through clouds.</p>
      <p>â€œAny friend of Meffrid is a friend of mine,â€ he says warmly. With trust restored, Gundobald listens as you explain your purposeâ€”and promises to share what he knows about the masked stranger you seek.</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Meffrid <small class="muted">(South Shroud, X:25.6, Y:20.6)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="he-aint-heavy.html">He Ainâ€™t Heavy</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-bear-and-the-young-uns-cares.html">The Bear and the Youngâ€™unsâ€™ Cares</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'ãƒªãƒˆãƒ«ã‚¢ãƒ©ãƒŸã‚´å†ã³',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
      <p>ã‚¢ãƒ©ãƒŸã‚´ã®æ°‘ãŸã¡ãŒã‚ˆã†ã‚„ãè½ã¡ç€ãã‚’å–ã‚Šæˆ»ã—ãŸã“ã‚ã€ãƒ¡ãƒƒãƒ•ãƒªãƒƒãƒ‰ã¯æ”¹ã‚ã¦ã‚ãªãŸã«å‘ãç›´ã‚‹ã€‚ã“ã‚Œã¾ã§ã®åŠ©åŠ›ã«æ·±ãæ„Ÿè¬ã—ã€ã€Œè‡ªåˆ†ã«ã§ãã‚‹ã“ã¨ãªã‚‰ä½•ã§ã‚‚åŠ›ã«ãªã‚ã†ã€ã¨ç”³ã—å‡ºã‚‹ã€‚ã‚ãªãŸãŒã€Œãƒªãƒˆãƒ«ã‚¢ãƒ©ãƒŸã‚´ã®å”åŠ›ã‚’å¾—ãŸã„ã€ã¨å‘Šã’ã‚‹ã¨ã€å½¼ã¯å°‘ã—é©šã„ãŸã‚ˆã†ã«ç¬‘ã¿ã‚’æµ®ã‹ã¹ã€ã€Œãã‚Œã ã‘ã®ã“ã¨ã‹ã€ã¨é ·ã„ãŸã€‚</p>
      <p>å½¼ã¯ã™ãã«ãƒªãƒˆãƒ«ã‚¢ãƒ©ãƒŸã‚´ã®æŒ‡å°è€…ã‚¬ãƒ³ãƒ‰ãƒãƒ«ãƒ‰å®›ã¦ã®ç´¹ä»‹çŠ¶ã‚’æ›¸ãä¸Šã’ã‚‹ã€‚ãƒ¡ãƒƒãƒ•ãƒªãƒƒãƒ‰ã«ã¨ã£ã¦ã‚¬ãƒ³ãƒ‰ãƒãƒ«ãƒ‰ã¯ã€è§£æ”¾è»ã«åŠ ã‚ã£ãŸã°ã‹ã‚Šã®é ƒã®å¸«ã§ã‚ã‚Šã€å¤–è¦‹ã“ãå³ã¤ã„ãŒã€ä»²é–“ã‚’èª°ã‚ˆã‚Šã‚‚å¤§åˆ‡ã«ã™ã‚‹ç”·ã ã¨ã„ã†ã€‚å½¼ã¯å¿…ãšåŠ›ã«ãªã£ã¦ãã‚Œã‚‹ã ã‚ã†ã€ã¨ãƒ¡ãƒƒãƒ•ãƒªãƒƒãƒ‰ã¯ã‚ãªãŸã‚’åŠ±ã¾ã™ã€‚</p>
      <p>ãƒªãƒˆãƒ«ã‚¢ãƒ©ãƒŸã‚´ã‚’è¨ªã‚Œã‚‹ã¨ã€ã‚¬ãƒ³ãƒ‰ãƒãƒ«ãƒ‰ã¯é™ºã—ã„è¡¨æƒ…ã§ã‚ãªãŸã‚’è¿ãˆã‚‹ã€‚ã€Œã“ã“ã¯ã‚ˆãè€…ã‚’å—ã‘å…¥ã‚Œã‚‹å ´æ‰€ã§ã¯ãªã„ã€ã¨å†·ãŸãè¨€ã„æ”¾ã¤ã€‚ã—ã‹ã—ã€ã‚ãªãŸãŒãƒ¡ãƒƒãƒ•ãƒªãƒƒãƒ‰ã‹ã‚‰ã®æ‰‹ç´™ã‚’å·®ã—å‡ºã™ã¨ã€å½¼ã®æ…‹åº¦ã¯ä¸€å¤‰ã—ãŸã€‚é•·ã„é–“æ¶ˆæ¯ã®é€”çµ¶ãˆã¦ã„ãŸæ—§å‹ã®ç„¡äº‹ã‚’çŸ¥ã‚Šã€å®‰å µã¨å–œã³ãŒãã®é¡”ã«åºƒãŒã‚‹ã€‚</p>
      <p>ã€Œãƒ¡ãƒƒãƒ•ãƒªãƒƒãƒ‰ã®å‹ã¯ã€ä¿ºã®å‹ã§ã‚‚ã‚ã‚‹ã€ã¨ã€å½¼ã¯æŸ”ã‚‰ã‹ã„å£°ã§å‘Šã’ã‚‹ã€‚ãã—ã¦ã‚ãªãŸã®ç›®çš„ã‚’èãã€ä»®é¢ã®ç”·ã«ã¤ã„ã¦çŸ¥ã‚‹é™ã‚Šã®æƒ…å ±ã‚’ä¼ãˆã‚‹ã“ã¨ã‚’ç´„æŸã™ã‚‹ã®ã ã£ãŸã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ¡ãƒ•ãƒªãƒƒãƒ‰ã€€é»’è¡£æ£®ï¼šå—éƒ¨æ£®æ— <small class="muted">(X:25.6, Y:20.6)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="he-aint-heavy.html">ç•°é‚¦ã®çµ†</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-bear-and-the-young-uns-cares.html">å¯†ã‹ãªä¼ã¿</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'å†è¨ªå°é˜¿æ‹‰ç±³æ ¼',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
      <p>éš¨è‘— Ala Mhigan äººæ°‘æš«æ™‚ç²å¾—å–˜æ¯ä¹‹æ©Ÿï¼ŒMeffrid è½‰å‘ä½ ï¼Œèªæ°£ä¸­æ»¿æ˜¯æ„Ÿæ¿€ã€‚ä»–èªªä½ æ˜¯çœŸæ­£çš„æœ‹å‹ï¼Œåªè¦ä»–æœ‰èƒ½åŠ›ï¼Œé¡˜å‚¾åŠ›ç›¸åŠ©ã€‚ç•¶ä½ æå‡ºå¸Œæœ›ç²å¾— Little Ala Mhigo çš„å”åŠ©æ™‚ï¼Œä»–éœ²å‡ºä¸€çµ²å¾®ç¬‘ï¼Œä¼¼ä¹è¦ºå¾—ä½ çš„è«‹æ±‚å‡ºä¹æ„æ–™åœ°å–®ç´”ã€‚</p>
      <p>Meffrid å¾ˆå¿«æç­†ï¼Œå¯«ä¸‹ä¸€å°æ¨è–¦ä¿¡äº¤çµ¦ä½ ï¼Œè®“ä½ å¸¶å»çµ¦ Little Ala Mhigo çš„é ˜è¢– Gundobaldã€‚ä»–æåˆ°é€™ä½èˆŠæ—¥å°å¸«æ™‚èªæ°£å……æ»¿æ•¬æ„â€”â€”é‚£æ˜¯ä»–å‰›åŠ å…¥åæŠ—è»æ™‚çš„æ©å¸«ï¼Œä¸€ä½å¤–è¡¨åš´å²ã€å…§å¿ƒå»æ¥µå…·è²¬ä»»æ„Ÿçš„äººã€‚Meffrid ç›¸ä¿¡ Gundobald ä¸€å®šæœƒç«­ç›¡æ‰€èƒ½åœ°å¹«åŠ©ä½ ã€‚</p>
      <p>æŠµé” Little Ala Mhigo å¾Œï¼ŒGundobald èµ·åˆç¥æƒ…å†·å³»ï¼Œæé†’ä½ å¤–ä¾†è€…ä¸å—æ­¡è¿ã€‚ç„¶è€Œç•¶ä»–çœ‹è¦‹ä½ å‡ºç¤ºçš„ Meffrid æ¨è–¦ä¿¡æ™‚ï¼Œæ…‹åº¦ç«‹åˆ»è»ŸåŒ–ã€‚å¾—çŸ¥èˆŠå‹ä»ç„¶å¹³å®‰ï¼Œä»–çš„è‡‰ä¸Šæµ®ç¾å‡ºä¹…é•çš„å¯¬æ…°èˆ‡æ‡·å¿µã€‚</p>
      <p>ã€ŒMeffrid çš„æœ‹å‹ï¼Œå°±æ˜¯æˆ‘çš„æœ‹å‹ã€‚ã€Gundobald å¦‚æ­¤èªªé“ï¼Œèªæ°£ä¸­å¸¶è‘—çœŸèª çš„æº«åº¦ã€‚è½å®Œä½ çš„ä¾†æ„å¾Œï¼Œä»–æ‰¿è«¾æœƒå‘Šè¨´ä½ é—œæ–¼é‚£åè’™é¢é™Œç”Ÿäººçš„ä¸€åˆ‡ç·šç´¢ã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> æ¢…å¼—é‡Œå¾·ã€€é»‘è¡£æ£®æ—å—éƒ¨ <small class="muted">(X:25.6, Y:20.6)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="he-aint-heavy.html">ç•°é‚¦ä¹‹å‹</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-bear-and-the-young-uns-cares.html">å¹•å¾Œçš„é™°è¬€</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

/* === Giscusï¼šComments åˆ†é  === */
const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
