<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>A New World to Explore | BELAUG FFXIV Library</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
  :root{
    --bg: #FFF8E9;              /* 鵝黃色主背景 */
    --bg-soft:#FFF2D8;          /* 漸層/卡片邊緣 */
    --card:#ffffff;
    --ink:#1f1f1f;
    --ink-soft:#666;
    --accent:#111;              /* 分頁選中底色 */
    --accent-ink:#fff;
    --radius:18px;
    --shadow: 0 10px 30px rgba(0,0,0,.06);
    --ring: 0 0 0 1px rgba(0,0,0,.06), 0 6px 18px rgba(0,0,0,.08);
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;}
  a{color:inherit}
  .wrap{max-width:1200px;margin:0 auto;padding:24px}

  /* 頂部：Home + 標題 + 語言 */
  .topbar{
    position:sticky; top:0; z-index:20;
    background:linear-gradient(180deg, var(--bg) 70%, rgba(255,248,233,0));
    backdrop-filter:saturate(110%) blur(2px);
    padding:14px 0 10px;
  }
  .row{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
  .home{
    display:inline-flex;align-items:center;gap:8px;
    padding:10px 14px;border-radius:999px;background:var(--card);box-shadow:var(--ring);
    cursor:pointer;font-weight:700;
  }
  .title{
    font-size:clamp(22px,3.2vw,32px);font-weight:800;padding:8px 14px;border-radius:14px;background:#FFF9ED;border:1px solid #F7E8C9;
    margin-left:4px; flex:1 1 auto;
  }
  .langs{display:flex;gap:8px;margin-left:auto}
  .pill{
    padding:8px 14px;border-radius:999px;background:var(--card);box-shadow:var(--ring);font-weight:700;cursor:pointer;
  }
  .pill.active{background:#111;color:#fff}

  /* 兩欄：影片 / 內容卡 */
  .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:24px;margin-top:12px}
  @media (max-width:980px){ .grid{grid-template-columns:1fr} }

  .video-card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px}
  .video-wrap{position:relative;width:100%;aspect-ratio:16/9;border-radius:12px;overflow:hidden}
  .meta{
    display:flex;gap:16px;flex-wrap:wrap;align-items:center;margin:14px 6px 2px;
  }
  .kv{color:var(--ink-soft)}
  .chip{padding:10px 14px;border-radius:14px;background:#fff;box-shadow:var(--ring);font-weight:700}
  .chip a{text-decoration:none}

  .content-card{
    background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);
    padding:18px 18px 8px;border:1px solid #F2E7CA;
  }
  .tabs{display:flex;gap:16px;flex-wrap:wrap;margin:6px 6px 14px}
  .tab{
    padding:14px 20px;border-radius:18px;background:#F6F2E8;border:1px solid #ECE1C8;font-weight:800;cursor:pointer;
  }
  .tab.active{background:var(--accent);color:var(--accent-ink)}
  .panel{display:none}
  .panel.active{display:block;animation:fade .18s ease-out}
  @keyframes fade{from{opacity:.3;transform:translateY(2px)}to{opacity:1;transform:none}}
  .h2{font-size:28px;font-weight:900;margin:0 6px 12px}
  .md{line-height:1.8;font-size:16.5px}
  .list{margin:0;padding-left:20px}
  .list li{margin:.4em 0}
</style>
</head>
<body>

  <div class="topbar">
    <div class="wrap">
      <div class="row">
        <a class="home" href="../index.html" aria-label="Back to Home">← Home</a>
        <div id="pageTitle" class="title">A New World to Explore</div>
        <div class="langs">
          <button class="pill" data-lang="EN">EN</button>
          <button class="pill" data-lang="JP">JP</button>
          <button class="pill active" data-lang="ZH">ZH</button>
        </div>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="grid">

      <!-- 左：影片 + 資訊卡 -->
      <section class="video-card">
        <div class="video-wrap">
          <iframe id="yt" width="100%" height="100%"
            src="https://www.youtube.com/embed/HMf2Ldtb36Y"
            title="A New World to Explore" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
        </div>

        <div class="meta">
          <div class="kv"><b>Series：</b><span id="seriesKV">Main Story (Dawntrail)</span></div>
          <div class="kv"><b>Expac：</b><span id="expacKV">DT</span></div>
          <div class="kv"><b>Patch：</b><span id="patchKV">7.0</span></div>
          <div class="chip"><a id="playlistBtn" href="https://www.youtube.com/playlist?list=PLtC2r5occXAk6_XFaZIPCBRJ9v0PC9rgt" target="_blank" rel="noopener">Playlist on YouTube</a></div>
        </div>
      </section>

      <!-- 右：分頁內容 -->
      <section class="content-card">
        <div class="tabs" id="tabs">
          <button class="tab active" data-panel="details">Details</button>
          <button class="tab" data-panel="acq">Acquisition</button>
          <button class="tab" data-panel="req">Requirements</button>
          <button class="tab" data-panel="unlock">Unlocks</button>
        </div>

        <div id="panel-details" class="panel active">
          <h2 class="h2" id="head-details">Details</h2>
          <div class="md" id="md-details">
            <!-- 動態填入 -->
          </div>
        </div>

        <div id="panel-acq" class="panel">
          <h2 class="h2" id="head-acq">Acquisition</h2>
          <ul class="list md" id="md-acq"></ul>
        </div>

        <div id="panel-req" class="panel">
          <h2 class="h2" id="head-req">Requirements</h2>
          <ul class="list md" id="md-req"></ul>
        </div>

        <div id="panel-unlock" class="panel">
          <h2 class="h2" id="head-unlock">Unlocks</h2>
          <ul class="list md" id="md-unlock"></ul>
        </div>
      </section>

    </div>
  </div>

<script>
/* ---------- 內容/i18n ---------- */
const DATA = {
  ytId: "HMf2Ldtb36Y",
  series: "Main Story (Dawntrail)",
  expac: "DT",
  patch: "7.0",
  playlist: "https://www.youtube.com/playlist?list=PLtC2r5occXAk6_XFaZIPCBRJ9v0PC9rgt",
  title: {
    EN: "A New World to Explore",
    JP: "新たなる冒険の世界",
    ZH: "嶄新的冒險"
  },
  tabs: {
    EN: { details:"Details", acq:"Acquisition", req:"Requirements", unlock:"Unlocks" },
    JP: { details:"詳細",   acq:"取得方法",       req:"参加条件",          unlock:"解放 / 次のクエスト" },
    ZH: { details:"詳情",   acq:"取得方式",       req:"參加條件",          unlock:"解鎖 / 下一個任務" }
  },
  details: {
    EN: `The journey begins anew at the main hall of the Baldesion Annex... Thus begins your exploration of the New World.`,
    JP: `旅の再始動は、バルデシオン分館の大広間から始まる... 「新世界」への探求が、今ここから始まる。`,
    ZH: `旅程自 Baldesion Annex 的大廳再次啟程... 探尋「新世界」的旅程，於焉展開。`
  },
  acq: {
    EN: [
      `Quest Giver: <b>Ojika Tsunjika</b>（Old Sharlayan → The Baldesion Annex）`,
      `Location: Old Sharlayan → The Baldesion Annex（x: 9.2, y: 11.3）`
    ],
    JP: [
      `クエスト受注: <b>オジカ・ツンジカ</b>（オールド・シャーレアン → バルデシオン分館）`,
      `場所: オールド・シャーレアン → バルデシオン分館（x: 9.2, y: 11.3）`
    ],
    ZH: [
      `任務發布者：<b>Ojika Tsunjika</b>（Old Sharlayan → The Baldesion Annex）`,
      `地點：Old Sharlayan → The Baldesion Annex（x: 9.2, y: 11.3）`
    ]
  },
  req: {
    EN: [
      `Prerequisite Quest: <a href="#" title="The Coming Dawn">The Coming Dawn</a>（Lv. 90）`,
      `Job: Any Disciple of War or Magic（excluding limited jobs, Lv. 90）`
    ],
    JP: [
      `前提クエスト：<a href="#">The Coming Dawn</a>（Lv. 90）`,
      `ジョブ：戦闘職または魔法職（限定ジョブを除く、Lv. 90）`
    ],
    ZH: [
      `前置任務：<a href="#">The Coming Dawn</a>（Lv. 90）`,
      `職業：所有戰鬥或魔法職（不含限定職業，等級 90）`
    ]
  },
  unlock: {
    EN: [`Leads to: <a href="#">The Nation of Tuliyollal</a>`],
    JP: [`次に続く：<a href="#">トゥリヨラルの国</a>`],
    ZH: [`解鎖 / 前往：<a href="#">The Nation of Tuliyollal</a>`]
  }
};

const qs = s => document.querySelector(s);
const qsa = s => [...document.querySelectorAll(s)];
const setHTML = (el, html) => el.innerHTML = html;

function renderLang(lang='ZH'){
  // 標題
  setHTML(qs('#pageTitle'), DATA.title[lang]);

  // Youtube（保留自動播放參數重設）
  qs('#yt').src = `https://www.youtube.com/embed/${DATA.ytId}`;

  // 影片下資訊
  setHTML(qs('#seriesKV'), DATA.series);
  setHTML(qs('#expacKV'), DATA.expac);
  setHTML(qs('#patchKV'), DATA.patch);
  qs('#playlistBtn').href = DATA.playlist;

  // Tabs 標籤
  const map = DATA.tabs[lang];
  const order = ['details','acq','req','unlock'];
  const labels = [map.details, map.acq, map.req, map.unlock];
  qsa('#tabs .tab').forEach((btn,i)=> btn.textContent = labels[i]);

  // 面板標題
  setHTML(qs('#head-details'), map.details);
  setHTML(qs('#head-acq'), map.acq);
  setHTML(qs('#head-req'), map.req);
  setHTML(qs('#head-unlock'), map.unlock);

  // 內容
  setHTML(qs('#md-details'), DATA.details[lang]);

  setHTML(qs('#md-acq'), DATA.acq[lang].map(li=>`<li>${li}</li>`).join(''));
  setHTML(qs('#md-req'), DATA.req[lang].map(li=>`<li>${li}</li>`).join(''));
  setHTML(qs('#md-unlock'), DATA.unlock[lang].map(li=>`<li>${li}</li>`).join(''));

  // 語言按鈕狀態
  qsa('.pill').forEach(p=>p.classList.toggle('active', p.dataset.lang===lang));
  localStorage.setItem('ffxiv-guide-lang', lang);
}

function wireTabs(){
  qsa('.tab').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const id = btn.dataset.panel;
      qsa('.tab').forEach(b=>b.classList.toggle('active', b===btn));
      qsa('.panel').forEach(p=>p.classList.toggle('active', p.id === 'panel-'+id));
    });
  });
}

function wireLangs(){
  qsa('.pill').forEach(p=>{
    p.addEventListener('click', ()=> renderLang(p.dataset.lang));
  });
}

// boot
wireTabs();
wireLangs();
renderLang(localStorage.getItem('ffxiv-guide-lang') || 'ZH');
</script>
</body>
</html>
