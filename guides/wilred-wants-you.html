<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wilred Wants You | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ Wilred Wants You (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    /* å±•é–‹/æ”¶åˆ */
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/Rq1ZmvqIeUQ"
              title="Wilred Wants You" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Wilred Wants You</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'Wilred Wants You',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
      <p>Hremfing greets you and relays a message from Wilredâ€”one of the fiery young leaders of Little Ala Mhigoâ€”who is impressed you gained Gundobaldâ€™s trust and wishes to speak with you. Wilred waits at a craggy area north of the settlement.</p>
      <p>When you meet Wilred he thanks you for coming and makes plain his suspicion: he wonders whether you are an agent of the Empire or some other power. His suspicions explode into anger when he believes you meddle in their affairs. He tests you in combat, surprised by your strength, yet vows that nothing less than death will force him and his fellows to abandon their cause.</p>
      <p>Wilred declares that they will obtain the power needed to overthrow the Empire and reclaim their homeland. Troubled by this, you return to Gundobald and report the youthâ€™s hostility and their intent. Gundobald is aghast that Wilred and his cronies would attack you, and fears that, left unchecked, their zeal could harm others and themselves. He exhorts patience and asks you to uncover the youthsâ€™ plans and bring word of anything you learn.</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Hremfing <small class="muted">(Southern Thanalan, X:16.9, Y:14.3)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="the-bear-and-the-young-uns-cares.html">The Bear and the Youngâ€™unsâ€™ Cares</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="big-trouble-in-little-ala-mhigo.html">Big Trouble in Little Ala Mhigo</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'ã‚ã‚‹é’å¹´ã®å‘¼ã³å‡ºã—',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
      <p>ãƒ˜ãƒ¬ãƒ ãƒ•ã‚£ãƒ³ã‚°ã¯ã‚ãªãŸã‚’è¿ãˆã€ãƒªãƒˆãƒ«ã‚¢ãƒ©ãƒŸã‚´ã®è‹¥è€…ãŸã¡ã®ä¸€äººã€ã‚¦ã‚£ãƒ«ãƒ¬ãƒƒãƒ‰ã‹ã‚‰ã®ä¼è¨€ã‚’ä¼ãˆã‚‹ã€‚ã‚¦ã‚£ãƒ«ãƒ¬ãƒƒãƒ‰ã¯ã€ã‚ãªãŸãŒã‚¬ãƒ³ãƒ‰ãƒãƒ«ãƒ‰ã®ä¿¡é ¼ã‚’å¾—ãŸã“ã¨ã«æ„ŸéŠ˜ã‚’å—ã‘ã¦ãŠã‚Šã€é›†è½åŒ—æ–¹ã®é™ºã—ã„å²©å ´ã§ä¼šãŠã†ã¨è¨€ã£ã¦ã„ã‚‹ã€‚</p>
      <p>ã‚ãªãŸãŒã‚¦ã‚£ãƒ«ãƒ¬ãƒƒãƒ‰ã¨è½ã¡åˆã†ã¨ã€å½¼ã¯ç‡ç›´ã«è©°å•ã™ã‚‹ã€‚å¸å›½ã®æ‰‹å…ˆã‹ã€ã‚ã‚‹ã„ã¯åˆ¥ã®å‹¢åŠ›ã«ä»•ãˆã¦ã„ã‚‹ã®ã‹ã¨ã€‚å•ã„è©°ã‚ã‚‰ã‚Œã‚‹ã¨å½¼ã¯æ¿€æ˜‚ã—ã€ä»²é–“ãŸã¡ã¨ã¨ã‚‚ã«ã‚ãªãŸã‚’æ’é™¤ã—ã‚ˆã†ã¨è¥²ã„ã‹ã‹ã‚‹ã€‚ã ãŒã€ã‚ãªãŸã®å¼·ã•ã«é©šãã¤ã¤ã‚‚ã€å½¼ã®æ±ºæ„ã¯å¤‰ã‚ã‚‰ãªã„â”€â”€ã„ã‹ãªã‚‹è„…ã—ã‚„é®åœ§ã‚’å—ã‘ã¦ã‚‚ã€æ­»ã‚’ä»¥ã¦ã—ã¦ã—ã‹é—˜å¿—ã‚’ã¸ã—æŠ˜ã‚‹ã“ã¨ã¯ã§ãã¬ã€ã¨ã€‚</p>
      <p>ã‚¦ã‚£ãƒ«ãƒ¬ãƒƒãƒ‰ã¯èªã‚‹ã€‚å¸å›½ã‚’æ‰“å€’ã™ã‚‹ãŸã‚ã®åŠ›ã‚’æ‰‹ã«ã—ã€ç¥–å›½ã‚’å–ã‚Šæˆ»ã™ã®ã ã¨ã€‚ã“ã‚Œã‚’å—ã‘ã€ã‚ãªãŸã¯ã‚¬ãƒ³ãƒ‰ãƒãƒ«ãƒ‰ã®ã‚‚ã¨ã¸æˆ»ã‚Šã€è‹¥è€…ãŸã¡ã®ç²—æš´ãªè¡Œå‹•ã¨è¨ˆç”»ã®ç‰‡é±—ã‚’ä¼ãˆã‚‹ã€‚ã‚¬ãƒ³ãƒ‰ãƒãƒ«ãƒ‰ã¯æ†‚æ…®ã®è¡¨æƒ…ã‚’æµ®ã‹ã¹ã€è‹¥è€…ãŸã¡ã®æ¿€æƒ…ãŒåˆ¶å¾¡ã•ã‚Œã­ã°ã€ä»–è€…ã‚’å‚·ã¤ã‘ã‹ã­ãªã„ã¨è­¦å‘Šã™ã‚‹ã€‚å¿è€ã®æ™‚ãŒæ¥ã¦ã„ã‚‹ã¨å½¼ã¯è«­ã—ã€ä½•ã‹æ´ã‚“ã ã‚‰å¿…ãšçŸ¥ã‚‰ã›ã¦ã»ã—ã„ã¨ã‚ãªãŸã«é ¼ã‚€ã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ•ãƒ¬ãƒ ãƒ•ã‚£ãƒ³ã‚°ã€€å—ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³ <small class="muted">(X:16.9, Y:14.3)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="the-bear-and-the-young-uns-cares.html">å¯†ã‹ãªä¼ã¿</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="big-trouble-in-little-ala-mhigo.html">è‹¥ãè¡€ã®æš´èµ°</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'ä¾†è‡ªå¹´è¼•äººçš„å‘¼å–š',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
      <p>Hremfing å‘ä½ è½‰é” Wilred çš„è¨Šæ¯ï¼šWilred èº«ç‚º Little Ala Mhigo çš„å¹´è¼•é ˜è¢–ä¹‹ä¸€ï¼Œå°ä½ èƒ½ç²å¾— Gundobald çš„ä¿¡ä»»æ„Ÿåˆ°è®šè³ï¼Œä¸¦ç´„ä½ åˆ°æ‘èŠåŒ—æ–¹çš„å²©å£‘è™•ç›¸è¦‹ã€‚</p>
      <p>èˆ‡ Wilred è¦‹é¢æ™‚ï¼Œä»–ç›´è¨€ç›¸å•ï¼šä½ åˆ°åº•åœ¨æ‰“æ¢ä»€éº¼ï¼Ÿæ˜¯å¸åœ‹æ´¾ä¾†çš„é–“è«œï¼Œé‚„æ˜¯åˆ¥æœ‰ä¾†æ­·ï¼Ÿç•¶ä»–ä»¥ç‚ºä½ åœ¨å¹²æ¶‰ä»–å€‘ä¹‹äº‹æ™‚ä¾¿å‹ƒç„¶å¤§æ€’ï¼Œä¸¦èˆ‡åŒé»¨å°ä½ å‹•æ‰‹ã€‚ä»–åœ¨äº¤æ‰‹ä¸­ç™¼ç¾ä½ çš„å¯¦åŠ›ï¼Œé©šè¨ä¹‹é¤˜ä»å …ç¨±ï¼Œé™¤éä»¥æ­»ç›¸é€¼ï¼Œå¦å‰‡ä»–èˆ‡åŒä¼´çµ•ä¸æœƒæ”¾æ£„ä»–å€‘çš„é¬¥å¿—ã€‚</p>
      <p>Wilred è¡¨ç¤ºï¼Œä»–å€‘è¦å–å¾—è¶³ä»¥æ¨ç¿» Empire çš„åŠ›é‡ï¼Œè—‰æ­¤å¥ªå›æ•…é„‰ã€‚ä½ å°‡æ­¤äº‹å›å ±çµ¦ Gundobaldï¼Œèªªæ˜å¹´è¼•äººæ…‹åº¦æ¿€é€²ä¸¦å¯èƒ½æ¡å–å±éšªè¡Œå‹•ã€‚Gundobald å° Wilred ç­‰äººç«Ÿæœƒå°ä½ å‹•æ‰‹æ„Ÿåˆ°éœ‡é©šï¼Œä¸¦æ“”å¿ƒè‹¥ä»»ç”±å…¶ç™¼å±•ï¼Œå¹´è¼•äººçš„ç†±è¡€æœƒå°è‡´å‚·äººæˆ–è‡ªå‚·çš„æ‚²åŠ‡ã€‚ä»–å›‘å’ä½ æŒçºŒé—œæ³¨ä¸¦åœ¨å–å¾—ä»»ä½•ç·šç´¢æ™‚ç«‹å³å›å ±ã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> èµ«å€«èŠ¬ã€€è–©ç´è˜­å—éƒ¨ <small class="muted">(X:16.9, Y:14.3)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="the-bear-and-the-young-uns-cares.html">å¹•å¾Œçš„é™°è¬€</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="big-trouble-in-little-ala-mhigo.html">å¤±æ§çš„ç†æƒ³</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

/* === Giscusï¼šComments åˆ†é  === */
const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
