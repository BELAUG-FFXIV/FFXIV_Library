<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Killing Him Softly | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ Killing Him Softly (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    /* å±•é–‹/æ”¶åˆ */
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/7VEHzVPhuOM"
              title="Killing Him Softly" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Killing Him Softly</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'Killing Him Softly',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
      <p>A desperate situation unfolds in Quarrymill, where Meffrid of the Ala Mhigan Resistance watches helplessly as one of his comrades, Gallien, succumbs to a festering wound. His pleas to the villagers are met with cold indifference, and only his lingering hope in Albredaâ€”an old friendâ€”remains.</p>
      <p>Moved by Meffridâ€™s urgency, you speak to Albreda, who reveals her torn heart. Though her roots tie her to the Ala Mhigan Resistance, her life in Quarrymill has taught her the price of disobedience to the elementals. The cost of defying their will could see the entire village banished. In quiet anguish, she points you toward Charline, a Hearer who might yet intervene.</p>
      <p>Charline listens with empathy, but her response is bound by ancient law. The will of the elementals is absolute, and they have denied the Ala Mhigans a place in the wood. Her hands tied, she sends you away with sorrow in her voice.</p>
      <p>Upon hearing the news, Meffridâ€™s fury erupts. Denied even a chance to save a dying friend, he curses the elementals and the suffocating order of the Twelveswood. The Ala Mhigan Resistance yearns not only for freedom from Garlemaldâ€”but from this forest that has turned its back on them.</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Meffrid <small class="muted">(South Shroud, X: 25.6 Y: 20.6)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="meeting-with-the-resistance.html">Meeting with the Resistance</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="helping-horn.html">Helping Horn</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'ç„¡æ…ˆæ‚²ãªç²¾éœŠ',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
      <p>ã‚¯ã‚©ãƒ¼ãƒªãƒ¼ãƒŸãƒ«ã§ã€ã‚¢ãƒ©ãƒŸã‚´è§£æ”¾è»ã®ãƒ¡ãƒƒãƒ•ãƒªãƒƒãƒ‰ã¯ã€ä»²é–“ã§ã‚ã‚‹ã‚¬ãƒªã‚¢ãƒ³ã®æ‚ªåŒ–ã—ãŸå‚·ã«æ‰‹ã‚’ã“ã¾ã­ã„ã¦ã„ãŸã€‚æ‘äººãŸã¡ã«æ•‘æ´ã‚’é ¼ã‚“ã ãŒã€å†·ãŸãæ‹’ã¾ã‚Œã€æœ€å¾Œã®æœ›ã¿ã¯æ—§çŸ¥ã®ã‚¢ãƒ«ãƒ–ãƒ¬ãƒ€ã«è¨—ã•ã‚Œã¦ã„ãŸã€‚</p>
      <p>ã‚ãªãŸã¯ãƒ¡ãƒƒãƒ•ãƒªãƒƒãƒ‰ã®æ€ã„ã‚’å—ã‘å–ã‚Šã€ã‚¢ãƒ«ãƒ–ãƒ¬ãƒ€ã‚’è¨ªã­ã‚‹ã€‚å½¼å¥³ã¯è‹¦æ‚©ã®è¡¨æƒ…ã§èªã‚‹â”€â”€ã‚¢ãƒ©ãƒŸã‚´è§£æ”¾è»ã¸ã®æ€ã„ã¯æ¶ˆãˆã¦ã„ãªã„ãŒã€ã‚¯ã‚©ãƒ¼ãƒªãƒ¼ãƒŸãƒ«ã§ã®ç”Ÿæ´»ã‚’é€šã˜ã¦ã€ç²¾éœŠã®æ„å¿—ã«é€†ã‚‰ã†ã“ã¨ã®æã‚ã—ã•ã‚’å­¦ã‚“ã ã¨ã„ã†ã€‚ã‚‚ã—ç¦ã‚’ç ´ã‚Œã°ã€æ‘å…¨ä½“ãŒè¿½æ”¾ã•ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚æ‚©ã‚“ã æœ«ã€å½¼å¥³ã¯æ‘ã®å¹»è¡“å£«ã§ã‚ã‚‹ã‚·ãƒ£ãƒ«ãƒªãƒ¼ãƒŒã®ã‚‚ã¨ã‚’è¨ªã­ã‚‹ã‚ˆã†ææ¡ˆã™ã‚‹ã€‚</p>
      <p>ã‚·ãƒ£ãƒ«ãƒªãƒ¼ãƒŒã¯ã‚ãªãŸã®è©±ã«è€³ã‚’å‚¾ã‘ã‚‹ã‚‚ã€ç­”ãˆã¯ç„¡æƒ…ã ã£ãŸã€‚ç²¾éœŠã®æ„å¿—ã¯çµ¶å¯¾ã§ã‚ã‚Šã€ã‚¢ãƒ©ãƒŸã‚´ã®æ°‘ã®å˜†é¡˜ã¯ã™ã§ã«é€€ã‘ã‚‰ã‚Œã¦ã„ãŸã€‚å¤–ã®è€…ãŒæ£®ã®æµã¿ã‚’å—ã‘ã‚‹ã«ã¯ã€å¤œã®å¯©åˆ¤ã‚’çµŒã¦è¨±ã—ã‚’å¾—ã‚‹å¿…è¦ãŒã‚ã‚‹â”€â”€ãã‚ŒãŒå¤ãã‹ã‚‰ã®æ±ºã¾ã‚Šã§ã‚ã‚Šã€ä»Šã‚‚å¤‰ã‚ã‚‰ãªã„ã€‚</p>
      <p>ãã®å ±ã›ã‚’å—ã‘ãŸãƒ¡ãƒƒãƒ•ãƒªãƒƒãƒ‰ã¯æ€’ã‚Šã‚’éœ²ã‚ã«ã™ã‚‹ã€‚æ­»ã«ã‚†ãä»²é–“ã‚’æ•‘ã†è¡“ã™ã‚‰ä¸ãˆã‚‰ã‚Œãšã€å½¼ã¯ç²¾éœŠã¨ãƒˆã‚¥ãƒ¯ã‚¤ãƒ³å¤§æ£®æ—ã®æŸã‚’å‘ªã£ãŸã€‚ã‚¢ãƒ©ãƒŸã‚´è§£æ”¾è»ãŒæ±‚ã‚ã¦ã„ã‚‹ã®ã¯ã€ã‚¬ãƒ¬ãƒãƒ¼ãƒ«å¸å›½ã‹ã‚‰ã®è‡ªç”±ã ã‘ã§ã¯ãªã„ã€‚ã“ã®æ£®ã®æŸç¸›ã‹ã‚‰ã®è§£æ”¾ã§ã‚‚ã‚ã‚‹ã®ã ã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ¡ãƒ•ãƒªãƒƒãƒ‰ã€€é»’è¡£æ£®ï¼šå—éƒ¨æ£®æ— <small class="muted">(X: 25.6 Y: 20.6)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="meeting-with-the-resistance.html">ã‚¢ãƒ©ãƒŸã‚´è§£æ”¾è»ã‚’çŸ¥ã‚‹è€…</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="helping-horn.html">è§’è–¬ãŒç¹‹ãç¸</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'ç„¡æƒ…çš„æ£®éˆ',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
      <p>åœ¨ Quarrymillï¼ŒAla Mhigan åæŠ—è»çš„ Meffrid ç„¡åŠ©åœ°çœ‹è‘— Gallien å‚·å£æ½°çˆ›ã€å‘½åœ¨æ—¦å¤•ã€‚ä»–æ›¾æ‡‡æ±‚æ‘æ°‘æ´æ‰‹ï¼Œå»åªæ›ä¾†å†·æ¼ çš„æ‹’çµ•ã€‚å¦‚ä»Šï¼Œä»–å”¯ä¸€çš„å¸Œæœ›åªå‰©ä¸‹èˆŠå‹ Albredaã€‚</p>
      <p>ä½ ä¾ Meffrid ä¹‹è¨—å‰å¾€å°‹æ‰¾ Albredaã€‚å¥¹æ»¿æ‡·çŸ›ç›¾åœ°èªªé“ï¼šé›–ç„¶å¿ƒç¹« Ala Mhigan åæŠ—è»ï¼Œä½†åœ¨ Quarrymill çš„ç”Ÿæ´»è®“å¥¹æ˜ç™½ï¼Œé•æŠ—ç²¾éˆçš„æ„å¿—æœƒä»˜å‡ºå¯æ€•ä»£åƒ¹â€”â€”æ•´å€‹æ‘èŠéƒ½å¯èƒ½é­æ”¾é€ã€‚æ‡·è‘—ç—›è‹¦èˆ‡æ­‰æ„ï¼Œå¥¹å°‡å¸Œæœ›è¨—ä»˜çµ¦æ‘ä¸­çš„å¹»è¡“å£«â”€â”€Charlineã€‚</p>
      <p>Charline è½å®Œå¾Œèªå¸¶æ†æ†«ï¼Œå»ç„¡æ³•æ”¹è®Šçµæœã€‚ç²¾éˆçš„æ„å¿—è‡³é«˜ç„¡ä¸Šï¼Œä»–å€‘å·²æ‹’çµ•è®“ Ala Mhigan äººæ°‘åœ¨é€™ç‰‡æ£®æ—ä¸­ç«‹è¶³ã€‚å—åˆ¶æ–¼å¤è€çš„å¾‹æ³•ï¼ŒCharline åªèƒ½ç„¡å¥ˆåœ°é€ä½ é›¢é–‹ã€‚</p>
      <p>ç•¶ä½ å°‡æ¶ˆæ¯è½‰é”çµ¦ Meffrid æ™‚ï¼Œä»–çš„æ†¤æ€’çµ‚æ–¼çˆ†ç™¼ã€‚é€£æ•‘åŠ©å‚æ­»æˆ°å‹çš„æ©Ÿæœƒéƒ½è¢«å¥ªèµ°ï¼Œä»–å’’ç½µç²¾éˆèˆ‡é‚£ä»¤äººçª’æ¯çš„è¦æ¢ã€‚Ala Mhigan åæŠ—è»æ¸´æœ›çš„è‡ªç”±ï¼Œä¸åƒ…æ˜¯è„«é›¢ Garlemald çš„æ”¯é…ï¼Œæ›´æ˜¯æ“ºè„«é€™ç‰‡èƒŒæ£„äº†ä»–å€‘çš„æ£®æ—ã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> æ¢…å¼—é‡Œå¾·ã€€é»‘è¡£æ£®æ—å—éƒ¨ <small class="muted">(X: 25.6 Y: 20.6)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="meeting-with-the-resistance.html">èˆ‡åæŠ—è»çš„æœƒé¢</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="helping-horn.html">å› è—¥çµç·£</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

/* === Giscusï¼šComments åˆ†é  === */
const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
