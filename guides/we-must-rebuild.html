<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>We Must Rebuild | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ We Must Rebuild (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/4pf4t3FnVmY"
              title="We Must Rebuild" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">We Must Rebuild</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'We Must Rebuild',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest' },
    story:`<p>At Momodiâ€™s suggestion, the Warrior of Light steps beyond the gates of Ulâ€™dah and into the wilds of Thanalan. There, at the Ulâ€™dah Dispatch Yard, they meet Papashanâ€”the humble stationmaster who recalls the devastation of the Calamity and the years of rebuilding that followed.</p>
    <p>Though Ulâ€™dah has regained its splendor through unity and toil, many remote regions still lie in ruin. Papashan entrusts the adventurer with the first of many tasks, calling on their strength to bring relief to a world still healing.</p>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Momodi <small class="muted">(Ulâ€™dah - Steps of Nald, X:11.6, Y:9.6)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="#">Close to Home</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="#">Nothing to See Here</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'ã‚¦ãƒ«ãƒ€ãƒæ“è»Šåº«ã¸',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ' },
    story:`<p>ãƒ¢ãƒ¢ãƒ‡ã‚£ã®åŠ©è¨€ã‚’å—ã‘ã€å†’é™ºè€…ã¯ã‚¦ãƒ«ãƒ€ãƒã®é–€ã‚’è¶Šãˆã€ã‚µã‚¶ãƒ³ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³ã®è’é‡ã¸ã¨è¶³ã‚’è¸ã¿å‡ºã™ã€‚ãã“ã§å‡ºä¼šã£ãŸã®ã¯ã€æ“è»Šåº«ã‚’é ã‹ã‚‹è€ãƒ©ãƒ©ãƒ•ã‚§ãƒ«ã€ãƒ‘ãƒ‘ã‚·ãƒ£ãƒ³ã€‚å½¼ã¯å¤©ç½ã€Œã‚«ãƒ«ãƒ†ãƒãƒ¼ã®æˆ¦ã„ã€ã®å‚·è·¡ã¨ã€ãã®å¾Œã®å¾©èˆˆã®æ­³æœˆã‚’é™ã‹ã«èªã‚‹ã€‚</p>
    <p>ã‚¦ãƒ«ãƒ€ãƒã¯äººã€…ã®åŠªåŠ›ã§å†ã³ç¹æ „ã‚’å–ã‚Šæˆ»ã—ãŸãŒã€æœªã æ•‘ã„ã‚’å¾…ã¤è¾ºå¢ƒã®åœ°ã¯å¤šã„ã€‚ãã‚“ãªå½¼ã®æƒ³ã„ã‚’è¨—ã•ã‚Œã€å†’é™ºè€…ã¯æ–°ãŸãªã‚‹ä½¿å‘½ã¸ã¨æ­©ã¿å‡ºã™ã€‚</p>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ¢ãƒ¢ãƒ‡ã‚£ <small class="muted">ï¼ˆã‚¦ãƒ«ãƒ€ãƒï¼šãƒŠãƒ«å›å»Š, X:11.6, Y:9.6ï¼‰</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="#">å†’é™ºè€…ã¸ã®æ‰‹å¼•ã</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="#">ç¾å‘³ã—ã„å·®ã—å…¥ã‚Œ</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'é‡å»ºä¹‹è·¯',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™' },
    story:`<p>åœ¨ Momodi çš„å¼•å°ä¸‹ï¼Œå…‰ä¹‹æˆ°å£«è¸å‡º Ulâ€™dah çš„åŸé–€ï¼Œä¾†åˆ° Thanalan çš„è’é‡åœ°å¸¶ã€‚åœ¨ Ulâ€™dah Dispatch Yardï¼Œè¿æ¥ä»–çš„æ˜¯å¹´é‚çš„ç«™é•· Papashanã€‚</p>
    <p>é€™ä½æ›¾æ­·ç¶“å¤©ç½å¾Œé‡å»ºæ­²æœˆçš„ Lalafellï¼Œéœéœè¨´èªªè‘—éå»çš„å‰µå‚·èˆ‡äººæ°‘ä¸æ‡ˆçš„åŠªåŠ›ã€‚é›–ç„¶ Ulâ€™dah å·²æ¢å¾©ç¹è¯ï¼Œé‚Šå¢ƒåœ°å€ä»æœ‰è«¸å¤šè‹¦é›£æœªè§£ã€‚å¦‚ä»Šï¼Œä»–å°‡å¸Œæœ›å¯„è¨—æ–¼é€™ä½å†’éšªè€…ï¼ŒæœŸæœ›èƒ½ç‚ºé€™ç‰‡å°šåœ¨ç™‚å‚·çš„å¤§åœ°å¸¶ä¾†æ–°ç”Ÿã€‚</p>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> è«è«è¿ª <small class="muted">ï¼ˆçƒçˆ¾é”å“ˆ - ç´çˆ¾å¤§é–€éšå±¤, X:11.6, Y:9.6ï¼‰</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="#">å†’éšªå•Ÿç¨‹</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="#">ç„¡å‚·å¤§é›…çš„å°æ’æ›²</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}
function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  panels[key].innerHTML = t[key];
}
tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});
langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});
applyLang(getLang());
</script>
</body>
</html>
