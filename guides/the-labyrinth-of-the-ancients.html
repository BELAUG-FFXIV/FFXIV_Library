<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Labyrinth of the Ancients | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="FFXIV ARR 2.1 Alliance Raid â€” The Labyrinth of the Ancientsï¼ˆå¤ä»£ã®æ°‘ã®è¿·å®® / é å¤è¿·å®®ï¼‰ï¼šæ•…äº‹æ¦‚è¦ã€éœ€æ±‚æ¢ä»¶ã€è§£é–ä»»å‹™èˆ‡å¾ŒçºŒä»»å‹™ï¼Œé™„å½±ç‰‡ã€‚">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#ffffff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif; background:var(--bg); color:var(--fg);}
    .container{max-width:1080px; margin:0 auto; padding:0 16px}
    .site-header{border-bottom:1px solid var(--border); background:#fff9edb3; backdrop-filter:saturate(120%) blur(6px); position:sticky; top:0; z-index:10}
    .nav{display:flex; align-items:center; justify-content:space-between; height:60px}
    .left{display:flex; align-items:center; gap:12px}
    .home{border:1px solid var(--border); background:#fff; padding:4px 8px; border-radius:8px; text-decoration:none; color:var(--fg); font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex; align-items:center; gap:8px}
    .icon-btn{background:none; border:none; cursor:pointer; font-size:14px; padding:6px 10px; border-radius:8px}
    .icon-btn:hover{background:#fff; border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid; grid-template-columns:1.1fr 1fr; gap:20px; align-items:start;}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative; padding-top:56.25%}
      .video-wrap iframe{position:absolute; inset:0; width:100%; height:100%}
    }
    .card{background:var(--card); border:1px solid var(--border); border-radius:16px; box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px; border-bottom:1px solid var(--border); font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%; height:420px; border:0; display:block; border-radius:16px}
    .tabs{display:flex; gap:8px; padding:12px 12px 0; flex-wrap:wrap}
    .tab-btn{background:#fff; border:1px solid var(--border); color:var(--fg); border-radius:999px; padding:8px 14px; cursor:pointer; font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent); color:#fff; background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex; flex-direction:column; gap:10px}
    .stack .row{padding:12px 14px; border:1px dashed var(--border); border-radius:12px; background:#fffdf6}

    /* âœ… two-column dashed row (left label bold, right content LEFT-aligned) */
    .row.two-col{
      display:grid;
      grid-template-columns: 220px 1fr;
      column-gap: 14px;
      align-items:center;
    }
    .row.two-col .label{
      font-weight:800; /* Unlock Trial è¦ç²—é«” */
      color:var(--fg);
      white-space:nowrap;
    }
    .row.two-col .value{
      text-align:left;   /* å³æ¬„æ–‡å­—é å·¦ï¼Œä¸è¦é å³ */
      justify-self:start;
      min-width:0;
    }

    .link{color:#0b60d8; text-decoration:none}
    .link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/rdOM_UEg-9I" title="The Labyrinth of the Ancients" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">The Labyrinth of the Ancients</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true" data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="req">Requirements</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlock">Follow-Up Quest</button>
          <!-- âœ… BGM tab after Follow-Up Quest -->
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="bgm">BGM</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story" class="tab-panel active"></div>
          <div id="panel-acq" class="tab-panel"></div>
          <div id="panel-req" class="tab-panel"></div>
          <div id="panel-unlock" class="tab-panel"></div>
          <!-- âœ… BGM panel -->
          <div id="panel-bgm" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script>
    const LANG_KEY = 'ffxiv-guide-lang';

    const i18n = {
      EN:{
        langLabel:'EN',
        pageTitle:'The Labyrinth of the Ancients',
        tabs:{story:'Story', req:'Requirements', acq:'Unlock Quest', unlock:'Follow-Up Quest', bgm:'BGM', comments:'Comments'},
        story:`<p>With the help of Cid nan Garlond, members of the expedition to the Crystal Tower have successfully penetrated the defenses of the Eight Sentinels. The ancient Allagan structure is not so easily entered, however, and the Labyrinth of the Ancients now awaits the fellowship of NOAH as they seek the ultimate prize.</p>`,
        req:`<div class="stack">
          <div class="row"><strong>Players:</strong> 1â€“8 players (3 parties of 1 Tank, 2 Healers, 5 DPS)</div>
          <div class="row">â€» Three parties with at least one member each are necessary when Unrestricted Party requirements are in effect.</div>
          <div class="row"><strong>Class/Job:</strong> Disciples of War or Magic</div>
          <div class="row">â€» Limited jobs can participate only in a preformed party meeting party size requirements or an unrestricted party, and if duty rules allow.</div>
          <div class="row"><strong>Level:</strong> 50</div>
          <div class="row">â€» Level will be synced upon entry.</div>
          <div class="row"><strong>Average Item Level:</strong> 50</div>
          <div class="row">â€» While synced, all item stats are adjusted.</div>
          <div class="row"><strong>Alliance Registration</strong></div>
          <div class="row">â€» Role and item level restrictions are lifted for 24-member alliances.</div>
        </div>`,
        acq:`<div class="stack">
          <div class="row"><a class="link" href="the-labyrinth-of-the-ancients.html">The Labyrinth of the Ancients</a></div>
        </div>`,
        unlock:`<div class="stack">
          <div class="row"><a class="link" href="for-prosperity.html">For Prosperity</a></div>
        </div>`,
        /* âœ… BGM rows: left label + right link (right side NOT right-aligned) */
        bgm:`<div class="stack">
          <div class="row two-col">
            <div class="label">Raids I No. 1</div>
            <div class="value"><a class="link" href="bgm-hubris.html">Hubrisï½œå‚²æ…¢ï½œç‹‚å¦„</a></div>
          </div>
          <div class="row two-col">
            <div class="label">Raids I No. 2</div>
            <div class="value"><a class="link" href="bgm-tumbling-down.html">Tumbling Downï½œå¥ˆè½ã¸ï½œå¢œå…¥æ·±æ·µ</a></div>
          </div>
        </div>`
      },

      JP:{
        langLabel:'JP',
        pageTitle:'å¤ä»£ã®æ°‘ã®è¿·å®®',
        tabs:{story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', req:'å¿…è¦æ¡ä»¶', acq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', unlock:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', bgm:'BGM', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ'},
        story:`<p>å¤ä»£ã‚¢ãƒ©ã‚°æ–‡æ˜ã®éºç‰©ã€ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¿ãƒ¯ãƒ¼ã‚’èª¿æŸ»ã™ã¹ãæ–°ãŸã«çµæˆã•ã‚ŒãŸèª¿æŸ»å›£ã€Œãƒã‚¢ã€ã€‚ãã®ä¸€å“¡ã¨ãªã£ãŸå†’é™ºè€…ã¯ã€ã‚·ãƒ‰ã®å”åŠ›ã‚’å¾—ã¦ã€Œå…«å‰£å£«ã®å‰åº­ã€ã«è¨­ç½®ã•ã‚ŒãŸé˜²è¡›æ©Ÿæ§‹ã®ç ´å£Šã«æˆåŠŸã™ã‚‹ã€‚ã ãŒã€ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¿ãƒ¯ãƒ¼ã®å‰ã«ã¯ã€ãã®å‰é–€ãŸã‚‹ã€Œå¤ä»£ã®æ°‘ã®è¿·å®®ã€ãŒå¾…ã¡å—ã‘ã¦ã„ãŸã€‚ãã—ã¦ä»Šã€ãƒ¢ãƒ¼ãƒ‰ã‚¥ãƒŠã®åœ°ã«ç²¾é‹­å†’é™ºè€…ãŸã¡ãŒé›†ã†ã€‚å¤ã®é˜²è¡›æ©Ÿæ§‹ã‚’çªç ´ã—ã€ã€Œå¤ä»£ã®æ°‘ã®è¿·å®®ã€ã‚’çªç ´ã›ã‚ˆï¼</p>`,
        req:`<div class="stack">
          <div class="row"><strong>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ï¼š</strong>1ï½8äººï¼ˆ3ãƒ‘ãƒ¼ãƒ†ã‚£ï¼šã‚¿ãƒ³ã‚¯1ï¼ãƒ’ãƒ¼ãƒ©ãƒ¼2ï¼DPS5ï¼‰</div>
          <div class="row">â€» åˆ¶é™è§£é™¤æ™‚ã¯ã€å„ãƒ‘ãƒ¼ãƒ†ã‚£ã«æœ€ä½1åä»¥ä¸ŠãŒå¿…è¦ã§ã™ã€‚</div>
          <div class="row"><strong>ã‚¯ãƒ©ã‚¹ï¼ã‚¸ãƒ§ãƒ–ï¼š</strong>ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ï¼ã‚½ãƒ¼ã‚µãƒ©ãƒ¼</div>
          <div class="row">â€» ãƒªãƒŸãƒ†ãƒƒãƒ‰ã‚¸ãƒ§ãƒ–ã¯ã€è¦å®šäººæ•°ã®äº‹å‰çµæˆãƒ‘ãƒ¼ãƒ†ã‚£ã¾ãŸã¯åˆ¶é™è§£é™¤ãƒ‘ãƒ¼ãƒ†ã‚£ã‹ã¤è¦å®šãŒè¨±å¯ã™ã‚‹å ´åˆã®ã¿å‚åŠ å¯ã€‚</div>
          <div class="row"><strong>ãƒ¬ãƒ™ãƒ«ï¼š</strong>50</div>
          <div class="row">â€» çªå…¥æ™‚ã«ãƒ¬ãƒ™ãƒ«ã‚·ãƒ³ã‚¯ã•ã‚Œã¾ã™ã€‚</div>
          <div class="row"><strong>å¹³å‡ã‚¢ã‚¤ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ï¼š</strong>50</div>
          <div class="row">â€» ã‚·ãƒ³ã‚¯ä¸­ã¯å…¨è£…å‚™ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒèª¿æ•´ã•ã‚Œã¾ã™ã€‚</div>
          <div class="row"><strong>ã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ç™»éŒ²</strong></div>
          <div class="row">â€» 24äººã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã§ã¯ãƒ­ãƒ¼ãƒ«ï¼ILåˆ¶é™ãŒè§£é™¤ã•ã‚Œã¾ã™ã€‚</div>
        </div>`,
        acq:`<div class="stack">
          <div class="row"><a class="link" href="the-labyrinth-of-the-ancients.html">å¤ä»£ã®æ°‘ã®è¿·å®®</a></div>
        </div>`,
        unlock:`<div class="stack">
          <div class="row"><a class="link" href="for-prosperity.html">ãƒã‚¢ã®èª¿æŸ»è¨˜éŒ²</a></div>
        </div>`,
        bgm:`<div class="stack">
          <div class="row two-col">
            <div class="label">Raids I No. 1</div>
            <div class="value"><a class="link" href="bgm-hubris.html">Hubrisï½œå‚²æ…¢ï½œç‹‚å¦„</a></div>
          </div>
          <div class="row two-col">
            <div class="label">Raids I No. 2</div>
            <div class="value"><a class="link" href="bgm-tumbling-down.html">Tumbling Downï½œå¥ˆè½ã¸ï½œå¢œå…¥æ·±æ·µ</a></div>
          </div>
        </div>`
      },

      ZH:{
        langLabel:'ZH-TW',
        pageTitle:'é å¤è¿·å®®',
        tabs:{story:'æ•…äº‹æ¦‚è¦', req:'éœ€æ±‚æ¢ä»¶', acq:'è§£é–ä»»å‹™', unlock:'å¾ŒçºŒä»»å‹™', bgm:'BGM', comments:'ç•™è¨€'},
        story:`<p>åœ¨ Cid nan Garlond çš„å”åŠ©ä¸‹ï¼Œåƒèˆ‡ Crystal Tower æ¢å‹˜è¡Œå‹•çš„éšŠä¼ï¼Œå·²æˆåŠŸçªç ´ã€ŒEight Sentinelsã€çš„é˜²ç¦¦ã€‚ç„¶è€Œï¼Œé€™åº§ Ancient Allagï¼ˆå¤ä»£äºæ‹‰æˆˆå¸åœ‹ï¼‰çš„éºæ§‹ä¸¦ä¸æœƒè¼•æ˜“æ”¾äººé€²å…¥â€”â€”æ­¤åˆ»ï¼ŒLabyrinth of the Ancients æ­£åœ¨å‰æ–¹ç­‰è‘— NOAH çš„å¤¥ä¼´å€‘ï¼Œå»è¿½å°‹é‚£æœ€çµ‚çš„çè³ã€‚</p>`,
        req:`<div class="stack">
          <div class="row"><strong>äººæ•¸ï¼š</strong>1â€“8 äººï¼ˆ3 å€‹å°éšŠï¼š1 å¦å…‹ï¼2 æ²»ç™‚ï¼5 è¼¸å‡ºï¼‰</div>
          <div class="row">â€» å¥—ç”¨ç„¡é™åˆ¶è¦å‰‡æ™‚ï¼Œéœ€ 3 å€‹å°éšŠä¸”å„å°éšŠè‡³å°‘ 1 åæˆå“¡ã€‚</div>
          <div class="row"><strong>è·æ¥­ï¼š</strong>æˆ°é¬¥è·æ¥­ï¼é­”æ³•è·æ¥­</div>
          <div class="row">â€» é™å®šè·æ¥­åƒ…èƒ½åœ¨äº‹å…ˆçµ„æˆç¬¦åˆäººæ•¸æ¢ä»¶çš„éšŠä¼ï¼Œæˆ–ä»¥ç„¡é™åˆ¶è¦å‰‡åƒåŠ ï¼Œä¸”éœ€ç¬¦åˆä»»å‹™è¦å‰‡å…è¨±çš„æƒ…æ³ã€‚</div>
          <div class="row"><strong>ç­‰ç´šï¼š</strong>50</div>
          <div class="row">â€» é€²å…¥æ™‚å°‡é€²è¡Œç­‰ç´šåŒæ­¥ã€‚</div>
          <div class="row"><strong>å¹³å‡è£å‚™å“ç´šï¼š</strong>50</div>
          <div class="row">â€» åŒæ­¥æ™‚ï¼Œæ‰€æœ‰è£å‚™æ•¸å€¼å°‡è‡ªå‹•èª¿æ•´ã€‚</div>
          <div class="row"><strong>è¯ç›Ÿç™»éŒ„</strong></div>
          <div class="row">â€» ç•¶ç‚º 24 äººè¯ç›Ÿæ™‚ï¼Œè§’è‰²å®šä½èˆ‡è£å‚™å“ç´šé™åˆ¶å°‡è§£é™¤ã€‚</div>
        </div>`,
        acq:`<div class="stack">
          <div class="row"><a class="link" href="the-labyrinth-of-the-ancients.html">é å¤è¿·å®®</a></div>
        </div>`,
        unlock:`<div class="stack">
          <div class="row"><a class="link" href="for-prosperity.html">NOAH çš„èª¿æŸ¥ç´€éŒ„</a></div>
        </div>`,
        bgm:`<div class="stack">
          <div class="row two-col">
            <div class="label">Raids I No. 1</div>
            <div class="value"><a class="link" href="bgm-hubris.html">Hubrisï½œå‚²æ…¢ï½œç‹‚å¦„</a></div>
          </div>
          <div class="row two-col">
            <div class="label">Raids I No. 2</div>
            <div class="value"><a class="link" href="bgm-tumbling-down.html">Tumbling Downï½œå¥ˆè½ã¸ï½œå¢œå…¥æ·±æ·µ</a></div>
          </div>
        </div>`
      }
    };

    const langToggle = document.getElementById('langToggle');
    const pageTitle  = document.getElementById('pageTitle');
    const tabBtns    = [...document.querySelectorAll('.tab-btn')];
    const panels = {
      story : document.getElementById('panel-story'),
      acq   : document.getElementById('panel-acq'),
      req   : document.getElementById('panel-req'),
      unlock: document.getElementById('panel-unlock'),
      bgm   : document.getElementById('panel-bgm'),
      comments: document.getElementById('panel-comments')
    };

    function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
    function applyLang(lang){
      const t = i18n[lang] || i18n.EN;
      pageTitle.textContent = t.pageTitle;
      langToggle.textContent = `ğŸŒ ${t.langLabel}`;
      tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
      const activeBtn = tabBtns.find(b=>b.getAttribute('aria-selected')==='true') || tabBtns[0];
      renderPanel(activeBtn.dataset.tab, lang);
      if (activeBtn && activeBtn.dataset.tab === 'comments') loadGiscusForCurrentLang();
    }

    function renderPanel(key, lang){
      const t = i18n[lang] || i18n.EN;
      Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
      panels[key].classList.add('active');
      if (key !== 'comments') {
        panels[key].innerHTML = t[key];
      } else {
        loadGiscusForCurrentLang();
      }
    }

    tabBtns.forEach(btn=>{
      btn.addEventListener('click',()=>{
        tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
        btn.setAttribute('aria-selected','true');
        renderPanel(btn.dataset.tab, getLang());
      });
    });

    langToggle.addEventListener('click',()=>{
      const cur=getLang();
      const next=cur==='EN'?'JP':(cur==='JP'?'ZH':'EN');
      localStorage.setItem(LANG_KEY,next);
      applyLang(next);
    });

    applyLang(getLang());

    const GISCUS_CFG = {
      repo: 'BELAUG-FFXIV/FFXIV_Library',
      repoId: 'R_kgDOPyh4Kw',
      category: 'General',
      categoryId: 'DIC_kwDOPyh4K84CwPjL',
      theme: 'preferred_color_scheme'
    };
    function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
    function loadGiscusForCurrentLang(){
      const mount = document.getElementById('giscus_container');
      if (!mount) return;
      mount.innerHTML = '';
      const langCode = getLang();
      const s = document.createElement('script');
      s.src = 'https://giscus.app/client.js';
      s.setAttribute('data-repo', GISCUS_CFG.repo);
      s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
      s.setAttribute('data-category', GISCUS_CFG.category);
      s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
      s.setAttribute('data-mapping', 'specific');
      s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
      s.setAttribute('data-reactions-enabled', '1');
      s.setAttribute('data-emit-metadata', '0');
      s.setAttribute('data-input-position', 'bottom');
      s.setAttribute('data-lang', uiLang(langCode));
      s.setAttribute('data-theme', GISCUS_CFG.theme);
      s.setAttribute('crossorigin', 'anonymous');
      s.async = true;
      mount.appendChild(s);
    }
  </script>
</body>
</html>
