<!doctype html> 
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>A Hero in the Making | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ A Hero in the Making (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:#222;border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}

    /* å±•é–‹/æ”¶åˆ */
    .clamp{ position:relative; max-height:360px; overflow:hidden; }
    .clamp[data-collapsed="false"]{ max-height:none; }
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/8kj1pfglido"
              title="A Hero in the Making" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">A Hero in the Making</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'A Hero in the Making',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
      <p>In the wake of your victory over the Primal Ifrit, fame spreads swiftly across the realm. Minfilia welcomes you back with pride, only to reveal that your deeds have already drawn the attention of Eorzeaâ€™s three Grand Companies. Officers from Gridania, Ulâ€™dah, and Limsa Lominsa arrive in person, each eager to claim â€œIfritâ€™s Baneâ€ for their ranks.</p>
      <p>To help guide your choice, Minfilia sends you to witness the remembrance ceremonies held by the leaders of each nation. In Gridania, Elder Seedseer Kan-E-Senna calls upon her people to unite beneath the Adder standard and heal the scars of the Twelveswood. In Ulâ€™dah, General Raubahn Aldynn stirs the crowd with fiery words of unity, joined by Sultana Nanamo, who reminds all that the true wealth of a nation lies in its people. And in Limsa Lominsa, Admiral Merlwyb Bloefhiswyn rallies her citizens to mend divisions and steel themselves against the Sahagin, the Kobolds, and the ever-looming Garlean threat.</p>
      <p>Along the way, you encounter the twins Alphinaud and Alisaie, sharp-eyed observers of these speeches. To Alphinaud, the ceremonies are less remembrance and more rally, a rewriting of history to suit each nationâ€™s needs. His sister bristles at the thought, unwilling to entrust the realmâ€™s fate to those who would bend truth so easily.</p>
      <p>Returning to the Waking Sands, Minfilia reminds you that the Scionsâ€™ cause is not bound by nation, but by the future of Eorzea itself. Yet she urges you to join a Grand Company, for great power invites peril, and within an army you will find not only purpose but comradeship. With a decision before you, your journey as an adventurer takes its next stepâ€”one that will shape both your path and the realmâ€™s.</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Minfilia <small class="muted">(The Waking Sands, X:6.9, Y:6.1)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="lord-of-the-inferno.html">Lord of the Inferno</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-company-you-keep-maelstrom.html">The Company You Keep (Maelstrom)</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'è‹±é›„ã®åµ',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
      <p>è›®ç¥ã‚¤ãƒ•ãƒªãƒ¼ãƒˆã‚’è¨ã¡æœãŸã—ãŸã‚ãªãŸã®åå£°ã¯ã€ç¬ãé–“ã«ã‚¨ã‚ªãƒ«ã‚¼ã‚¢ä¸­ã¸ã¨åºƒãŒã£ãŸã€‚ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ã¯èª‡ã‚‰ã—ã’ã«ã‚ãªãŸã‚’è¿ãˆå…¥ã‚Œã‚‹ãŒã€ãã®å‰æ¥­ã¯æ—¢ã«ä¸‰å›½ã®ã‚°ãƒ©ãƒ³ãƒ‰ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼ã®è€³ã«ã‚‚å±Šã„ã¦ã„ãŸã€‚ã‚°ãƒªãƒ€ãƒ‹ã‚¢ã€ã‚¦ãƒ«ãƒ€ãƒã€ãƒªãƒ ã‚µãƒ»ãƒ­ãƒŸãƒ³ã‚µâ”€â”€å„å›½ã®å£«å®˜ãŸã¡ãŒã€Œã‚¤ãƒ•ãƒªãƒ¼ãƒˆè¨ä¼è€…ã€ã‚’è¿ãˆå…¥ã‚Œã‚ˆã†ã¨ã€ç›´ã€…ã«å§¿ã‚’ç¾ã™ã€‚</p>
      <p>é¸æŠã®åŠ©ã‘ã¨ã™ã‚‹ãŸã‚ã€ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ã¯å„å›½ãŒå‚¬ã™è¿½æ‚¼å¼ã¸ã®å‚åˆ—ã‚’å‹§ã‚ã‚‹ã€‚ã‚°ãƒªãƒ€ãƒ‹ã‚¢ã§ã¯ã‚«ãƒŒãƒ»ã‚¨ãƒ»ã‚»ãƒ³ãƒŠãŒæ°‘ã«å‘¼ã³ã‹ã‘ã€åŒè›‡å…šã®æ——ã®ä¸‹ã«å†ã³çµæŸã—ã€é»’è¡£æ£®ã®å‚·ã‚’ç™’ã™ã‚ˆã†è¨´ãˆã‚‹ã€‚ã‚¦ãƒ«ãƒ€ãƒã§ã¯ãƒ©ã‚¦ãƒãƒ¼ãƒ³ãƒ»ã‚¢ãƒ«ãƒ‡ã‚£ãƒ³å°†è»ãŒç‚ã®ã‚ˆã†ãªæ¼”èª¬ã§ç¾¤è¡†ã‚’å¥®ã„ç«‹ãŸã›ã€ãƒŠãƒŠãƒ¢å¥³ç‹ãŒã€Œå›½ã®çœŸã®å¯Œã¯æ°‘ã«ã‚ã‚‹ã€ã¨å¼·ãèªã‚‹ã€‚ãã—ã¦ãƒªãƒ ã‚µãƒ»ãƒ­ãƒŸãƒ³ã‚µã§ã¯ãƒ¡ãƒ«ã‚¦ã‚£ãƒ–ãƒ»ãƒ–ãƒ«ãƒ¼ãƒ•ã‚£ã‚¹ã‚¦ã‚£ãƒ³æç£ãŒã€ã‚µãƒã‚®ãƒ³ã‚„ã‚³ãƒœãƒ«ãƒ‰ã€ã•ã‚‰ã«è¿«ã‚Šæ¥ã‚‹ã‚¬ãƒ¬ãƒãƒ¼ãƒ«å¸å›½ã®è„…å¨ã«æŠ—ã†ãŸã‚ã€åˆ†è£‚ã‚’ä¹—ã‚Šè¶Šãˆå›£çµã‚’èª“ã‚ã›ãŸã€‚</p>
      <p>ãã®é€”ä¸Šã§ã€åŒå­ã®ã‚¢ãƒ«ãƒ•ã‚£ãƒã¨ã‚¢ãƒªã‚¼ãƒ¼ã«å‡ºä¼šã†ã€‚å½¼ã‚‰ã¯é‹­ã„çœ¼å·®ã—ã§å„å›½ã®æ¼”èª¬ã‚’è¦‹å±Šã‘ã‚‹ã€‚ã‚¢ãƒ«ãƒ•ã‚£ãƒã«ã¨ã£ã¦å¼å…¸ã¯è¿½æ‚¼ã¨ã„ã†ã‚ˆã‚Šã€Œé›†ä¼šã€ã§ã‚ã‚Šã€éƒ½åˆã®è‰¯ã„æ­´å²æ”¹å¤‰ã«ã™ããªã„ã€‚ã‚¢ãƒªã‚¼ãƒ¼ã¯ãã‚Œã‚’è¨±ã›ãšã€ã“ã®ã‚ˆã†ãªæ”¯é…è€…ã«æœªæ¥ã‚’è¨—ã™ã“ã¨ã‚’æ‹’ã‚€ã€‚</p>
      <p>ã‚„ãŒã¦ã€Œç ‚ã®å®¶ã€ã«æˆ»ã‚‹ã¨ã€ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ã¯èªã‚‹ã€‚æšã®è¡€ç›Ÿã®ç›®çš„ã¯å›½ã«ç¸›ã‚‰ã‚Œãšã€ã‚¨ã‚ªãƒ«ã‚¼ã‚¢å…¨ä½“ã®æœªæ¥ã‚’å®ˆã‚‹ã“ã¨ã ã¨ã€‚ãã‚Œã§ã‚‚å½¼å¥³ã¯ã‚°ãƒ©ãƒ³ãƒ‰ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼ã«åŠ ã‚ã‚‹ã‚ˆã†å‹§ã‚ã‚‹ã€‚å¤§ã„ãªã‚‹åŠ›ã¯å¿…ãšæ•µæ„ã‚’å‘¼ã¶ã€‚ã ãŒè»ã«åŠ ã‚ã‚Œã°ä»²é–“ãŒã§ãã€ãã®å±é™ºã‚’å…±ã«èƒŒè² ã†ã“ã¨ãŒã§ãã‚‹ã®ã ã€‚ã‚ãªãŸã®é¸æŠãŒã€å†’é™ºè€…ã¨ã—ã¦ã®æ¬¡ãªã‚‹ä¸€æ­©ã‚’ã€ãã—ã¦ã‚¨ã‚ªãƒ«ã‚¼ã‚¢ã®æœªæ¥ã‚’å½¢ä½œã‚‹ã“ã¨ã«ãªã‚‹ã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ <small class="muted">ï¼ˆè¥¿ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³ï¼šç ‚ã®å®¶, X:6.9, Y:6.1ï¼‰</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="lord-of-the-inferno.html">çŒ›ã‚‹ç„”ç¥ã‚¤ãƒ•ãƒªãƒ¼ãƒˆ</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-company-you-keep-maelstrom.html">æˆ‘ãŒè¡Œãé“ã¯â€¦â€¦ï¼ˆé»’æ¸¦å›£ï¼‰</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'åˆéœ²é ­è§’çš„è‹±é›„',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
      <p>éš¨è‘—ä½ æ“Šæ•— Primal Ifrit çš„æ¶ˆæ¯å‚³éå››æ–¹ï¼Œä½ çš„åè²è¿…é€ŸéŸ¿å¾¹æ•´å€‹ Eorzeaã€‚Minfilia é›–æ»¿æ‡·é©•å‚²åœ°è¿æ¥ä½ æ­¸ä¾†ï¼Œå»ä¹Ÿå‘Šè¨´ä½ ï¼Œä¸‰åœ‹çš„ Grand Company å·²ç´›ç´›æ´¾é£ä½¿è€…å‰ä¾†ï¼Œçˆ­ç›¸æ‹›æ”¬é€™ä½ã€ŒIfritâ€™s Baneã€ã€‚</p>
      <p>ç‚ºäº†å¹«åŠ©ä½ åšå‡ºæŠ‰æ“‡ï¼ŒMinfilia è¦ä½ è¦ªèº«åƒåŠ å„åœ‹èˆ‰è¾¦çš„è¿½æ‚¼å¼ã€‚åœ¨ Gridaniaï¼ŒKan-E-Senna å‘¼ç±²äººæ°‘åœ¨ Twin Adder çš„æ——å¹Ÿä¸‹å†åº¦åœ˜çµï¼Œæ’«å¹³ Twelveswood çš„å‰µå‚·ã€‚åœ¨ Ulâ€™dahï¼ŒRaubahn Aldynn å°‡è»ä»¥ç†Šç†Šçƒˆç„°èˆ¬çš„è¨€è¾­æ¿€å‹µçœ¾äººï¼Œè€Œ Sultana Nanamo å‰‡æé†’å¤§å®¶ï¼šåœ‹å®¶çš„çœŸæ­£è²¡å¯Œåœ¨æ–¼äººæ°‘ã€‚æœ€å¾Œåœ¨ Limsa Lominsaï¼ŒMerlwyb Bloefhiswyn æç£å¬å–šæ°‘çœ¾ï¼Œèª“è¨€è·¨è¶Šåˆ†è£‚ï¼Œåœ˜çµä¸€è‡´æŠµæŠ— Sahaginã€Koboldï¼Œä»¥åŠè¿«è¿‘çš„ Garlean å¨è„…ã€‚</p>
      <p>æ—…é€”ä¸­ï¼Œä½ é‡è¦‹äº†é›™èƒèƒ Alphinaud èˆ‡ Alisaieã€‚ä»–å€‘å†·éœè§€å¯Ÿé€™äº›æ¼”èªªã€‚Alphinaud è¦–é€™äº›è¿½æ‚¼å¼ç‚ºã€Œå‹•å“¡é›†æœƒã€ï¼Œåƒæ˜¯ç‚ºäº†å„è‡ªéœ€æ±‚è€Œä¿®é£¾æ­·å²ï¼›Alisaie å‰‡é›£ä»¥æ¥å—ï¼Œèªç‚ºæœªä¾†ä¸è©²äº¤çµ¦å¦‚æ­¤è¼•æ˜“æ‰­æ›²çœŸç›¸çš„äººã€‚</p>
      <p>å›åˆ° Waking Sandsï¼ŒMinfilia å¼·èª¿ Scions çš„ç›®æ¨™ä¸å±¬æ–¼ä»»ä½•åœ‹å®¶ï¼Œè€Œæ˜¯ç‚ºæ•´å€‹ Eorzea çš„æœªä¾†ã€‚å³ä¾¿å¦‚æ­¤ï¼Œå¥¹ä»é¼“å‹µä½ åŠ å…¥ä¸€å€‹ Grand Companyã€‚å› ç‚ºå¼·å¤§çš„åŠ›é‡æœƒæ‹›ä¾†å±éšªï¼Œä½†åœ¨è»éšŠä¸­ä½ å°‡æ“æœ‰å¤¥ä¼´ï¼Œä¸€åŒåˆ†æ“”é¢¨éšªã€‚ä½ çš„æŠ‰æ“‡ï¼Œå°‡å¡‘é€ ä½ çš„æ—…ç¨‹èˆ‡é€™ç‰‡åœŸåœ°çš„å‘½é‹ã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> æ˜è²åˆ©äº <small class="muted">ï¼ˆè–©ç´è˜­è¥¿éƒ¨ â€§ è¦ºé†’æ²™ä¹‹å®¶, X:6.9, Y:6.1ï¼‰</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="lord-of-the-inferno.html">åœ°ç„ä¹‹ç«ä¼Šå¼—åˆ©ç‰¹</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-company-you-keep-maelstrom.html">èˆ‡é»‘æ¸¦åŒè¡Œ</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

/* === Giscusï¼šComments åˆ†é  === */
const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
