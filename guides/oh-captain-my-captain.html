<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Oh Captain, My Captain | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ Oh Captain, My Captain (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:#222;border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}

    /* â€”â€” æ‰‹å‹•å±•é–‹/æ”¶åˆï¼ˆå›ºå®šæä¾›æŒ‰éˆ•ï¼‰ â€”â€” */
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,248,230,0), var(--card));
      pointer-events:none;
    }
    .expand-wrap{margin-top:10px}
    .expand-btn{display:inline-block;padding:8px 14px;border:1px solid var(--border);border-radius:999px;background:#fff;cursor:pointer;font-weight:600}
    .expand-btn:hover{background:#fffef8}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/6iM9HbftHeI"
              title="Oh Captain, My Captain" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Oh Captain, My Captain</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"    class="tab-panel active"></div>
          <div id="panel-acq"      class="tab-panel"></div>
          <div id="panel-unlockq"  class="tab-panel"></div>
          <div id="panel-followq"  class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:"Oh Captain, My Captain",
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
<p>What begins as a routine errand turns into something far darker. A frightened villager whispers of stolen gemstones and a secret deal at the Footfalls. Fufulupa, ever vigilant, overhears and immediately rushes to inform Captain Baldewynâ€”unaware that heâ€™s running straight into the arms of betrayal.</p>
<p>You chase after him, but too late. At the Footfalls, Fufulupa accuses the wrong manâ€”only to discover that the accusation was more accurate than he ever imagined. Baldewyn, in league with the bandits of Quiveron Manse, lashes out. And worse still, he claims he acts under Lord Loloritoâ€™s name.</p>
<p>The confrontation explodes into violence. As you and Fufulupa fight for your lives, Leofric appears and exposes the lie. Baldewyn was never authorizedâ€”just another petty man abusing power and dragging others down with him.</p>
<p>When itâ€™s over, Baldewyn is defeated, his schemes unraveled. Leofric turns to Fufulupaâ€”not just with thanks, but with recognition. He entrusts him with the future of the Brass Blades of the Rose. And you? Youâ€™ve witnessed how corruption hides behind ceremony, and how truth shines brightest when the innocent stand their ground.</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Merilda <small class="muted">(Western Thanalan, X:14.9, Y:18.9)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="storms-on-the-horizon.html">Storms on the Horizon</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="secrets-and-lies.html">Secrets and Lies</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'æ­£ç¾©ã‚’éŠ…ã®åˆƒã«å®¿ã—',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
<p>ä¸€è¦‹å¹³ç©ãªä»»å‹™ã®èƒŒå¾Œã«ã€é™°è¬€ã®å½±ãŒå¿ã³å¯„ã‚‹â”€â”€æ‘äººãƒ¡ãƒªãƒ«ãƒ€ã®å‘Šç™½ã«ã‚ˆã‚Šã€ãƒ•ãƒ•ãƒ«ãƒ‘ã¯å¯†è¼¸ã®ç–‘æƒ‘ã‚’çŸ¥ã‚‹ã€‚æ­£ç¾©æ„Ÿã‹ã‚‰å½¼ã¯ãƒãƒ«ãƒ‰ã‚¦ã‚£ãƒ³éšŠé•·ã«æ€¥å ±ã—ã‚ˆã†ã¨ã™ã‚‹ãŒã€ã¾ã•ã«ãã‚Œã“ããŒç½ ã ã£ãŸã€‚</p>
<p>ã‚ãªãŸã¯æ…Œã¦ã¦ãƒ•ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ«ã‚ºã¸å‘ã‹ã†ã€‚ãƒ•ãƒ•ãƒ«ãƒ‘ã¯ã€ã‚¯ã‚¤ãƒ´ã‚§ãƒ­ãƒ³ã®ç›—è³Šå›£ã¨å…±ã«ã„ãŸç”·ã‚’éé›£ã™ã‚‹ãŒâ”€â”€é©šãã“ã¨ã«ã€ãã‚Œã¯äº‹å®Ÿã ã£ãŸã€‚ãƒãƒ«ãƒ‰ã‚¦ã‚£ãƒ³éšŠé•·è‡ªèº«ãŒé»’å¹•ã ã£ãŸã®ã ã€‚ã—ã‹ã‚‚ã€å½¼ã¯è‡ªã‚‰ã®è¡Œå‹•ã‚’ã€Œãƒ­ãƒ­ãƒªãƒˆå¿ã®å‘½ã€ã¨ã¾ã§èªã‚‹ã€‚</p>
<p>äº‹æ…‹ã¯æ¿€åŒ–ã—ã€æˆ¦é—˜ãŒå§‹ã¾ã‚‹ã€‚ã‚ãªãŸã¨ãƒ•ãƒ•ãƒ«ãƒ‘ã¯æ­»é—˜ã‚’ç¹°ã‚Šåºƒã’ã‚‹ãŒã€ãã“ã¸ãƒ¬ã‚ªãƒ•ãƒªãƒƒã‚¯ãŒç¾ã‚Œã€çœŸå®Ÿã‚’æš´ãã€‚ãƒ­ãƒ­ãƒªãƒˆå¿ã¯é–¢ä¸ã—ã¦ãŠã‚‰ãšã€ãƒãƒ«ãƒ‰ã‚¦ã‚£ãƒ³ã®å…¨ã¦ã¯ç§åˆ©ç§æ¬²ã«åŸºã¥ãã‚‚ã®ã§ã—ã‹ãªã‹ã£ãŸã€‚</p>
<p>æˆ¦ã„ãŒçµ‚ã‚ã‚Šã€ãƒãƒ«ãƒ‰ã‚¦ã‚£ãƒ³ã¯æ‹˜æŸã•ã‚Œã‚‹ã€‚ãƒ¬ã‚ªãƒ•ãƒªãƒƒã‚¯ã¯ãƒ•ãƒ•ãƒ«ãƒ‘ã«çŸ­å‰£ã‚’è¨—ã—ã€ã€Œèª‡ã‚Šã‚ã‚‹è€…ãŒã€çµ„ç¹”ã‚’å°ãã¹ãã ã€ã¨èªã‚‹ã€‚ãƒ•ãƒ•ãƒ«ãƒ‘ã¯æ¶™ãªãŒã‚‰ã«ãã®è²¬å‹™ã‚’å—ã‘å…¥ã‚Œã€ã‚ãªãŸã«æ·±ãæ„Ÿè¬ã™ã‚‹ã€‚ã“ã†ã—ã¦ã€ãƒ›ãƒ©ã‚¤ã‚ºãƒ³ã®æœªæ¥ã¯æ–°ãŸãªå…‰ã‚’å¾—ãŸã®ã ã£ãŸã€‚</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ¡ãƒªãƒ«ãƒ€ <small class="muted">ï¼ˆè¥¿ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³, X:14.9, Y:18.9ï¼‰</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="storms-on-the-horizon.html">é…’ã®ã‚µã‚«ãƒŠæ±‚ã‚€</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="secrets-and-lies.html">è½æ—¥ã®éŠ€å†‘å›£</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'æ­£ç¾©è¨—ä»˜æ–¼éŠ…ä¹‹åˆƒ',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
<p>ä½ åŸä»¥ç‚ºåªæ˜¯æ™®é€šçš„ä»»å‹™ï¼Œå»å¾ Merilda é‚£è£¡è½èé©šäººçš„å¯†è¬€â”€â”€Quiveron çš„ç›œè³Šæº–å‚™äº¤æ˜“å¾ Copperbell Mines å·ä¾†çš„å¯¶çŸ³ã€‚Fufulupa ç„¡æ„é–“è½è¦‹ï¼Œç«‹å³è¡å‘ Captain Baldewyn å½™å ±ï¼Œå»ä¸çŸ¥é“é€™æ­£æŠŠä»–æ¨å…¥å±éšªä¹‹ä¸­ã€‚</p>
<p>ä½ æ€¥å¿™è¿½ä¸Šï¼Œä½†ä¸€åˆ‡å·²ç¶“å¤ªé²ã€‚Footfalls çš„å°å³™æ­éœ²çœŸç›¸ï¼šBaldewyn ä¸åƒ…åŒ…åº‡ç½ªçŠ¯ï¼Œæ›´è²ç¨±è‡ªå·±æ˜¯å¥‰ Lord Lolorito ä¹‹å‘½ã€‚Fufulupa é›£ä»¥ç½®ä¿¡ï¼Œå»åˆä¸å¾—ä¸æ¥å—çœ¼å‰çš„èƒŒå›ã€‚</p>
<p>æˆ°é¬¥çˆ†ç™¼ï¼Œä½ èˆ‡ Fufulupa ä¸€åŒè¿æˆ° Quiveron æ®˜é»¨ã€‚åƒéˆä¸€é«®ä¹‹éš›ï¼ŒLeofric ç¾èº«æ­éœ²çœŸç›¸ï¼šé€™ä¸€åˆ‡éƒ½æ˜¯ Baldewyn è—‰æ¬Šè¬€ç§ï¼Œæ ¹æœ¬æœªå¾—ä»»ä½•ä¸Šå±¤æˆæ„ã€‚åè™Ÿä¹‹ä¸‹ï¼Œæ˜¯å‡é¢èƒŒå¾Œçš„è²ªå©ªã€‚</p>
<p>æœ€çµ‚ï¼ŒBaldewyn è½æ•—ï¼Œè¢«æ•ã€‚Leofric å°‡ Brass Blades of the Rose çš„æ¦®è€€äº¤è¨—çµ¦ Fufulupaâ”€â”€é€™å€‹ä»–æ›¾è¦–ç‚ºå°å¼Ÿçš„æ–°å…µï¼Œå¦‚ä»Šå±•ç¾å‡ºçœŸæ­£çš„å …æ¯…èˆ‡æ¦®è­½ã€‚è€Œä½ ï¼Œå‰‡åœ¨é€™å ´æ”¿è®Šä¹‹ä¸­ï¼Œè¦‹è­‰äº†æ­£ç›´å¦‚ä½•åœ¨è…æ•—ä¸­ç¶»æ”¾å…‰èŠ’ã€‚</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> æ¢…è‰çˆ¾é” <small class="muted">ï¼ˆè–©ç´è˜­è¥¿éƒ¨, X:14.9, Y:18.9ï¼‰</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="storms-on-the-horizon.html">é¢¨æš´å‰çš„é…’å®´</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="secrets-and-lies.html">ç¥•å¯†èˆ‡è¬Šè¨€</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

/* å±•é–‹/æ”¶åˆï¼šå›ºå®šæä¾›æŒ‰éˆ•ï¼Œç„¡å­—æ•¸é–€æª» */
function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});
langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

/* === Giscusï¼šComments åˆ†é  ===
   âš ï¸ å°‡ä¸‹æ–¹ repo/repoId/categoryId æ›¿æ›æˆå¯¦éš›å€¼ */
const GISCUS_CFG = {
  repo: 'belaug-ffxiv/FFXIV_Library',
  repoId: 'R_kgD0Pyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwD0Pyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
