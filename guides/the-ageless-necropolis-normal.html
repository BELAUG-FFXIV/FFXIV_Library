<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Ageless Necropolis (Normal) | BELAUG · FFXIV Library</title>
  <meta name="description" content="FFXIV Trial — The Ageless Necropolis (Normal)：故事概要、取得方式、需求條件與解鎖內容，附影片。">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root {
      --bg: #fff8e6; --card: #ffffff;
      --fg: #222; --muted:#666; --border:#e5e1d8;
      --accent:#e11d48;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;
      background:var(--bg); color:var(--fg);}
    .container{max-width:1080px; margin:0 auto; padding:0 16px}
    /* 頁首 */
    .site-header{border-bottom:1px solid var(--border); background:#fff9edb3;
      backdrop-filter:saturate(120%) blur(6px); position:sticky; top:0; z-index:10}
    .nav{display:flex; align-items:center; justify-content:space-between; height:60px}
    .left{display:flex; align-items:center; gap:12px}
    .home{border:1px solid var(--border); background:#fff; padding:4px 8px; border-radius:8px; text-decoration:none; color:var(--fg); font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex; align-items:center; gap:8px}
    .icon-btn{background:none; border:none; cursor:pointer; font-size:14px; padding:6px 10px; border-radius:8px}
    .icon-btn:hover{background:#fff; border:1px solid var(--border)}
    /* 主體 */
    .main{padding:20px 0 40px}
    .grid{
      display:grid;
      grid-template-columns:1.1fr 1fr;
      gap:20px;
      align-items:start;
    }
    @media (max-width: 900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative; padding-top:56.25%}
      .video-wrap iframe{position:absolute; inset:0; width:100%; height:100%}
    }
    .card{background:var(--card); border:1px solid var(--border); border-radius:16px; box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px; border-bottom:1px solid var(--border); font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%; height:420px; border:0; display:block; border-radius:16px}
    /* Tabs */
    .tabs{display:flex; gap:8px; padding:12px 12px 0; flex-wrap:wrap}
    .tab-btn{background:#fff; border:1px solid var(--border); color:var(--fg);
      border-radius:999px; padding:8px 14px; cursor:pointer; font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent); color:#fff; background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex; flex-direction:column; gap:10px}
    .stack .row{padding:12px 14px; border:1px dashed var(--border); border-radius:12px; background:#fffdf6}
    .row b{display:inline-block; min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8; text-decoration:none}
    .link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">🏠 Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="切換語言">🌐 EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- 左：影片 -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/dKkweG1J4LY"
              title="The Ageless Necropolis (Normal)" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- 右：標題 + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">The Ageless Necropolis (Normal)</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="req">Requirements</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlock">Unlocks</button>
        </div>
        <div class="bd">
          <div id="panel-story"  class="tab-panel active"></div>
          <div id="panel-acq"    class="tab-panel"></div>
          <div id="panel-req"    class="tab-panel"></div>
          <div id="panel-unlock" class="tab-panel"></div>
        </div>
      </section>
    </div>
  </main>

  <script>
    const LANG_KEY = 'ffxiv-guide-lang';

    const i18n = {
      EN:{
        langLabel:'EN',
        pageTitle:'The Ageless Necropolis',
        tabs:{
          story:'Story',
          acq:'Acquisition',
          req:'Requirements',
          unlock:'Unlocks'
        },
        story:`<p>By entrusting their memories of departed loved ones to the cloud, Alexandrians have long escaped the grief of separation. But when forced to confront the realities of death, their hearts were consumed by a dark and unreasoning terror. A genius of a forgotten age now twists that fear and desperation into a new primal form—one born of sorrow, sustained by denial. And so the Warrior of Light must stand unshaken before this embodiment of fear, and face down the eternal darkness.</p>`,
        acq:`<div class="stack">
          <div class="row">Unlocked during the Dawntrail 7.3 Main Scenario as a Trial: <b>The Ageless Necropolis (Normal)</b>.</div>
          <div class="row">Playlist: <a class="link" href="https://www.youtube.com/playlist?list=PLtC2r5occXAl-7v5hZXG0PJGX8w75vEm4" target="_blank" rel="noopener">Compilation of Trials (DT)</a></div>
        </div>`,
        req:`<div class="stack">
          <div class="row">N/A</div>
        </div>`,
        unlock:`<div class="stack">
          <div class="row">N/A</div>
        </div>`
      },

      JP:{
        langLabel:'JP',
        pageTitle:'永遠の闇討滅戦',
        tabs:{
          story:'ストーリー',
          acq:'入手方法',
          req:'必要条件',
          unlock:'開放コンテンツ'
        },
        story:`<p>アレクサンドリアの人々は、死別の悲しみから逃れるため、故人の記憶をクラウドに託してきた。だが、死という現実に向き合わざるを得なくなったとき、彼らの心を支配したのは、理性を超えた深い恐怖だった。その恐怖と祈りを糧に、古の天才が新たな蛮神の顕現を導く。恐怖が具現化した「永遠の闇」に対し、光の戦士は怯むことなく立ち向かう。</p>`,
        acq:`<div class="stack">
          <div class="row">パッチ7.3のメインクエスト進行中に開放される討滅戦：<b>永遠の闇討滅戦</b>。</div>
          <div class="row">プレイリスト：<a class="link" href="https://www.youtube.com/playlist?list=PLtC2r5occXAl-7v5hZXG0PJGX8w75vEm4" target="_blank" rel="noopener">DT 討滅戦まとめ</a></div>
        </div>`,
        req:`<div class="stack">
          <div class="row">該当なし</div>
        </div>`,
        unlock:`<div class="stack">
          <div class="row">該当なし</div>
        </div>`
      },

      ZH:{
        langLabel:'ZH',
        pageTitle:'不朽墓所',
        tabs:{
          story:'故事概要',
          acq:'取得方式',
          req:'需求條件',
          unlock:'解鎖內容'
        },
        story:`<p>為了逃避失去摯愛之人的痛苦，Alexandria 的人民選擇將記憶寄託於雲端，遠離死亡的現實。然而當他們終於不得不直面生死時，迎來的卻是深不見底的恐懼。一位來自古代的天才將這份恐懼與祈求扭曲為新的召喚實體——以否認與悲傷為核心的原初存在。面對這具現化的「永遠の闇」，光之戰士挺身而出，無懼挑戰無盡黑暗。</p>`,
        acq:`<div class="stack">
          <div class="row">於 Dawntrail 7.3 主線流程中解鎖的討伐戰：<b>不朽墓所</b></div>
          <div class="row">播放清單：<a class="link" href="https://www.youtube.com/playlist?list=PLtC2r5occXAl-7v5hZXG0PJGX8w75vEm4" target="_blank" rel="noopener">DT 討伐戰彙整</a></div>
        </div>`,
        req:`<div class="stack">
          <div class="row">無</div>
        </div>`,
        unlock:`<div class="stack">
          <div class="row">無</div>
        </div>`
      }
    };

    const langToggle = document.getElementById('langToggle');
    const pageTitle  = document.getElementById('pageTitle');
    const tabBtns    = [...document.querySelectorAll('.tab-btn')];
    const panels = {
      story:  document.getElementById('panel-story'),
      acq:    document.getElementById('panel-acq'),
      req:    document.getElementById('panel-req'),
      unlock: document.getElementById('panel-unlock')
    };

    function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }

    function applyLang(lang){
      const t = i18n[lang] || i18n.EN;
      pageTitle.textContent = t.pageTitle;
      langToggle.textContent = `🌐 ${t.langLabel}`;
      tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
      const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
      renderPanel(activeBtn.dataset.tab, lang);
    }

    function renderPanel(key, lang){
      const t = i18n[lang] || i18n.EN;
      Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
      panels[key].classList.add('active');
      panels[key].innerHTML = t[key];
    }

    tabBtns.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
        btn.setAttribute('aria-selected','true');
        renderPanel(btn.dataset.tab, getLang());
      });
    });

    langToggle.addEventListener('click', ()=>{
      const cur  = getLang();
      const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
      localStorage.setItem(LANG_KEY, next);
      applyLang(next);
    });

    const BOOT = getLang(); applyLang(BOOT);
  </script>
</body>
</html>
