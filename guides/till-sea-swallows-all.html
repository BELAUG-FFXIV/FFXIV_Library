<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Till Sea Swallows All | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ Till Sea Swallows All (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:#222;border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    /* Story å±•é–‹ / æ”¶åˆ */
    .clamp{ position:relative; max-height:360px; overflow:hidden; }
    .clamp[data-collapsed="false"]{ max-height:none; }
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/SERchxtWS6A"
              title="Till Sea Swallows All" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Till Sea Swallows All</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'Till Sea Swallows All',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
      <p>Your induction into the Maelstrom is scarcely complete when Minfiliaâ€™s voice reaches you through the linkpearl. Though she congratulates you warmly on your enlistment, she reminds you that you remain a Scion of the Seventh Dawn, and that your comrades await your return at the Waking Sands. She bids you come without delay, for there are friends eager to make your acquaintance.</p>
      <p>Before you depart, a Maelstrom officer suggests you speak with Commander Râ€™ashaht Rhiki. There, you are offered the chance to undertake â€œMy Little Chocobo (Maelstrom),â€ a task that must be completed to see the story of A Realm Reborn to its conclusion. With this, both duty and destiny beckon you forward.</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Storm Personnel Officer <small class="muted">(Limsa Lominsa Upper Decks, X:13.1, Y:12.7)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="the-company-you-keep-maelstrom.html">The Company You Keep (Maelstrom)</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="sylph-management.html">Sylph-management</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'æµ·ãŒå…¨ã¦ã‚’å‘‘ã¿è¾¼ã‚€ã¾ã§',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
      <p>é»’æ¸¦å›£ã¸ã®å…¥å›£ã‚’æœãŸã—ãŸç›´å¾Œã€ãƒªãƒ³ã‚¯ãƒ‘ãƒ¼ãƒ«è¶Šã—ã« ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ ã®å£°ãŒéŸ¿ãã€‚å½¼å¥³ã¯ã‚ãªãŸã®æ–°ãŸãªé–€å‡ºã‚’ç¥ç¦ã—ã¤ã¤ã‚‚ã€ã€Œã‚ãªãŸã¯é»’æ¸¦å›£ã®ä¸€å“¡ã§ã‚ã‚‹ã¨åŒæ™‚ã«ã€æšã®è¡€ç›Ÿã®ä»²é–“ã§ã‚‚ã‚ã‚‹ã€ã¨ã„ã†è¨€è‘‰ã‚’å¿˜ã‚Œã¬ã‚ˆã†å¿µã‚’æŠ¼ã™ã€‚ãã—ã¦æ—§å‹ãŸã¡ãŒã€Œç ‚ã®å®¶ã€ã§å†ä¼šã‚’å¾…ã£ã¦ã„ã‚‹ã‹ã‚‰ã€ãªã‚‹ã¹ãæ—©ãæˆ»ã£ã¦ã»ã—ã„ã¨å‘Šã’ã‚‰ã‚Œã‚‹ã€‚</p>
      <p>ãã®å‰ã«ã€é»’æ¸¦å›£ã®å£«å®˜ã‹ã‚‰ ãƒ©ã‚·ãƒ£ãƒˆãƒ»ãƒªã‚­å¸ä»¤å®˜ ã«ä¼šã†ã‚ˆã†å‹§ã‚ã‚‰ã‚Œã‚‹ã€‚ã“ã“ã§ã€Œãƒã‚¤ãƒ»ãƒªãƒˆãƒ«ãƒ»ãƒãƒ§ã‚³ãƒœï¼ˆé»’æ¸¦å›£ï¼‰ã€ã®ä»»å‹™ã‚’å—æ³¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ã“ã®ä»»å‹™ã‚’æœãŸã™ã“ã¨ã¯ã€ã®ã¡ã«è¨ªã‚Œã‚‹ã€æ–°ç”Ÿã‚¨ã‚ªãƒ«ã‚¼ã‚¢ã€ã®ç‰©èªã®çµæœ«ã¸ã¨ç¹‹ãŒã‚‹å¤§åˆ‡ãªä¸€æ­©ã ã£ãŸã€‚</p>
      <p>ã“ã†ã—ã¦ã€ä»²é–“ã®å¾…ã¤å ´æ‰€ã¨ã€æ–°ãŸãªé‹å‘½ã®å°ããŒåŒæ™‚ã«ã‚ãªãŸã‚’å‘¼ã‚“ã§ã„ãŸã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> é»’æ¸¦å›£äººäº‹æ‹…å½“å®˜ <small class="muted">ï¼ˆãƒªãƒ ã‚µãƒ»ãƒ­ãƒŸãƒ³ã‚µï¼šä¸Šç”²æ¿å±¤, X:13.1, Y:12.7ï¼‰</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="the-company-you-keep-maelstrom.html">æˆ‘ãŒè¡Œãé“ã¯â€¦â€¦ï¼ˆé»’æ¸¦å›£ï¼‰</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="sylph-management.html">é’è‘‰ã®æ€æƒ‘</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'ç›´è‡³å¤§æµ·åæ²’ä¸€åˆ‡',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
      <p>ä½ æ‰å‰›æ­£å¼åŠ å…¥é»‘æ¸¦åœ˜ï¼Œè€³é‚Šä¾¿éŸ¿èµ·äº† Minfilia é€é linkpearl å‚³ä¾†çš„è²éŸ³ã€‚å¥¹æ»¿æ‡·æ¬£æ…°åœ°ç¥è³€ä½ çš„æ–°èº«ä»½ï¼Œä½†åŒæ™‚å®å›‘ä½ ï¼šå³ä¾¿å¦‚ä»Šæ˜¯ Storm çš„ä¸€å“¡ï¼Œä½ ä¾ç„¶å±¬æ–¼ Scions çš„åŒä¼´ã€‚å¥¹èªªèˆŠå‹å€‘æ­£åœ¨ Waking Sands ç­‰å€™ï¼Œé‚„æœ‰ä¸€äº›æ–°é¢å­”æ¸´æœ›èˆ‡ä½ ç›¸è­˜ï¼Œå› æ­¤å¸Œæœ›ä½ èƒ½ç›¡å¿«å›å»ã€‚</p>
      <p>åœ¨å•Ÿç¨‹ä¹‹å‰ï¼Œä¸€åé»‘æ¸¦åœ˜è»å®˜å»ºè­°ä½ å»è¦‹æŒ‡æ®å®˜ Râ€™ashaht Rhikiã€‚è‡ªæ­¤ï¼Œä½ å¾—ä»¥æ¥å—ä»»å‹™ã€ŒMy Little Chocoboï¼ˆé»‘æ¸¦åœ˜ï¼‰ã€ï¼Œé€™æ˜¯æ¨é€²ã€ŠA Realm Rebornã€‹ä¸»ç·šçš„å¿…è¦ç’°ç¯€ã€‚æ–¼æ˜¯ï¼Œä½ é¢å‰å±•é–‹çš„ï¼Œä¸åƒ…æ˜¯è»æ—…ç”Ÿæ´»çš„è©¦ç…‰ï¼Œæ›´æ˜¯å‘½é‹èˆ‡ç¾ˆçµ†äº¤ç¹”çš„å¬å–šã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> é»‘æ¸¦åœ˜äººäº‹å®˜ <small class="muted">ï¼ˆåˆ©å§†è–©ï¼ç¾…æ•è–©ä¸Šå±¤ç”²æ¿, X:13.1, Y:12.7ï¼‰</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="the-company-you-keep-maelstrom.html">èˆ‡é»‘æ¸¦åŒè¡Œ</a></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="sylph-management.html">æ£®éˆçš„æ„åœ–</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }

function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  panels[key].innerHTML = t[key];
  if(key === 'story') wireClamp(panels[key], t);
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());
</script>
</body>
</html>
