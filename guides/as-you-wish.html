<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>As You Wish | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ As You Wish (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/9kmUl0_GiL8"
              title="As You Wish" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">As You Wish</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'As You Wish',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
      <p>Wheiskaet tells you he knows you must be eager to face Titan, and says that, as promised, they will show you the way. The time for tests and banter has passed; what remains now is to put their support into action.</p>
      <p>He orders you to travel to Bronze Lake in upper La Noscea, where you are to meet Riolâ€”another man who once served with the Company. Yet even as he gives the name, he makes it clear that this is not a simple rendezvous.</p>
      <p>To ensure their knowledge does not fall into the wrong hands, Riol will remain hidden until you give the correct signal. Wheiskaet takes your map and marks it with instructions you are not to ignore.</p>
      <p>You are to whistle loudly at three locations he indicates. Only after you have done so will Riol reveal himself and agree to meet you at the fourth location. Wheiskaet admits it may sound excessive, but insists you will understand once you grasp the risks inherent in their method.</p>
      <p>With the directions given, he offers a blunt kind of encouragement: they are all praying for your success, and now you are to go and send that bastard back to the depths from which he came.</p>
      <p>You make your way to Bronze Lake and reach Camp Bronze Lake, carrying the marked map and the weight of what lies ahead. There, Riol greets you like someone who has been waiting in the shadows for the right sign, asking if you are the one the captain said would come calling.</p>
      <p>He takes one look at you and seems satisfied. Then, with a warning edge in his voice, he tells you to pay attentionâ€”because he will not be explaining himself twice.</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Wheiskaet <small class="muted">Eastern La Noscea (X:32.6, Y:30.5)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="in-the-company-of-heroes.html">In the Company of Heroes</a></div>
      <div class="row">All classes and jobs (excluding limited jobs) (Level 33 or above)</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="lord-of-crags.html">Lord of Crags</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'å£ç¬›ã¯é¢¨ã«ä¹—ã‚Š',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
      <p>ã‚¦ã‚§ã‚¤ã‚¹ã‚±ãƒ¼ãƒˆã¯ã€ã‚ãªãŸãŒã‚¿ã‚¤ã‚¿ãƒ³ã«æŒ‘ã‚€ã“ã¨ã‚’å¾…ã¡ã‚ã³ã¦ã„ã‚‹ã ã‚ã†ã¨è¨€ã„ã€ç´„æŸã©ãŠã‚Šé“ã‚’ç¤ºã™ã¨å‘Šã’ã‚‹ã€‚è©¦ã™æ™‚ã¯çµ‚ã‚ã‚Šã€ä»Šã¯å½¼ã‚‰ãŒåŠ›ã‚’è²¸ã™ç•ªã ã¨ã§ã‚‚è¨€ã†ã‚ˆã†ã«ã€è©±ã‚’å…ˆã¸é€²ã‚ãŸã€‚</p>
      <p>å½¼ã¯ã€ä¸Šãƒ©ãƒã‚·ã‚¢ã®ãƒ–ãƒ­ãƒ³ã‚ºãƒ¬ã‚¤ã‚¯ã¸å‘ã‹ãˆã¨å‘½ã˜ã€ãã“ã§ãƒªã‚ªãƒ«ã¨ã„ã†ç”·ã«ä¼šã†ã®ã ã¨ä¼ãˆã‚‹ã€‚ãƒªã‚ªãƒ«ã‚‚ã¾ãŸã€ã‹ã¤ã¦æµ·é›„æ—…å›£ã«å±ã—ã¦ã„ãŸè€…ã ã¨ã„ã†ã€‚</p>
      <p>ã ãŒã€ãã‚Œã¯å˜ãªã‚‹å¾…ã¡åˆã‚ã›ã§ã¯ãªã„ã€‚å½¼ã‚‰ã®çŸ¥è­˜ãŒæ‚ªã—ãæ‰‹ã«æ¸¡ã‚‰ã¬ã‚ˆã†ã€ãƒªã‚ªãƒ«ã¯æ­£ã—ã„åˆå›³ã‚’å—ã‘å–ã‚‹ã¾ã§èº«ã‚’æ½œã‚ã¦ã„ã‚‹ã®ã ã¨ã€ã‚¦ã‚§ã‚¤ã‚¹ã‚±ãƒ¼ãƒˆã¯å¿µã‚’æŠ¼ã™ã€‚</p>
      <p>å½¼ã¯ã‚ãªãŸã®åœ°å›³ã‚’å—ã‘å–ã‚Šã€ä¸‰ã‹æ‰€ã«å°ã‚’ä»˜ã‘ã‚‹ã€‚ãã—ã¦ã€ãã®ä¸‰åœ°ç‚¹ã§å¤§ããå£ç¬›ã‚’å¹ã‘ã¨æŒ‡ç¤ºã—ã€ãã‚Œã‚’çµ‚ãˆã¦ã¯ã˜ã‚ã¦ã€å››ã¤ç›®ã®åœ°ç‚¹ã§ãƒªã‚ªãƒ«ãŒå§¿ã‚’ç¾ã—ã¦ä¼šã†ã®ã ã¨èª¬æ˜ã™ã‚‹ã€‚ä»Šã¯å¤§ã’ã•ã«æ€ãˆã‚‹ã‹ã‚‚ã—ã‚Œãªã„ãŒã€å½¼ã‚‰ã®æ‰‹æ³•ã«å†…åœ¨ã™ã‚‹å±é™ºã‚’ç†è§£ã™ã‚Œã°ã€ã“ã‚ŒãŒååˆ†ã«é“ç†ã ã¨ã‚ã‹ã‚‹ã¯ãšã ã¨è¨€ã†ã€‚</p>
      <p>æŒ‡ç¤ºã‚’æ¸¡ã—çµ‚ãˆã‚‹ã¨ã€å½¼ã¯ã¶ã£ãã‚‰ã¼ã†ã«åŠ±ã¾ã™ã€‚çš†ãŒã‚ãªãŸã®æˆåŠŸã‚’ç¥ˆã£ã¦ã„ã‚‹â€•â€•ã•ã‚è¡Œã£ã¦ã€ã‚ã®é‡éƒã‚’ã€æ¥ãŸã¨ã“ã‚ã®æ·±æ·µã¸å©ãè¿”ã—ã¦ã“ã„ã€ã¨ã€‚</p>
      <p>ã‚ãªãŸã¯å°ã®ä»˜ã„ãŸåœ°å›³ã‚’æ‰‹ã«ãƒ–ãƒ­ãƒ³ã‚ºãƒ¬ã‚¤ã‚¯ã¸å‘ã‹ã„ã€ãƒ–ãƒ­ãƒ³ã‚ºãƒ¬ã‚¤ã‚¯é‡å–¶åœ°ã¸è¾¿ã‚Šç€ãã€‚ãã“ã§ãƒªã‚ªãƒ«ãŒç¾ã‚Œã€éšŠé•·ãŒæ¥ã‚‹ã¨è¨€ã£ã¦ã„ãŸã®ã¯ãŠå‰ã‹ã€ã¨æ¢ã‚‹ã‚ˆã†ã«å£°ã‚’ã‹ã‘ã¦ãã‚‹ã€‚</p>
      <p>å½¼ã¯ã‚ãªãŸã‚’è¦‹ã¦ç´å¾—ã—ãŸã‚ˆã†ã«é ·ãã€æ³¨æ„ã—ã¦èã‘ã¨å‘Šã’ã‚‹ã€‚äºŒåº¦ã¯èª¬æ˜ã—ãªã„â€•â€•ãã†è¨€ã„åˆ‡ã‚‹å£èª¿ã«ã¯ã€éš å¯†ã«èº«ã‚’ç½®ã„ã¦ããŸè€…ã®è­¦æˆ’ãŒæ»²ã‚“ã§ã„ãŸã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ´ã‚§ã‚¤ã‚¹ã‚±ãƒ¼ãƒˆã€€<small class="muted">æ±ãƒ©ãƒã‚·ã‚¢ (X:32.6, Y:30.5)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="in-the-company-of-heroes.html">æ°¸é ãªã‚‹æµ·é›„æ—…å›£</a></div>
      <div class="row">ã™ã¹ã¦ï¼ˆãƒªãƒŸãƒ†ãƒƒãƒ‰ã‚¸ãƒ§ãƒ–ã‚’é™¤ãï¼‰Lv 33ï½</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="lord-of-crags.html">æ†¤æ€’ã®å²©ç¥ã‚¿ã‚¤ã‚¿ãƒ³</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'å¦‚ä½ æ‰€é¡˜ï¼Œå£ç¬›ä¹˜é¢¨',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
      <p>Wheiskaet çœ‹è‘—ä½ ï¼Œèªªä½ ä¸€å®šè¿«ä¸åŠå¾…æƒ³å»é¢å° Titanï¼›æ—¢ç„¶ä»–å·²æ‰¿è«¾ï¼Œå°±æœƒæŠŠé€šå¾€é‚£å ´æ±ºæˆ°çš„è·¯äº¤åˆ°ä½ æ‰‹ä¸Šã€‚å°ä»–è€Œè¨€ï¼Œå…ˆå‰é‚£äº›è€ƒé©—èˆ‡è©¦æ¢åˆ°æ­¤ç‚ºæ­¢ï¼Œæ¥ä¸‹ä¾†ä»–å€‘è¦åšçš„ï¼Œæ˜¯å…Œç¾ã€Œæ”¯æ´ä½ ã€çš„èª“è¨€ã€‚</p>
      <p>ä»–è¦ä½ å‰å¾€ä¸Šæ‹‰è«¾è¥¿äºçš„ Bronze Lakeï¼Œå»è¦‹ä¸€åå« Riol çš„äººâ€”â€”é‚£ä¹Ÿæ˜¯æ›¾åœ¨ Company è£¡æœå½¹çš„ç”·äººã€‚ä½†ä»–å¾ˆå¿«è£œä¸Šä¸€å¥ï¼šé€™ä¸æ˜¯æ™®é€šçš„æœƒé¢ã€‚</p>
      <p>ç‚ºäº†ç¢ºä¿é€™ä»½é—œéµæƒ…å ±ä¸æœƒè½å…¥ä¸è©²å¾—åˆ°çš„äººæ‰‹ä¸­ï¼ŒRiol æœƒä¸€ç›´èº²è—ï¼Œç›´åˆ°ä½ çµ¦å‡ºæ­£ç¢ºçš„ä¿¡è™Ÿæ‰æœƒç¾èº«ã€‚Wheiskaet è¦ä½ æŠŠåœ°åœ–äº¤çµ¦ä»–ï¼Œä¸¦è¦ªæ‰‹åœ¨ä¸Šé¢åšäº†æ¨™è¨˜ã€‚</p>
      <p>ä»–æŒ‡ç¤ºä½ å¿…é ˆåœ¨ä»–æ¨™å‡ºçš„ä¸‰å€‹åœ°é»å¤§è²å¹å£å“¨ï¼›åªæœ‰åœ¨ä½ å®Œæˆé€™ä¸‰æ¬¡ä¿¡è™Ÿä¹‹å¾Œï¼ŒRiol æ‰æœƒåœ¨ç¬¬å››å€‹åœ°é»å‡ºç¾èˆ‡ä½ ç¢°é¢ã€‚Wheiskaet æ‰¿èªé€™è½èµ·ä¾†æˆ–è¨±éæ–¼è¬¹æ…ï¼Œä½†ä»–è¦ä½ æ˜ç™½ï¼šç­‰ä½ çœŸæ­£ç†è§£ä»–å€‘çš„æ–¹æ³•æ‰€ä¼´éš¨çš„é¢¨éšªï¼Œå°±æœƒçŸ¥é“é€™ä»½å°å¿ƒçµ•ä¸æ˜¯å¤šé¤˜ã€‚</p>
      <p>äº¤ä»£å®Œä¸€åˆ‡ï¼Œä»–ç”¨æœ€ç›´ç™½çš„æ–¹å¼æ›¿ä½ é€è¡Œâ€”â€”ä»–èªªå¤§å®¶éƒ½åœ¨ç‚ºä½ çš„æˆåŠŸç¥ˆç¦±ï¼Œç„¶å¾Œè¦ä½ å‡ºç™¼ï¼ŒæŠŠé‚£å€‹æ··å¸³æ‰“å›ä»–ä¾†çš„æ·±æ·µã€‚</p>
      <p>ä½ å¸¶è‘—è¢«æ¨™è¨˜éçš„åœ°åœ–è¶•å¾€ Bronze Lakeï¼ŒæŠµé” Camp Bronze Lake æ™‚ï¼Œå¿ƒè£¡æ¸…æ¥šè‡ªå·±å·²ç¶“ç«™åœ¨ä¸‹ä¸€æ®µè·¯çš„å…¥å£ã€‚é€™æ™‚ï¼ŒRiol ç¾èº«å‘ä½ æ‰“æ‹›å‘¼ï¼Œåƒæ˜¯åœ¨ç¢ºèªä½ æ˜¯å¦å°±æ˜¯éšŠé•·æéã€æœƒä¾†æ‰¾ä»–çš„äººã€‚</p>
      <p>ä»–çœ‹è‘—ä½ ï¼Œä¼¼ä¹å·²ç¶“å¾—åˆ°ç­”æ¡ˆï¼Œéš¨å³ç”¨å¸¶è‘—è­¦å‘Šçš„èªæ°£è¦ä½ å°ˆå¿ƒè½å¥½â€”â€”å› ç‚ºä»–å¯ä¸æœƒæŠŠåŒæ¨£çš„è©±å†è§£é‡‹ç¬¬äºŒæ¬¡ã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> ç¶­æ–¯å‡±ç‰¹ã€€<small class="muted">æ‹‰è«¾è¥¿äºæ±éƒ¨ (X:32.6, Y:30.5)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="in-the-company-of-heroes.html">èˆ‡è‹±é›„ç‚ºä¼</a></div>
      <div class="row">æ‰€æœ‰è·æ¥­ï¼ˆä¸å«é™å®šè·ï¼‰ ç­‰ç´š 33 ä»¥ä¸Š</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="lord-of-crags.html">æ†¤æ€’çš„å²©ç¥æ³°å¦</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem('ffxiv-guide-lang') || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem('ffxiv-guide-lang', next);
  applyLang(next);
});

applyLang(getLang());

const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
