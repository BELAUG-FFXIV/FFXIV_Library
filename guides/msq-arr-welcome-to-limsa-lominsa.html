<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Welcome to Limsa Lominsa | BELAUG · FFXIV Library</title>
  <meta name="description" content="MSQ – Welcome to Limsa Lominsa (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} .video-wrap{position:relative;padding-top:56.25%} .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%} }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left"><a class="home" href="../index.html">🏠 Home</a></div>
      <div class="right"><button id="langToggle" class="icon-btn" aria-label="切換語言">🌐 EN</button></div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- 左：影片 -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/ktxcbn2sin8"
              title="Welcome to Limsa Lominsa" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- 右：標題 + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Welcome to Limsa Lominsa</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'Welcome to Limsa Lominsa',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest' },
    story:`<p>The city of Limsa Lominsa bustles with adventurers from across the realm, each drawn by whispers of glory or purpose. Among them steps a new arrival—an outsider with no fame, no power, just the will to begin anew. Greeted by Aetheryte Attendant and the Maelstrom’s watchful eye, they are welcomed not with fanfare, but with open opportunity. This is not a tale of greatness foretold, but of quiet beginnings in a city of sails and shadows. The harbor opens its arms… and so begins the journey.</p>`,
    /* Acquisition：只保留 Quest Giver */
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> <span class="muted">N/A (intro scene)</span></div>
    </div>`,
    /* 內文不重複 tab 名稱 → 只放連結或 N/A */
    unlockq:`<div class="stack">
      <div class="row"><span class="muted">N/A</span></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="we-must-rebuild.html">We Must Rebuild
</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'リムサ・ロミンサへの導き',
    tabs:{ story:'ストーリー', acq:'入手方法', unlockq:'開放クエスト', followq:'後続クエスト' },
    story:`<p>海都リムサ・ロミンサ――そこは、冒険者たちが己の夢と目的を胸に集う港町。名もなきひとりの来訪者が、今日またその地を踏みしめる。迎えるのは、エーテライト案内役と、メイルシュトロームの見守る視線。派手な演出はないが、確かな第一歩がそこにあった。これは予言された英雄譚ではなく、ひとりの無名なる旅人の静かな始まりの物語。帆と影が揺れるこの街から、冒険が動き出す。</p>`,
    acq:`<div class="stack">
      <div class="row"><b>クエスト発行</b> <span class="muted">（NPC未登場）</span></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><span class="muted">該当なし</span></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="we-must-rebuild.html">ウルダハ操車庫へ
</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'歡迎來到利姆薩．羅敏薩',
    tabs:{ story:'故事概要', acq:'取得方式', unlockq:'解鎖任務', followq:'後續任務' },
    story:`<p>Limsa Lominsa——一座繁忙的海港都市，迎來來自各地的冒險者。有的追尋榮耀，有的渴望改變。而今天，又有一名無名的旅人來到此地，懷抱著一份堅定而靜默的初心。在以太之環的指引下、在海軍守望的注視下，他／她邁出了第一步。這不是命運預言的英雄物語，而是一段在風帆與陰影交錯中誕生的平凡旅程。冒險，就此展開。</p>`,
    acq:`<div class="stack">
      <div class="row"><b>任務發布</b> <span class="muted">尚無 NPC</span></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><span class="muted">無</span></div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="we-must-rebuild.html">重建之路
</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `🌐 ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}
function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  panels[key].innerHTML = t[key];
}
tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});
langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});
applyLang(getLang());
</script>
</body>
</html>
