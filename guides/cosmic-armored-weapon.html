<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cosmic Armored Weapon | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="Call into battle your cosmic armored weapon, a deadly imperial warmachina-turned-handy (leggy?) exploration vehicle.">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} .video-wrap{position:relative;padding-top:56.25%} .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%} }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left"><a class="home" href="../index.html">ğŸ  Home</a></div>
      <div class="right"><button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button></div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/r2UsgDWIcoY" title="Cosmic Armored Weapon" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Cosmic Armored Weapon</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="about">About</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="seats">Seats</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-about" class="tab-panel active"></div>
          <div id="panel-acq"   class="tab-panel"></div>
          <div id="panel-seats" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script>
    const LANG_KEY = "ffxiv-guide-lang";
    const i18n = {
      EN: {
        langLabel: "EN",
        pageTitle: "Cosmic Armored Weapon",
        tabs: { about: "About", acq: "Acquisition", seats: "Seats", comments: "Comments" },
        about: `<div class="stack">
          <div class="row">Call into battle your cosmic armored weapon, a deadly imperial warmachina-turned-handy (leggy?) exploration vehicle.</div>
          <div class="row">This imperial warmachina has been adapted for use in the Cosmic Exploration Initiative. Its low stance and arachnoid legs combine to provide exceptional stability, allowing it to perform tasks with aplomb on Oizys, a planet where gravitational anomalies are a regularity.</div>
        </div>`,
        acq: `<div class="stack">
          <div class="row">Purchase from Mesouaidonque in Oizys for 60 Oizys Token Booklets</div>
        </div>`,
        seats: `<div class="stack"><div class="row">1</div></div>`
      },
      JP: {
        langLabel: "JP",
        pageTitle: "ã‚³ã‚¹ãƒ¢ãƒ»ã‚¢ãƒ¼ãƒ ãƒ‰ã‚¦ã‚§ãƒãƒ³",
        tabs: { about: "ç´¹ä»‹", acq: "å…¥æ‰‹æ–¹æ³•", seats: "åº§å¸­æ•°", comments: "ã‚³ãƒ¡ãƒ³ãƒˆ" },
        about: `<div class="stack">
          <div class="row">ã‚³ã‚¹ãƒ¢è£…ç”²å…µå™¨ã‚’å‘¼ã³å‡ºã—ã€ã‹ã¤ã¦ã¯å¸å›½è»ã®æ®ºæˆ®å…µå™¨ã ã£ãŸã‚¦ã‚©ãƒ¼ãƒã‚­ãƒŠã‚’ã€ä¾¿åˆ©ãªï¼ˆè„šä»˜ãï¼Ÿï¼‰æ¢ç´¢ç”¨ãƒ“ãƒ¼ã‚¯ãƒ«ã¨ã—ã¦é§†ã‚Šå‡ºãã†ã€‚</div>
          <div class="row">ã“ã®å¸å›½è»ã®ã‚¦ã‚©ãƒ¼ãƒã‚­ãƒŠã¯ã€ã‚³ã‚¹ãƒ¢ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼è¨ˆç”»å‘ã‘ã«è»¢ç”¨ã•ã‚ŒãŸã€‚ä½ã„é‡å¿ƒã¨ã‚¯ãƒ¢ã®ã‚ˆã†ãªè„šãŒå„ªã‚ŒãŸå®‰å®šæ€§ã‚’ç”Ÿã¿ã€é‡åŠ›ç•°å¸¸ãŒå¸¸æ…‹åŒ–ã—ã¦ã„ã‚‹æƒ‘æ˜Ÿã‚ªã‚¤ã‚¸ãƒ¥ã‚¹ã§ã‚‚ã€ä»»å‹™ã‚’å¹³ç„¶ã¨ã“ãªã›ã‚‹ã€‚</div>
        </div>`,
        acq: `<div class="stack">
          <div class="row">ã‚ªã‚¤ã‚¸ãƒ¥ã‚¹ã®ã€Œãƒ¡ã‚ºã‚¨ãƒ¼ãƒ‰ãƒ³ã‚¯ã€ã‹ã‚‰ã€ã€Œã‚ªã‚¤ã‚¸ãƒ¥ã‚¹ãƒ»ãƒˆãƒ¼ã‚¯ãƒ³å¸³ã€60å†Šã§äº¤æ›ã€‚</div>
        </div>`,
        seats: `<div class="stack"><div class="row">1</div></div>`
      },
      ZH: {
        langLabel: "ZH",
        pageTitle: "Cosmos è£ç”²æ­¦å™¨",
        tabs: { about: "ç°¡ä»‹", acq: "å–å¾—æ–¹å¼", seats: "å¯ä¹˜äººæ•¸", comments: "ç•™è¨€" },
        about: `<div class="stack">
          <div class="row">å¬å–šå‡ºä½ çš„ cosmic armored weaponâ€”â€”åŸæœ¬è‡´å‘½çš„å¸åœ‹æˆ°é¬¥æ©Ÿç”²ï¼Œå¦‚ä»Šæ–èº«ä¸€è®Šæˆäº†å¥½ç”¨çš„ï¼ˆæœ‰è…³çš„ï¼Ÿï¼‰æ¢ç´¢è¼‰å…·ã€‚</div>
          <div class="row">é€™å°å¸åœ‹æˆ°é¬¥æ©Ÿç”²å·²è¢«æ”¹è£ï¼ŒæŠ•å…¥å®‡å®™æ¢ç´¢è¨ˆç•«ä½¿ç”¨ã€‚ä½é‡å¿ƒçš„æ©Ÿé«”æ­é…èœ˜è››èˆ¬çš„å¤šè¶³çµæ§‹ï¼Œå¸¶ä¾†æ¥µä½³çš„ç©©å®šæ€§ï¼Œè®“å®ƒèƒ½åœ¨é‡åŠ›ç•°å¸¸é »ç¹ç™¼ç”Ÿçš„ Oizys ä¸Šå¾å®¹åŸ·è¡Œå„ç¨®å·¥ä½œã€‚</div>
        </div>`,
        acq: `<div class="stack">
          <div class="row">å¯åœ¨ Oizys å‘ Mesouaidonque ä»¥ 60 æœ¬ Oizys Token Booklets äº¤æ›å–å¾—ã€‚</div>
        </div>`,
        seats: `<div class="stack"><div class="row">1</div></div>`
      }
    };

    const langToggle  = document.getElementById("langToggle");
    const pageTitle   = document.getElementById("pageTitle");
    const tabBtns     = [...document.querySelectorAll(".tab-btn")];
    const panels = {
      about: panel("about"),
      acq: panel("acq"),
      seats: panel("seats"),
      comments: panel("comments")
    };

    function panel(id){ return document.getElementById("panel-" + id); }
    function getLang(){ return localStorage.getItem(LANG_KEY) || "EN"; }

    function applyLang(lang){
      const t = i18n[lang] || i18n.EN;
      pageTitle.textContent = t.pageTitle;
      langToggle.textContent = "ğŸŒ " + t.langLabel;
      tabBtns.forEach(b => { if (t.tabs[b.dataset.tab]) b.textContent = t.tabs[b.dataset.tab]; });
      const active = tabBtns.find(b => b.getAttribute("aria-selected") === "true") || tabBtns[0];
      renderPanel(active.dataset.tab, lang);
      if (active.dataset.tab === "comments") loadGiscusForCurrentLang();
    }

    function renderPanel(key, lang){
      const t = i18n[lang] || i18n.EN;
      Object.keys(panels).forEach(k => panels[k].classList.remove("active"));
      panels[key].classList.add("active");
      if (key !== "comments") panels[key].innerHTML = t[key];
      if (key === "comments") loadGiscusForCurrentLang();
    }

    tabBtns.forEach(btn=>{
      btn.addEventListener("click", ()=>{
        tabBtns.forEach(b => b.setAttribute("aria-selected","false"));
        btn.setAttribute("aria-selected","true");
        renderPanel(btn.dataset.tab, getLang());
      });
    });

    langToggle.addEventListener("click", ()=>{
      const cur  = getLang();
      const next = cur === "EN" ? "JP" : (cur === "JP" ? "ZH" : "EN");
      localStorage.setItem(LANG_KEY, next);
      applyLang(next);
    });

    applyLang(getLang());

    /* === giscusï¼ˆCommentsï¼‰è¨­å®š === */
    const GISCUS_CFG = {
      repo: 'BELAUG-FFXIV/FFXIV_Library',
      repoId: 'R_kgDOPyh4Kw',
      category: 'General',
      categoryId: 'DIC_kwDOPyh4K84CwPjL',
      theme: 'preferred_color_scheme'
    };
    function uiLang(code){ return code === 'JP' ? 'ja' : (code === 'ZH' ? 'zh-TW' : 'en'); }
    function loadGiscusForCurrentLang(){
      const mount = document.getElementById('giscus_container');
      if (!mount) return;
      mount.innerHTML = '';
      const langCode = getLang();
      const s = document.createElement('script');
      s.src = 'https://giscus.app/client.js';
      s.setAttribute('data-repo', GISCUS_CFG.repo);
      s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
      s.setAttribute('data-category', GISCUS_CFG.category);
      s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
      s.setAttribute('data-mapping', 'specific');
      s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
      s.setAttribute('data-reactions-enabled', '1');
      s.setAttribute('data-emit-metadata', '0');
      s.setAttribute('data-input-position', 'bottom');
      s.setAttribute('data-lang', uiLang(langCode));
      s.setAttribute('data-theme', GISCUS_CFG.theme);
      s.setAttribute('crossorigin', 'anonymous');
      s.async = true;
      mount.appendChild(s);
    }
  </script>
</body>
</html>
