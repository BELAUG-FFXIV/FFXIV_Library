<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sastasha | BELAUG · FFXIV Library</title>
  <meta name="description" content="FFXIV — Sastasha：故事概要、取得方式、需求條件與解鎖內容，附影片。">
  <link rel="icon" href="../img/favicon.ico" />
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">🏠 Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="切換語言">🌐 EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- Left: Video -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/Tykr3nXU5Cg"
              title="Sastasha" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- Right: Title + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Sastasha</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="req">Requirements</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlock">Unlocks</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-req"     class="tab-panel"></div>
          <div id="panel-unlock"  class="tab-panel"></div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'Sastasha',
    tabs:{ story:'Story', acq:'Acquisition', req:'Requirements', unlock:'Unlocks' },
    story:`<p>After a period of relative silence following the Calamity, the Serpent Reavers have once again taken to terrorizing the inland hamlets of La Noscea, killing the men, kidnapping the women and children, plundering the storehouses, and burning what little they leave behind. For years, it was not known how the pirates were able to raid areas so far from the coast, until a local shepherd sighted a band of painted ruffians entering the Sastasha Seagrot, carrying large quantities of sacks and crates. Could it be that there is more to this cave than meets the eye?</p>`,
    acq:`<div class="stack">
      <div class="row">1 to 4 players (1 Tank, 1 Healer, 2 DPS)</div>
      <div class="row">Class: Disciples of War or Magic<br>※ Limited jobs can participate only in a preformed party meeting party size requirements or an unrestricted party, and if duty rules allow.</div>
      <div class="row">Level: 15 (Sync from 18)<br>※ While synced, all item stats are adjusted.<br>※ Role and item level restrictions are lifted for parties meeting minimum size requirements.</div>
      <div class="row">Playlist: <a class="link" href="https://youtube.com/playlist?list=PLtC2r5occXAlDSN60J3W8gGCw_MHX9Gj6" target="_blank" rel="noopener">ARR Dungeon Playlist</a></div>
    </div>`,
    req:`<div class="stack"><div class="row">Prerequisite Quest: <a class="link" href="#">It’s Probably Pirates</a></div></div>`,
    unlock:`<div class="stack"><div class="row">Follow-up Quest: <a class="link" href="#">Call of the Forest</a></div></div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'天然要害 サスタシャ浸食洞',
    tabs:{ story:'ストーリー', acq:'入手方法', req:'必要条件', unlock:'開放コンテンツ' },
    story:`<p>第七霊災の後、しばし鳴りを潜めていた「サーペントリーヴァーズ」が、再びラノシア内陸の集落を脅かし始めた。男を殺し、女や子供をさらい、食糧庫を荒らしては、わずかに残したものまで焼き払うという。長らく彼らが海岸から遠く離れた地域を襲撃できる理由は謎とされていたが、ある羊飼いが大量の荷を担いだ一団が「サスタシャ浸食洞」に入るのを目撃したことで、その手口が露わになった。この洞窟には、まだ知られざる秘密が隠されているのだろうか。</p>`,
    acq:`<div class="stack"><div class="row">1～4人用（タンク1／ヒーラー1／DPS2）</div>
      <div class="row">参加クラス・ジョブ：ファイター／ソーサラー<br>※ リミテッドジョブは、規定人数を満たす事前結成パーティまたは制限解除パーティ、かつコンテンツルールが許可する場合にのみ参加可能。</div>
      <div class="row">レベル：15（制限18）<br>※ 同期中はアイテムのステータスが調整されます。<br>※ 最低人数を満たすパーティでは、ロール・IL制限が緩和されます。</div>
      <div class="row">プレイリスト：<a class="link" href="https://youtube.com/playlist?list=PLtC2r5occXAlDSN60J3W8gGCw_MHX9Gj6" target="_blank" rel="noopener">ARR ダンジョン再生リスト</a></div>
    </div>`,
    req:`<div class="stack"><div class="row">前提クエスト：<a class="link" href="#">サスタシャに挑む者</a></div></div>`,
    unlock:`<div class="stack"><div class="row">開放コンテンツ：<a class="link" href="#">森都で待つ仕事</a></div></div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'薩斯塔夏洞窟',
    tabs:{ story:'故事概要', acq:'取得方式', req:'需求條件', unlock:'解鎖內容' },
    story:`<p>在大災變過後沉寂一段時日的 Serpent Reavers，如今再次在 La Noscea 內陸的村落肆虐。他們屠殺男人、綁走婦女與孩童，掠奪糧倉，並將殘餘一切付之一炬。多年來，沒有人明白這群海盜為何能襲擊離海岸如此遙遠的地區，直到一名牧羊人目擊到成群塗著彩繪的惡徒，扛著大量袋子與木箱，鑽進了 Sastasha Seagrot。難道這座洞窟中，隱藏著不為人知的秘密？</p>`,
    acq:`<div class="stack"><div class="row">1 至 4 人（1 坦克，1 治療，2 輸出）</div>
      <div class="row">參加職業：戰鬥職（War/Magic）<br>※ 限定職僅可在符合人數要求的預組隊伍或無限制隊伍，且當關卡規則允許時參加。</div>
      <div class="row">等級：15（同步 18）<br>※ 同步時會調整裝備屬性。<br>※ 滿足最小入場人數的隊伍可解除部分角色與裝等限制。</div>
      <div class="row">播放清單：<a class="link" href="https://youtube.com/playlist?list=PLtC2r5occXAlDSN60J3W8gGCw_MHX9Gj6" target="_blank" rel="noopener">ARR 地城播放清單</a></div>
    </div>`,
    req:`<div class="stack"><div class="row">前置任務：<a class="link" href="#">薩斯塔夏的挑戰者</a></div></div>`,
    unlock:`<div class="stack"><div class="row">解鎖內容：<a class="link" href="#">森林的召喚</a></div></div>`
  }
};

const langToggle = document.getElementById('langToggle');
const pageTitle  = document.getElementById('pageTitle');
const tabBtns    = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  req:    document.getElementById('panel-req'),
  unlock: document.getElementById('panel-unlock')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `🌐 ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}
function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  panels[key].innerHTML = t[key];
}
tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});
langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});
const BOOT = getLang(); applyLang(BOOT);
</script>
</body>
</html>
