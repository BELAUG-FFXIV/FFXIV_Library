<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reap the Whirlwind | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ Reap the Whirlwind (ARR Patch 2.3)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/5hN8l5RUMTY"
              title="Reap the Whirlwind" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <section class="card">
        <div class="hd" id="pageTitle">Reap the Whirlwind</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"    class="tab-panel active"></div>
          <div id="panel-acq"      class="tab-panel"></div>
          <div id="panel-unlockq"  class="tab-panel"></div>
          <div id="panel-followq"  class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:`Reap the Whirlwind`,
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true"><p>You head to Stonesthrow with one task in mind: the merchant has been lurking at the edge of the refugee camp, waiting for the Flames to withdraw. Now that the soldiers are gone, nothing stands between him and the next step of his schemeâ€”and the refugeesâ€™ fear hardens into a plea. Find him, and make him stop before this â€œcauseâ€ claims even more lives.</p><p>Among the shaken camp, you meet Ele. Through sniffles, the child asks if you have seen their parentsâ€”told to wait with the others, promised they would return soon, yet days have passed with no sign. Ele explains they left with a man from Ulâ€™dah who spoke of changing everything, of letting them live inside the walls with everyone elseâ€¦until his words turned to making the rich pay, and the crowdâ€™s anger became something terrifying. When Ele asks who you seek, you make it clear: you are looking for the merchant.</p><p>Eleâ€™s answer breaks into sudden alarmâ€”there, over yonder. The man. Before the child can even finish the thought, the merchant is already moving, and you catch his voice as he slips away, weighing which â€œgullible foolâ€ might become his next victim. Eleâ€™s small voice chases after you like a hook in the ribs: heâ€™s getting awayâ€”go.</p><p>You corner him at the dispatch yard near Ulâ€™dah, and he whirls on you in panic and outrage. Sedition? Treason? Revolution? He spits the words back as if they are absurd, demanding to know who poisoned you with such accusationsâ€”refugees, he sneers, the same refugees who terrorized Ulâ€™dahâ€™s streets. He insists you have no proof, and refuses to be taken to the Hall of Flames, claiming you have no right to detain him.</p><p>Then his denial twists into a colder confession-by-implication: even if he had done what you claim, he says, it was not politicsâ€”it was business. And if you agree to protect him, he swears he will tell you everything. The bargain hangs in the air for only a heartbeatâ€”before a shout cuts through the yard, and an arrowâ€™s consequence answers for him.</p><p>Stone Torch arrives to the commotion and orders a searchâ€”the killer may still be close. When questioned, it becomes clear you are not the one they seek; the merchant, they remark, may have been responsible for the riots, and some might even call his murderer owed a debt of gratitude. But Swiftâ€™s reaction at the Hall of Flames is immediate and grim: the merchant was not simply murderedâ€”he was silenced, moments from divulging his secrets. Even so, Swift tells you not to despair. Whoever orchestrated the riots is closer to being unmasked than you may think.</p></div><div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack"><div class="row"><b>Quest Giver</b> Terrified Refugee <small class="muted">(Central Thanalan, X:25.2, Y:15.4)</small></div></div>`,
    unlockq:`<div class="stack"><div class="row"><a class="link" href="shock-and-awe.html">Shock and Awe</a></div><div class="row">All classes and jobs (excluding limited jobs) (Level 50 or above)</div></div>`,
    followq:`<div class="stack"><div class="row"><a class="link" href="revolution.html">Revolution</a></div></div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'æš—èºã®æœã¦',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true"><p>ã‚ãªãŸã¯ã‚¹ãƒˆãƒ¼ãƒ³ã‚¹ãƒ­ãƒ¼ã®é›£æ°‘ãŸã¡ã®ã‚‚ã¨ã¸å‘ã‹ã†ã€‚ã‚ã®å•†äººã¯ã€ä¸æ»…éšŠãŒå‘¨è¾ºã‹ã‚‰é€€ãã®ã‚’å¾…ã£ã¦é›£æ°‘ã«è¿‘ã¥ã“ã†ã¨ã—ã¦ã„ãŸâ€•â€•ãã—ã¦ä»Šã€ä¸æ»…éšŠã¯å»ã£ãŸã€‚æ­¢ã‚ã‚‹ã‚‚ã®ã¯ä½•ã‚‚ãªã„ã€‚ã“ã‚Œä»¥ä¸Šã€ç„¡ç›Šãªå¤§ç¾©ã®ãŸã‚ã«èª°ãŒæ­»ã­ã°ã„ã„ã®ã‹ã€‚çµ‚ã‚ã‚ŠãŒæ¥ã‚‹ã¾ã§ã€ã©ã‚Œã»ã©ã®è‹¦ã—ã¿ã‚’è€ãˆã­ã°ãªã‚‰ãªã„ã®ã‹ã€‚ã‚ãªãŸã¯ã€Œå½¼ã‚’è¦‹ã¤ã‘ã¦ã€ç‹‚ã£ãŸä¼ã¿ã‚’ã‚„ã‚ã•ã›ã¦ã»ã—ã„ã€ã¨è¨—ã•ã‚Œã‚‹ã€‚</p><p>ãã“ã§ã€é¼»ã‚’ã™ã™ã‚ŠãªãŒã‚‰éœ‡ãˆã‚‹å­ã©ã‚‚ã€ã‚¨ãƒ¬ã«å‘¼ã³æ­¢ã‚ã‚‰ã‚Œã‚‹ã€‚ã€ŒãŠçˆ¶ã•ã‚“ã¨ãŠæ¯ã•ã‚“ã‚’è¦‹ãªã‹ã£ãŸï¼Ÿã€â€•â€•ã»ã‹ã®ã¿ã‚“ãªã¨ä¸€ç·’ã«ã“ã“ã§å¾…ã¤ã‚ˆã†ã«è¨€ã‚ã‚Œã€ã™ãæˆ»ã‚‹ã¨è¨€ã‚ã‚ŒãŸã®ã«ã€ã‚‚ã†ä½•æ—¥ã‚‚çµŒã£ã¦ã„ã‚‹ã€‚ä¸¡è¦ªã¯ã‚¦ãƒ«ãƒ€ãƒã‹ã‚‰æ¥ãŸç”·ã¨ä¸€ç·’ã«å‡ºã¦è¡Œã£ãŸã®ã ã¨ã„ã†ã€‚åŸå£ã®å†…å´ã§ã€ã¿ã‚“ãªã¨åŒã˜ã‚ˆã†ã«æš®ã‚‰ã›ã‚‹ã‚ˆã†ã«ã€Œå¤‰ãˆã¦ãã‚Œã‚‹ã€ã¨è¨€ã£ãŸã‹ã‚‰ã€ã‚¨ãƒ¬ã¯ãã®è¨€è‘‰ãŒå¥½ãã ã£ãŸã€‚ã‘ã‚Œã©ã€ã€Œé‡‘æŒã¡ã«æ‰•ã‚ã›ã‚‹ã€ã¨èªã£ãŸã¨ãã€å‘¨ã‚Šã®æ€’ã‚ŠãŒéœ²ã‚ã«ãªã‚Šã€æ€–ããªã£ãŸâ€•â€•ã¨ã€‚ã‚ãªãŸãŒæ¢ã—ã¦ã„ã‚‹ã®ãŒå•†äººã ã¨å‘Šã’ã‚‹ã¨ã€ã‚¨ãƒ¬ã¯è¨€è‘‰ã‚’è©°ã¾ã‚‰ã›ã‚‹ã€‚</p><p>ãã®ã¨ãã€ã‚¨ãƒ¬ãŒé ãã‚’æŒ‡ã•ã™ã€‚ã€Œã‚ãã“â€¦â€¦ã‚ã‚ŒãŒã€ãã®äººã ã¨æ€ã†ï¼ã€ã€€ã‚ãªãŸãŒè¦–ç·šã‚’å‘ã‘ã‚‹ã‚ˆã‚Šæ—©ãã€ç”·ã¯é€ƒã’ã«è»¢ã˜ã‚‹ã€‚ã™ã‚Œé•ã„ã–ã¾ã«èã“ãˆãŸã®ã¯ã€èª°ã‚’æ¬¡ã®ç²ç‰©ã«ã™ã‚‹ã‹å“å®šã‚ã™ã‚‹ã‚ˆã†ãªå‘Ÿãâ€•â€•ã€Œã©ã®é¨™ã•ã‚Œã‚„ã™ã„æ„šã‹è€…ã‚’ã€æ¬¡ã®çŠ ç‰²ã«ã—ã¦ã‚„ã‚ã†ã‹ã€ã¨ã€‚ã‚¨ãƒ¬ã®å£°ãŒè¿½ã„ã™ãŒã‚‹ã€‚ã€Œé€ƒã’ã‚‹ã‚ˆï¼ã€€è¿½ã„ã‹ã‘ã¦ï¼ã€</p><p>ã‚ãªãŸãŒè¿½ã„è©°ã‚ã‚‹ã¨ã€å•†äººã¯ç‹¼ç‹½ã—ãªãŒã‚‰å«ã¶ã€‚ã€Œã¾ãŸãŠå‰ã‹ï¼ï¼Ÿã€€ãªã€ãªãœè¿½ã£ã¦ãã‚‹ï¼ï¼Ÿã€ã€€æ‰‡å‹•ã€åé€†ã€é©å‘½â€•â€•ãã‚“ãªã‚‚ã®ã¯ã§ã£ã¡ä¸Šã’ã ã¨è¨€ã„å¼µã‚Šã€èª°ãŒãã‚“ãªå˜˜ã‚’å¹ãè¾¼ã‚“ã ã®ã‹ã¨ã‚ãªãŸã‚’è©°ã‚‹ã€‚é›£æ°‘ã ã‚ã†ã€ã¨ã€‚ã‚¦ãƒ«ãƒ€ãƒã®è¡—ã‚’ææ€–ã«é™¥ã‚ŒãŸã€ã‚ã®é›£æ°‘ãŸã¡ã ã‚ã†ã€ã¨å˜²ã‚‹ã€‚è¨¼æ‹ ã¯ãªã„ã€ä½•ã²ã¨ã¤ãªã„ã€ã¨ã€‚</p><p>ãã—ã¦å½¼ã¯ã€ä¸æ»…éšŠæœ¬éƒ¨ã¸é€£è¡Œã•ã‚Œã‚‹ã“ã¨ã‚’æ‹’ã‚€ã€‚ã€Œæ‹˜æŸã™ã‚‹æ¨©åˆ©ãªã©ãªã„ã€ã¨éœ‡ãˆã‚‹å£°ã§è¨€ã„å‹Ÿã‚ŠãªãŒã‚‰ã€ãµã„ã«å£ã¶ã‚Šã‚’å¤‰ãˆã‚‹ã€‚ä»®ã«â€•â€•ä»®ã«è‡ªåˆ†ãŒã‚„ã£ãŸã¨ã—ã¦ã‚‚ã€æ”¿æ²»ã«ãªã©èˆˆå‘³ã¯ãªã„ã€ã¨ã€‚ãã‚“ãªã‚‚ã®ã¯ã©ã†ã§ã‚‚ã„ã„ã€‚ã“ã‚Œã¯å•†å£²ã ã€ãŸã ã®å•†å£²ã ã€ã¨ã€‚ã‚ãªãŸãŒæœ¬å½“ã«ç‹™ã£ã¦ã„ã‚‹ç›¸æ‰‹ã¯è‡ªåˆ†ã§ã¯ãªã„ã€ã¨ã‚‚ã€‚ã ãŒã€ã‚ãªãŸãŒè‡ªåˆ†ã‚’å®ˆã‚‹ã¨ç´„æŸã™ã‚‹ãªã‚‰ã€ã™ã¹ã¦è©±ã™ã¨èª“ã†ã€‚</p><p>ãã®å–å¼•ãŒå½¢ã«ãªã‚‹å‰ã«ã€é¨’ãã‚’èãã¤ã‘ã¦ã‚¹ãƒˆãƒ¼ãƒ³ãƒˆãƒ¼ãƒãŒé§†ã‘ã¤ã‘ã‚‹ã€‚ã€Œä½•äº‹ã ï¼ã€ã€€å‘¨å›²ã¸æœç´¢ã‚’å‘½ã˜ã‚‹å£°ãŒé£›ã¶ã€‚çŠ¯äººã¯ã¾ã è¿‘ãã«ã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„â€•â€•ã¨ã€‚çŠ¶æ³ã‚’å•ã‚ã‚Œã¦ã‚‚ã€ã‚ãªãŸãŒè¿½ã‚ã‚Œã‚‹ã¹ãäººç‰©ã§ã¯ãªã„ã“ã¨ã¯æ˜ã‚‰ã‹ã ã£ãŸã€‚çŸ¢ãŒæ”¾ãŸã‚ŒãŸæ–¹è§’ã‚’èã„ãŸã‚¹ãƒˆãƒ¼ãƒ³ãƒˆãƒ¼ãƒã¯ã€å°„æ‰‹ã®è…•å‰ã«è¨€åŠã—ãªãŒã‚‰ã€ã‚ãªãŸã«ã€Œæšã€ã¨ã—ã¦æœæŸ»ã‚’ç¶šã‘ã‚‹ã‚ˆã†ä¿ƒã™ã€‚</p><p>ä¸æ»…éšŠæœ¬éƒ¨ã§ã‚¹ã‚¦ã‚£ãƒ•ãƒˆã«å ±å‘Šã™ã‚‹ã¨ã€è¿”ã£ã¦ããŸã®ã¯è‹›ç«‹ã¡ã¨ç¢ºä¿¡ã ã£ãŸã€‚ã€Œæ®ºã•ã‚ŒãŸï¼ï¼Ÿã€€ããã£â€¦â€¦ï¼ã€ã€€å•†äººã¯ãŸã æ®ºã•ã‚ŒãŸã®ã§ã¯ãªã„ã€å£å°ã˜ã«ã•ã‚ŒãŸã®ã ã€‚é¡”ã‚’çŸ¥ã‚‹è€…ãŒå¤šãã€ç§˜å¯†ã‚’æ˜ã‹ãã†ã¨ã—ã¦ã„ãŸã‹ã‚‰ã“ãâ€•â€•ã¨ã€‚ãã‚Œã§ã‚‚ã€çµ¶æœ›ã™ã‚‹ãªã€ã¨ã‚¹ã‚¦ã‚£ãƒ•ãƒˆã¯è¨€ã†ã€‚æš´å‹•ã‚’æ“ã£ãŸçœŸã®é»’å¹•ã¸ã€ã‚ãªãŸã¯æ€ã£ã¦ã„ã‚‹ä»¥ä¸Šã«è¿‘ã¥ã„ã¦ã„ã‚‹ã€‚</p></div><div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack"><div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> éœ‡ãˆä¸ŠãŒã£ãŸç”· <small class="muted">ï¼ˆä¸­å¤®ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³, X:25.2, Y:15.4ï¼‰</small></div></div>`,
    unlockq:`<div class="stack"><div class="row"><a class="link" href="shock-and-awe.html">æ­¦å™¨ã‚’å–ã£ãŸäººã€…</a></div><div class="row">ã™ã¹ã¦ï¼ˆãƒªãƒŸãƒ†ãƒƒãƒ‰ã‚¸ãƒ§ãƒ–ã‚’é™¤ãï¼‰Lv 50ï½</div></div>`,
    followq:`<div class="stack"><div class="row"><a class="link" href="revolution.html">ãƒ•ãƒ­ãƒ³ãƒ†ã‚£ã‚¢è¨ˆç”»</a></div></div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'è‡ªé£Ÿæƒ¡æœ',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true"><p>ä½ è¶•åˆ° Stonesthrowï¼Œå› ç‚ºé‚£åå•†äººä¸€ç›´åœ¨ç­‰ Flames æ’¤é›¢é™„è¿‘æ‰æ•¢é è¿‘é›£æ°‘ã€‚å¦‚ä»Š Flames å·²ç¶“æ’¤èµ°ï¼Œä»–çš„è¡Œå‹•å†ä¹Ÿæ²’æœ‰é˜»ç¤™ã€‚é›£æ°‘çš„ææ‡¼åŒ–æˆä¸€å€‹è«‹æ±‚ï¼šé€™å ´å¾’å‹çš„ã€Œå¤§ç¾©ã€ç©¶ç«Ÿé‚„è¦å¥ªèµ°å¤šå°‘æ€§å‘½ï¼Œé‚„è¦è®“ä»–å€‘æ‰¿å—å¤šå°‘ç—›è‹¦æ‰æœƒçµæŸã€‚ä½ è¢«è¨—ä»˜å»æ‰¾åˆ°ä»–ï¼Œèªªæœä»–åœæ­¢é€™å ´ç˜‹ç‹‚çš„è¿½é€ï¼Œå¦å‰‡åªæœƒæŠŠæ‰€æœ‰äººå¸¶å‘æ¯€æ»…ã€‚</p><p>åœ¨ç‡Ÿåœ°è£¡ï¼Œä½ é‡è¦‹äº†å“­å¾—ä¸Šæ°£ä¸æ¥ä¸‹æ°£çš„ Eleã€‚ä½ é‚„æ²’é–‹å£ï¼ŒEle å°±å“½å’½è‘—å•ä½ æœ‰æ²’æœ‰çœ‹è¦‹çˆ¸çˆ¸åª½åª½â€”â€”ä»–å€‘è¦ Ele è·Ÿå¤§å®¶ä¸€èµ·å¾…åœ¨é€™è£¡ï¼Œèªªå¾ˆå¿«å°±æœƒå›ä¾†ï¼Œå¯æ˜¯å·²ç¶“å¥½å¹¾å¤©äº†ã€‚Ele å‘Šè¨´ä½ ï¼Œçˆ¸çˆ¸åª½åª½è·Ÿè‘—ä¸€å€‹ä¾†è‡ª Ulâ€™dah çš„ç”·äººé›¢é–‹ï¼›é‚£å€‹äººèªªè¦æ”¹è®Šä¸€åˆ‡ï¼Œè®“ä»–å€‘ä¹Ÿèƒ½è·Ÿå¤§å®¶ä¸€æ¨£ä½é€²åŸç‰†ä¹‹å…§ã€‚Ele æ›¾ç¶“å–œæ­¡é‚£å¥è©±ï¼Œä½†ç•¶é‚£äººé–‹å§‹èªªè¦è®“æœ‰éŒ¢äººä»˜å‡ºä»£åƒ¹æ™‚ï¼Œå››å‘¨çš„äººéƒ½è®Šå¾—æ†¤æ€’ï¼ŒEle ä¹Ÿå› æ­¤å®³æ€•èµ·ä¾†ã€‚ä½ å‘Šè¨´ Eleï¼Œä½ æ­£åœ¨æ‰¾çš„å°±æ˜¯é‚£åå•†äººã€‚</p><p>Ele å…ˆæ˜¯èŒ«ç„¶ï¼Œéš¨å³åƒè¢«ä»€éº¼åˆºåˆ°ä¼¼çš„æŠ¬é ­æŒ‡å‘é è™•â€”â€”ã€Œçœ‹ï¼æˆ‘è¦ºå¾—å°±æ˜¯ä»–ï¼ã€ä½ å¾ªè‘—æ–¹å‘æœ›å»ï¼Œé‚£åå•†äººå·²ç¶“è½‰èº«é€ƒé–‹ï¼Œä½ åªè½è¦‹ä»–å†·å†·åœ°è‡ªèªï¼Œåƒåœ¨æŒ‘é¸ä¸‹ä¸€å€‹ã€Œå—é¨™çš„è ¢è²¨ã€è¦æˆç‚ºä»–çš„çµç‰©ã€‚Ele çš„è²éŸ³æ€¥å¾—ç™¼é¡«ï¼Œå‚¬ä½ ç«‹åˆ»è¿½ä¸Šå»ï¼šä»–è¦é€ƒèµ°äº†ï¼Œä¸èƒ½è®“ä»–è·‘æ‰ã€‚</p><p>ä½ åœ¨ Ulâ€™dah é™„è¿‘çš„æ´¾é£æ“šé»æˆªä½ä»–ï¼Œä»–å›éèº«æ™‚æ»¿è‡‰é©šæåˆæƒ±æ€’ï¼Œçµçµå·´å·´åœ°åå•ä½ ç‚ºä»€éº¼è¦è¿½ä»–ã€‚ç…½å‹•ã€å›åœ‹ã€é©å‘½â€”â€”ä»–æŠŠé€™äº›æŒ‡æ§ç•¶æˆè’å”è‡³æ¥µçš„ç¬‘è©±ï¼Œè³ªå•åˆ°åº•æ˜¯èª°æŠŠé€™äº›è¬Šè¨€å¡é€²ä½ è…¦å­è£¡ï¼›æ˜¯é›£æ°‘å—ï¼Ÿå°±æ˜¯é‚£äº›æ›¾åœ¨ Ulâ€™dah è¡—é ­å¼•ç™¼ææ…Œçš„é›£æ°‘å—ï¼Ÿä»–å˜²è«·è‘—å¤§ç¬‘ï¼Œå …ç¨±ä½ ä¸€é»è­‰æ“šéƒ½æ²’æœ‰ã€‚</p><p>ä»–æ‹’çµ•è·Ÿä½ å» Hall of Flamesï¼Œè²ç¨±ä½ æ²’æœ‰æ¬ŠåŠ›æ‹˜ç•™ä»–ã€‚å¯ä¸‹ä¸€ç¬ï¼Œä»–çš„å£æ°£åˆè®Šå¾—é™°å†·è€Œç¾å¯¦ï¼šå°±ç®—â€”â€”å°±ç®—ä»–çœŸçš„åšäº†ä½ èªªçš„é‚£äº›äº‹ï¼Œé‚£ä¹Ÿä¸æ˜¯æ”¿æ²»ï¼Œè€Œæ˜¯ç”Ÿæ„ï¼Œç´”ç²¹çš„ç”Ÿæ„ã€‚ä»–èªªä½ çœŸæ­£æƒ³æ‰¾çš„äººä¸æ˜¯ä»–ï¼›ä½†å¦‚æœä½ é¡˜æ„ä¿è­·ä»–ï¼Œä»–å°±ç™¼èª“æœƒæŠŠä¸€åˆ‡éƒ½å‘Šè¨´ä½ ã€‚é‚£å¥ã€Œæˆ‘æœƒèªªã€é‚„æ‡¸åœ¨ç©ºæ°£è£¡ï¼Œå±€å‹¢å°±è¢«çªå¦‚å…¶ä¾†çš„é¨·å‹•æ‰“æ–·ã€‚</p><p>Stone Torch è½è¦‹å‹•éœè¶•ä¾†ï¼Œç«‹åˆ»å‘½äººåˆ†æ•£æœç´¢ï¼Œå› ç‚ºå…‡æ‰‹å¯èƒ½é‚„åœ¨é™„è¿‘ã€‚ä½ è¢«è¦æ±‚äº¤ä»£ç¶“éï¼Œä½†å¾ç¾å ´çš„ç·šç´¢ä¾†çœ‹ï¼Œä½ é¡¯ç„¶ä¸æ˜¯ä»–å€‘è¦æŠ“çš„äººã€‚Stone Torch ç”šè‡³å†·æ·¡åœ°è©•äº†ä¸€å¥ï¼šè‹¥é€™åå•†äººçœŸæ˜¯è¿‘æœŸæš´å‹•çš„å…ƒå…‡ï¼Œä¹Ÿè¨±æœ‰äººæœƒæŠŠæ®ºä»–çš„äººç•¶æˆã€Œæ›¿å¤§å®¶å‡ºäº†ä¸€å£æ°£ã€ã€‚ç„¶è€Œç•¶ä½ æŠŠæ¶ˆæ¯å¸¶å› Hall of Flamesï¼ŒSwift çš„åæ‡‰æ›´ç›´æ¥ã€æ›´æ²‰é‡â€”â€”é‚£åå•†äººä¸æ˜¯å–®ç´”è¢«æ®ºï¼Œè€Œæ˜¯è¢«ã€Œæ»…å£ã€ï¼Œå› ç‚ºä»–æ­£æº–å‚™åéœ²ç§˜å¯†ã€‚Swift è¦ä½ åˆ¥ç°å¿ƒï¼šä½ é›¢æªå‡ºçœŸæ­£æ“ç¸±æš´å‹•çš„é»‘æ‰‹ï¼Œæ¯”ä½ ä»¥ç‚ºçš„æ›´è¿‘ã€‚</p></div><div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack"><div class="row"><b>Quest Giver</b> é©šæçš„é›£æ°‘ <small class="muted">(è–©ç´è˜­ - ä¸­å¤®è–©ç´è˜­, X:25.2, Y:15.4)</small></div></div>`,
    unlockq:`<div class="stack"><div class="row"><a class="link" href="shock-and-awe.html">æ‹¿èµ·æ­¦å™¨çš„äººå€‘</a></div><div class="row">æ‰€æœ‰è·æ¥­ï¼ˆä¸å«é™å®šè·ï¼‰ ç­‰ç´š 50 ä»¥ä¸Š</div></div>`,
    followq:`<div class="stack"><div class="row"><a class="link" href="revolution.html">é‚Šå¢ƒè¨ˆç•«</a></div></div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle.replace(/&#39;/g,"'");
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

const GISCUS_CFG = {
      repo: 'BELAUG-FFXIV/FFXIV_Library',
      repoId: 'R_kgDOPyh4Kw',
      category: 'General',
      categoryId: 'DIC_kwDOPyh4K84CwPjL',
      theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
