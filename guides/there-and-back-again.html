<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>There and Back Again | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ There and Back Again (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/TrDM3TjN718"
              title="There and Back Again" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">There and Back Again</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'There and Back Again',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
      <p>Uâ€™odh Nunh presses a bottle into your hands and asks you to deliver it to the captain. He says the captain was always fond of this brandewine, and he would be grateful if you carried it on his behalf.</p>
      <p>He doesnâ€™t linger on sentiment for long, but the memory is clearly there. When he first joined the Company of Heroes, he says, he was reckless and angryâ€”someone the captain would have been well within his rights to cast out.</p>
      <p>Instead, the captain kept him close and taught him. Uâ€™odh Nunh tells you that everything he has now is owed to that wisdom and generosity.</p>
      <p>He remembers Wheiskaet as firm yet fairâ€”an expert molder of menâ€”and suspects that is still the case today. Before you leave, he asks you to give the captain his regards.</p>
      <p>Then his voice turns hard with warning. You are a skilled hunter, he says, but your next quarry is a god. Blind recklessness will avail you naught against such foes, regardless of what Landenel may claim. Carrying both the bottle and the caution, you head for Costa del Sol.</p>
      <p>At Costa del Sol, Wheiskaet greets you and says both Landenel and Uâ€™odh Nunh spoke highly of you, asking what brings you here. When you present the bottle, his face brightensâ€”his favoriteâ€”and he says he will have to thank the nunh personally. Then he brings you back to the task: only one ingredient remains, and fortunately, you will not have to travel to Aldenard this time to obtain it.</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Uâ€™odh Nunh <small class="muted">Southern Thanalan (X:14.3, Y:29.9)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="when-the-worm-turns.html">When the Worm Turns</a></div>
      <div class="row">All classes and jobs (excluding limited jobs) (Level 31 or above)</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-things-we-do-for-cheese.html">The Things We Do for Cheese</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'æ€ã„å‡ºã®åœŸç”£é…’',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
      <p>ã‚¦ãƒ»ã‚ªãƒ‰ãƒ»ãƒŒãƒ³ã¯ã‚ãªãŸã«é…’ç“¶ã‚’è¨—ã—ã€éšŠé•·ãŒã“ã®ãƒ–ãƒ©ãƒ³ãƒ‡ãƒ¼ãƒ¯ã‚¤ãƒ³ã‚’å¥½ã‚“ã§ã„ãŸã®ã ã¨å‘Šã’ã‚‹ã€‚è‡ªåˆ†ã®ä»£ã‚ã‚Šã«å±Šã‘ã¦ã‚‚ã‚‰ãˆã‚Œã°ã‚ã‚ŠãŒãŸã„ã€ã¨é™ã‹ã«é ¼ã‚“ã ã€‚</p>
      <p>ãã—ã¦å½¼ã¯ã€æµ·é›„æ—…å›£ã«åŠ ã‚ã£ãŸã°ã‹ã‚Šã®é ƒã‚’æŒ¯ã‚Šè¿”ã‚‹ã€‚ã‚ã®é ƒã®è‡ªåˆ†ã¯å‘ã“ã†è¦‹ãšã§æ€’ã‚Šã£ã½ãã€éšŠé•·ãŒè¿½ã„å‡ºã—ã¦ã‚‚å½“ç„¶ã ã£ãŸã®ã ã¨è¨€ã†ã€‚</p>
      <p>ã ãŒéšŠé•·ã¯ãã†ã—ãªã‹ã£ãŸã€‚è¦‹æ¨ã¦ãšã«å°ãã€é›ãˆã€é“ã‚’ç¤ºã—ãŸã€‚ãã®çŸ¥æµã¨å¯›å¤§ã•ãŒã‚ã£ãŸã‹ã‚‰ã“ãã€ã„ã¾ã®è‡ªåˆ†ãŒã‚ã‚‹ã®ã ã¨ã€ã‚¦ãƒ»ã‚ªãƒ‰ãƒ»ãƒŒãƒ³ã¯ã¯ã£ãã‚Šå£ã«ã™ã‚‹ã€‚</p>
      <p>ãƒ´ã‚§ã‚¤ã‚¹ã‚±ãƒ¼ãƒˆã¯å³ã—ãã‚‚å…¬å¹³ãªå¸«ã§ã‚ã‚Šã€äººã‚’é›ãˆä¸Šã’ã‚‹ã“ã¨ã«é•·ã‘ãŸç”·ã ã£ãŸã€‚ã‚¦ãƒ»ã‚ªãƒ‰ãƒ»ãƒŒãƒ³ã¯ä»Šã‚‚ãã£ã¨å¤‰ã‚ã‚‰ã¬ã¯ãšã ã¨èªã‚Šã€ã‚ãªãŸã«éšŠé•·ã¸ã®æŒ¨æ‹¶ã‚’è¨—ã—ãŸã€‚</p>
      <p>ã ãŒæ¬¡ã®è¨€è‘‰ã¯è­¦å‘Šã¨ãªã‚‹ã€‚ã‚ãªãŸãŒè…•ã®ç«‹ã¤ç‹©äººã§ã‚ã‚‹ã“ã¨ã¯èªã‚ã‚‹ãŒã€æ¬¡ã«ç‹™ã†ç›¸æ‰‹ã¯ç¥ã ã¨è¨€ã†ã€‚ç›²ç›®çš„ãªå‘ã“ã†è¦‹ãšã¯ä½•ã®å½¹ã«ã‚‚ç«‹ãŸãªã„â€•â€•ãƒ©ãƒ³ãƒ‰ã‚¥ãƒãƒ«ãŒä½•ã‚’èªã‚ã†ã¨ã‚‚åŒã˜ã ã¨é‡˜ã‚’åˆºã—ã€ã‚ãªãŸã¯é…’ç“¶ã¨ãã®å¿ å‘Šã‚’èƒ¸ã«ã€ã‚³ã‚¹ã‚¿ãƒ»ãƒ‡ãƒ«ãƒ»ã‚½ãƒ«ã¸å‘ã‹ã£ãŸã€‚</p>
      <p>ã‚³ã‚¹ã‚¿ãƒ»ãƒ‡ãƒ«ãƒ»ã‚½ãƒ«ã§ãƒ´ã‚§ã‚¤ã‚¹ã‚±ãƒ¼ãƒˆã¯ã‚ãªãŸã‚’è¿ãˆã€ãƒ©ãƒ³ãƒ‰ã‚¥ãƒãƒ«ã¨ã‚¦ãƒ»ã‚ªãƒ‰ãƒ»ãƒŒãƒ³ã®ãµãŸã‚Šã‹ã‚‰é«˜ãè©•ä¾¡ã™ã‚‹è©±ã‚’èã„ã¦ã„ã‚‹ã¨è¨€ã£ã¦ç”¨ä»¶ã‚’å°‹ã­ã‚‹ã€‚é…’ç“¶ã‚’å·®ã—å‡ºã™ã¨ã€å½¼ã¯ãã‚ŒãŒè‡ªåˆ†ã®å¥½ç‰©ã ã¨å–œã³ã€ãƒŒãƒ³ã«ã¯ç›´æ¥ç¤¼ã‚’è¨€ã‚ã­ã°ãªã‚‰ãªã„ã¨å£ã«ã—ãŸã€‚ã ãŒã™ãã«æœ¬é¡Œã¸æˆ»ã‚Šã€æ®‹ã‚‹é£Ÿæã¯ã‚ã¨ã²ã¨ã¤ã§ã‚ã‚Šã€ä»Šå›ã¯ã‚¢ãƒ«ãƒ‡ãƒŠãƒ¼ãƒ‰ã¸æ¸¡ã‚‰ãšã¨ã‚‚æ‰‹ã«å…¥ã‚‹ã®ã ã¨å‘Šã’ãŸã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ã‚¦ãƒ»ã‚ªãƒ‰ãƒ»ãƒŒãƒ³ã€€<small class="muted">å—ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³ (X:14.3, Y:29.9)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="when-the-worm-turns.html">ãƒ©ãƒ ãƒˆãƒ³ã‚¦ã‚©ãƒ¼ãƒ ã®è‚‰</a></div>
      <div class="row">ã™ã¹ã¦ï¼ˆãƒªãƒŸãƒ†ãƒƒãƒ‰ã‚¸ãƒ§ãƒ–ã‚’é™¤ãï¼‰Lv 31ï½</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-things-we-do-for-cheese.html">ãƒ–ãƒ¬ã‚¤ãƒ•ãƒ­ã‚¯ã‚¹ã®çãƒãƒ¼ã‚º</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'å¸¶è‘—å›æ†¶æ­¸ä¾†çš„é…’',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
      <p>Uâ€™odh Nunh æŠŠä¸€ç“¶é…’äº¤åˆ°ä½ æ‰‹ä¸Šï¼Œè«‹ä½ ä»£ä»–è½‰äº¤çµ¦é‚£ä½éšŠé•·ã€‚ä»–èªªéšŠé•·ä¸€ç›´å¾ˆå–œæ­¡é€™æ¬¾ç™½è˜­åœ°é…’ï¼Œè‹¥ä½ é¡˜æ„ä»£é€ï¼Œä»–æœƒéå¸¸æ„Ÿæ¿€ã€‚</p>
      <p>ä»–æ¥è‘—è«‡èµ·è‡ªå·±å‰›åŠ å…¥ Company of Heroes çš„é‚£æ®µæ—¥å­ã€‚é‚£æ™‚çš„ä»–è½æ’åˆæ†¤æ€’ï¼Œç…§ç†èªªéšŠé•·å®Œå…¨æœ‰ç†ç”±æŠŠä»–è¶•èµ°ã€‚</p>
      <p>ä½†éšŠé•·æ²’æœ‰é‚£éº¼åšã€‚Uâ€™odh Nunh èªªï¼Œè‡ªå·±å¦‚ä»Šæ‰€æ“æœ‰çš„ä¸€åˆ‡ï¼Œéƒ½è¦æ­¸åŠŸæ–¼å°æ–¹çš„æ™ºæ…§èˆ‡æ…·æ…¨â€”â€”æ˜¯é‚£ä»½æ•™å°æŠŠä»–ç•™ä¸‹ä¾†ï¼Œä¸¦æŠŠä»–ç£¨æˆç¾åœ¨çš„æ¨£å­ã€‚</p>
      <p>åœ¨ä»–å¿ƒè£¡ï¼ŒWheiskaet ä¸€ç›´æ˜¯åš´å²å»å…¬æ­£çš„è€å¸«ï¼Œæ“…é•·é›éŠèˆ‡å¡‘é€ äººï¼›ä»–ä¹Ÿç›¸ä¿¡å°æ–¹å¦‚ä»Šä»ç„¶å¦‚æ­¤ã€‚è‡¨åˆ¥å‰ï¼Œä»–è«‹ä½ æ›¿ä»–å‘éšŠé•·è½‰é”å•å€™ã€‚</p>
      <p>ç„¶è€Œä»–å¾ˆå¿«æ”¶æ–‚ç¥è‰²ï¼Œç”¨æ›´æ²‰çš„èªæ°£æé†’ä½ ï¼šä½ ç¢ºå¯¦æ˜¯å€‹æŠ€è—é«˜è¶…çš„çµäººï¼Œä½†ä½ æ¥ä¸‹ä¾†è¦è¿½çµçš„å°è±¡ï¼Œæ˜¯ã€Œç¥ã€ã€‚é¢å°é‚£æ¨£çš„æ•µäººï¼Œç›²ç›®çš„è½æ’ä¸æœƒå¸¶ä¾†ä»»ä½•æˆæœâ€”â€”ä¸ç®¡ Landenel æ€éº¼èªªéƒ½ä¸€æ¨£ã€‚ä½ å¸¶è‘—é…’ç“¶èˆ‡é€™å¥è­¦å‘Šï¼Œå‹•èº«å‰å¾€ Costa del Solã€‚</p>
      <p>æŠµé” Costa del Sol å¾Œï¼ŒWheiskaet å‘ä½ è‡´æ„ï¼Œèªª Landenel èˆ‡ Uâ€™odh Nunh éƒ½å°ä½ è®šè­½æœ‰åŠ ï¼Œä¸¦å•ä½ ä»Šæ—¥ç‚ºä½•è€Œä¾†ã€‚ä½ æŠŠé…’äº¤å‡ºå»ï¼Œä»–ç«‹åˆ»èªå‡ºé‚£æ­£æ˜¯è‡ªå·±æœ€å–œæ­¡çš„é‚£æ¬¾ï¼Œèªæ°£è£¡æ»¿æ˜¯æ¬£å–œï¼Œé‚„èªªå¾—æ‰¾æ©Ÿæœƒè¦ªè‡ªå‘é‚£ä½ nunh é“è¬ã€‚æ¥è‘—ä»–æŠŠè©±é¡Œæ‹‰å›æ­£äº‹ï¼šä½ åªå‰©æœ€å¾Œä¸€æ¨£é£Ÿæè¦å–å¾—ï¼Œè€Œä¸”å¹¸é‹çš„æ˜¯ï¼Œé€™ä¸€æ¬¡ä½ ä¸å¿…å†é èµ´ Aldenardã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> çƒãƒ»æ­å¾·ãƒ»åŠªæ©ã€€<small class="muted">å—è–©ç´è˜­ (X:14.3, Y:29.9)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="when-the-worm-turns.html">ç•¶å±€å‹¢é€†è½‰</a></div>
      <div class="row">æ‰€æœ‰è·æ¥­ï¼ˆä¸å«é™å®šè·ï¼‰ ç­‰ç´š 31 ä»¥ä¸Š</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="the-things-we-do-for-cheese.html">ç‚ºäº†èµ·å¸ï¼Œä¸æƒœä¸€åˆ‡</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
