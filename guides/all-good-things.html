<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All Good Things | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ All Good Things (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:1px solid transparent;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border-color:var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    /* å±•é–‹/æ”¶åˆ */
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/aYj1iGImq-I"
              title="All Good Things" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">All Good Things</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'All Good Things',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
<p>After Titan falls, Yâ€™shtola tells you that, though word will already have reached Maelstrom Command, protocol requires a formal reportâ€”and the honor is yours. She commends you and says you will speak again soon.</p>
<p>You go to Maelstrom Command in Limsa Lominsa. Râ€™ashaht Rhiki greets you by rank and name, pleased to have your triumph confirmed in person. First Ifrit and now Titan; when she thinks on your deeds, the loss of the Warriors of Light feels less keen. She will relay your report to the Admiral and sends regards to the Scions.</p>
<p>Minfilia speaks over the linkpearl. Yâ€™shtola has informed her of your successâ€”a great victory for Eorzeaâ€”and she is glad that both you and Yâ€™shtola are unscathed. You can look forward to a heroâ€™s welcome. Return to the Waking Sands; there is much to discuss. Godsspeed.</p>
<p>At Vesper Bay, you hear whispers about commotion and screams from within. Inside the Solar, Noraxia is glad you are safe. The Echo takes you. Minfiliaâ€™s words resoundâ€”thanks that you are safe; â€œLouisoix, do you see? Your light shines brightly in this oneâ€¦â€ A shout: â€œAdvance no further!â€ Livia sas Junius demands the one who slew Ifrit and Titan. Tataru whimpers.</p>
<p>Minfilia tells someone to stay out of sight and leaves a message with you: she will surrender herself on the condition the innocents are spared. Livia mocks â€œconditions,â€ grants her courage, and says armor would serve her better. Minfilia insists the one they seek is not here. â€œConditions of surrenderâ€¦ denied,â€ Livia says. A Scion cries, â€œCease at once!â€ â€œHave you not done enough!â€ Minfilia answers. â€œEnough. We leave. Bring the prisoners,â€ Livia ordersâ€”the â€œHigh Priestess of the Scionsâ€ will suffice; they say she has the Echo.</p>
<p>The Echo fades. Noraxia, dying, delivers Minfiliaâ€™s instruction: if you return, you must claim sanctuary at a church in eastern Thanalan. She tried to protect Minfilia from the imperials. â€œForgive this oneâ€¦ Saveâ€”â€</p>
<p>At the church, Father Iliud sees your suffering and offers help. He asks what you will say. If you ask forgiveness, he counsels inward reflection and atonement. If you demand a curse and vengeance, he refuses and tells you to ask for justice. If you say â€œthe wild roses are dead,â€ he understandsâ€”you are among friends of the Scions. If you say nothing, he grieves. He asks if Minfilia was among those taken and prays no further harm comes. You may stay as long as you wish. He says he has known Minfilia since childhood and calls Marquesâ€”a survivor of Carteneauâ€”to look after you.</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
  <div class="row"><b>Quest Giver</b> Yâ€™shtola <small class="muted">(Upper La Noscea, X:30.0, Y:23.1)</small></div>
</div>`,
    unlockq:`<div class="stack">
  <div class="row"><a class="link" href="lord-of-crags.html">Lord of Crags</a></div>
</div>`,
    followq:`<div class="stack">
  <div class="row"><a class="link" href="you-cant-take-it-with-you.html">You Canâ€™t Take It with You</a></div>
</div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'ç¯ã‚Šã®æ¶ˆãˆãŸæ—¥',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
<p>ã‚¿ã‚¤ã‚¿ãƒ³ã‚’å€’ã—ãŸã‚ã¨ã€Yâ€™shtola ã¯å‘Šã’ã‚‹ã€‚é»’æ¸¦å›£å¸ä»¤éƒ¨ã«ã¯æ—¢ã«å ±ã›ãŒå±Šã„ã¦ã„ã‚‹ã¯ãšã ãŒã€å„€ç¤¼ã¨ã—ã¦æ­£å¼å ±å‘ŠãŒè¦ã‚‹â€•â€•ãã®æ „èª‰ã¯ã‚ãªãŸã«ç›¸å¿œã—ã„ã€ã¨ã€‚å½¼å¥³ã¯åŠ´ã„ã€ã™ãã«ã¾ãŸè©±ãã†ã¨è¨€ã†ã€‚</p>
<p>ã‚ãªãŸã¯ãƒªãƒ ã‚µãƒ»ãƒ­ãƒŸãƒ³ã‚µã®é»’æ¸¦å›£å¸ä»¤éƒ¨ã¸å‘ã‹ã†ã€‚Râ€™ashaht Rhiki ã¯ã‚ãªãŸã®éšç´šã¨åã§è¿ãˆã€ç›´æ¥ã®ç¢ºèªã‚’å–œã¶ã€‚ã‚¤ãƒ•ãƒªãƒ¼ãƒˆã€ãã—ã¦ã‚¿ã‚¤ã‚¿ãƒ³â€•â€•ã‚ãªãŸã®åƒãã‚’æ€ãˆã°ã€ã€Œæšå…‰ã®æˆ¦å£«ã€ä¸åœ¨ã®ç—›ã¿ã¯å’Œã‚‰ãã¨ã„ã†ã€‚å½¼å¥³ã¯æç£ã«å ±å‘Šã‚’å–ã‚Šæ¬¡ãã€æšã®ä»²é–“ãŸã¡ã¸æŒ¨æ‹¶ã‚’è¨—ã™ã€‚</p>
<p>ãƒªãƒ³ã‚¯ãƒ‘ãƒ¼ãƒ«ã‹ã‚‰ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ã®å£°ãŒå±Šãã€‚Yâ€™shtola ã‹ã‚‰æˆåŠŸã®å ±ã›ã‚’å—ã‘ãŸâ€•â€•ã“ã‚Œã¯ã‚¨ã‚ªãƒ«ã‚¼ã‚¢ã®å¤§å‹åˆ©ã§ã€ã‚ãªãŸã¨ Yâ€™shtola ãŒç„¡äº‹ã§ã‚ã‚‹ã“ã¨ã‚’å–œã¶ã€‚è‹±é›„ã¨ã—ã¦è¿ãˆã‚‰ã‚Œã‚‹ã ã‚ã†ã€‚ç ‚ã®å®¶ã«æˆ»ã£ã¦ã»ã—ã„ã€è©±ã™ã“ã¨ãŒå¤šã„ã€‚Godsspeedã€‚</p>
<p>ãƒ™ã‚¹ãƒ‘ãƒ¼ãƒ™ã‚¤ã§ã¯ã€ä¸­ã®é¨’ãã‚„æ‚²é³´ãŒå›ã‹ã‚Œã¦ã„ã‚‹ã€‚å¤ªé™½ã®é–“ã§ã¯ã€ãƒãƒ©ã‚¯ã‚·ã‚¢ãŒã‚ãªãŸã®ç„¡äº‹ã‚’å–œã¶ã€‚ãã“ã§ã€Œã‚¨ã‚³ãƒ¼ã€ãŒèµ°ã‚‹ã€‚ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ã®è¨€è‘‰â€•â€•ã€Œå½¼å¥³ï¼ˆå½¼ï¼‰ã¯ç„¡äº‹ã€ã€Œãƒ«ã‚¤ã‚¾ãƒ¯ã€è¦‹ã¦ã„ã¦ï¼Ÿã€ã€‚ãã—ã¦å«ã³ã€‚ã€Œãã“ã¾ã§ã ï¼ã€ãƒªã‚¦ã‚£ã‚¢ãƒ»ã‚µã‚¹ãƒ»ãƒ¦ãƒ‹ã‚¦ã‚¹ãŒã€ã‚¤ãƒ•ãƒªãƒ¼ãƒˆã¨ã‚¿ã‚¤ã‚¿ãƒ³ã‚’å± ã£ãŸè€…ã®å¼•ãæ¸¡ã—ã‚’è¦æ±‚ã—ã€ã‚¿ã‚¿ãƒ«ãŒéœ‡ãˆã‚‹ã€‚</p>
<p>ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ã¯èª°ã‹ã«èº«ã‚’éš ã™ã‚ˆã†å‘½ã˜ã€ã‚ãªãŸã«ä¼è¨€ã‚’è¨—ã™ã€‚ç„¡è¾œã‚’æ•‘ã†ãªã‚‰è‡ªåˆ†ãŒå‡ºé ­ã™ã‚‹ã€ã¨ã€‚ãƒªã‚¦ã‚£ã‚¢ã¯ã€Œæ¡ä»¶ã€ã‚’å˜²ã‚Šã€å‹‡æ°—ã¯èªã‚ã¤ã¤ã€é§ã®ã»ã†ãŒå½¹ã«ç«‹ã¤ã¨çš®è‚‰ã‚‹ã€‚ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ã¯ã€æ¢ã™ç›¸æ‰‹ã¯ã“ã“ã«ã„ãªã„ã¨è¨€ã„åˆ‡ã‚‹ã€‚ãƒªã‚¦ã‚£ã‚¢ã¯ã€Œé™ä¼æ¡ä»¶ã¯å´ä¸‹ã€ã¨æ–­ã˜ã€é€€å´ã¨æ•è™œã®æ¬é€ã‚’å‘½ã˜ã‚‹ã€‚ã€Œæšã®å·«å¥³ã€ã§å½“åº§ã¯è¶³ã‚Šã‚‹ã€å½¼å¥³ã‚‚ã‚¨ã‚³ãƒ¼ã‚’æŒã¤ã®ã ã¨ã€‚</p>
<p>ã‚¨ã‚³ãƒ¼ãŒè§£ã‘ã‚‹ã€‚ãƒãƒ©ã‚¯ã‚·ã‚¢ã¯ç€•æ­»ã®èº«ã§ã€ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ã®è¨€ä»˜ã‘ã‚’ä¼ãˆã‚‹ã€‚ã‚ãªãŸãŒæˆ»ã£ãŸã‚‰ã€æ±ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³ã®æ•™ä¼šã§åº‡è­·ã‚’æ±‚ã‚ã‚ˆã€‚å¸å›½ã‹ã‚‰å½¼å¥³ã‚’å®ˆã‚ã†ã¨ã—ãŸã®ã â€•â€•ã€Œè¨±ã—ã¦â€¦â€¦åŠ©ã‘â€¦â€¦ã€ã€‚</p>
<p>æ•™ä¼šã§ã€å¸ç¥­ã‚¤ãƒªãƒ¥ãƒ‰ã¯ã‚ãªãŸã®è‹¦æ‚©ã‚’è¦‹ã¦åŠ©åŠ›ã‚’ç”³ã—å‡ºã‚‹ã€‚ã‚ãªãŸã«å•ã„ã‹ã‘ã‚‹ã€‚æ‡ºæ‚”ãªã‚‰å†…çœã¨è´–ã„ã‚’ã€‚å¾©è®ã‚’æ±‚ã‚ã‚Œã°æ‹’ã¿ã€æ­£ç¾©ã‚’é¡˜ãˆã¨è«­ã™ã€‚ã€Œwild roses are deadã€ã¨å‘Šã’ã‚Œã°ã€ã“ã“ã¯æšã®å‹ã ã¨æ˜ã‹ã—ã¦è‡ªç”±ã«èªã‚‰ã›ã‚‹ã€‚æ²ˆé»™ãªã‚‰å˜†æ¯ã™ã‚‹ã€‚å½¼ã¯ãƒŸãƒ³ãƒ•ã‚£ãƒªã‚¢ãŒé€£ã‚Œå»ã‚‰ã‚ŒãŸã®ã‹ç¢ºã‹ã‚ã€ã“ã‚Œä»¥ä¸Šã®å®³ãŒãªã„ã‚ˆã†ç¥ˆã‚‹ã€‚ã‚ãªãŸã¯ã“ã“ã«ç•™ã¾ã£ã¦ã‚ˆã„ã€‚å½¼ã¯å¹¼ã„ã“ã‚ã‹ã‚‰å½¼å¥³ã‚’çŸ¥ã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚±ã‚¹ï¼ˆã‚«ãƒ«ãƒ†ãƒãƒ¼ã®ç”Ÿå­˜è€…ï¼‰ã‚’å‘¼ã‚“ã§ã€ã‚ãªãŸã®ä¸–è©±ã‚’ä»»ã›ã‚‹ã€‚</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
  <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ¤ãƒ»ã‚·ãƒ¥ãƒˆãƒ©ã€€é«˜åœ°ãƒ©ãƒã‚·ã‚¢ <small class="muted">(X:30.0, Y:23.1)</small></div>
</div>`,
    unlockq:`<div class="stack">
  <div class="row"><a class="link" href="lord-of-crags.html">æ†¤æ€’ã®å²©ç¥ã‚¿ã‚¤ã‚¿ãƒ³</a></div>
</div>`,
    followq:`<div class="stack">
  <div class="row"><a class="link" href="you-cant-take-it-with-you.html">æ­¢ã¾ã£ãŸã¾ã¾ã®æ™‚é–“</a></div>
</div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'ç¾å¥½çµ‚å°‡è½å¹•',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
<p>æ“Šæ•— Titan ä¹‹å¾Œï¼ŒYâ€™shtola å‘Šè¨´ä½ ï¼šMaelstrom Command é›–å·²å¾—çŸ¥ï¼Œä½†ä¾è¦å®šä»éœ€æ­£å¼é€šå ±â€”â€”é€™ä»½æ¦®è€€ç”±ä½ å®Œæˆã€‚å¥¹ç¨±è®šä½ çš„è¡¨ç¾ï¼Œèªªå¾ˆå¿«å†è«‡ã€‚</p>
<p>ä½ å‰å¾€ Limsa Lominsa çš„ Maelstrom Commandã€‚Râ€™ashaht Rhiki ä»¥ä½ çš„è»éšèˆ‡å§“åè¿æ¥ä½ ï¼Œæ¨‚è¦‹ä½ è¦ªå£è­‰å¯¦æˆ°æœã€‚å…ˆæ˜¯ Ifritã€æ¥è‘— Titanï¼›æåˆ°ä½ çš„äº‹è·¡ï¼Œå¥¹è¦ºå¾—å° Warriors of Light çš„æ€å¿µæ²’é‚£éº¼åˆºç—›ã€‚å¥¹æœƒæŠŠå ±å‘Šå‘ˆäº¤ Admiralï¼Œä¸¦ä»£å‘ Scions è‡´æ„ã€‚</p>
<p>linkpearl å‚³ä¾† Minfilia çš„è²éŸ³ã€‚Yâ€™shtola å·²å‘Šè¨´å¥¹ä½ å€‘æˆåŠŸäº†â€”â€”é€™æ˜¯ Eorzea çš„å¤§å‹ï¼›å¥¹ä¹Ÿç‚ºä½ èˆ‡ Yâ€™shtola å¹³å®‰ç„¡äº‹æ„Ÿåˆ°æ¬£æ…°ã€‚å¥¹è¦ä½ æº–å‚™æ¥å—è‹±é›„å¼çš„æ­¡è¿ï¼Œå›åˆ° Waking Sands å•†è­°å¾ŒçºŒã€‚Godsspeedã€‚</p>
<p>æŠµé” Vesper Bayï¼Œä½ è½è¦‹äººå€‘ç«Šç«Šç§èªå±‹å…§çš„é¨·å‹•èˆ‡å°–å«ã€‚é€²å…¥ The Solarï¼ŒNoraxia ç‚ºä½ çš„å¹³å®‰é«˜èˆˆã€‚Echo è¥²ä¾†â€”â€”Minfilia çš„è©±èˆ‡ç¥ˆèªäº¤ç–Šï¼›éš¨å³ä¸€è²ã€Œä¸å¾—å‰é€²ï¼ã€ã€‚Livia sas Junius è¦æ±‚äº¤å‡ºæ–¬æ®º Ifrit èˆ‡ Titan çš„äººï¼›Tataru è¼•è²æŠ½æ³£ã€‚</p>
<p>Minfilia è¦äººå…ˆèº²èµ·ä¾†ï¼Œä¸¦è¨—ä½ å‚³è©±ï¼šåªè¦é¥’éç„¡è¾œï¼Œå¥¹é¡˜æ„è‡ªé¦–ã€‚Livia å˜²ç¬‘ã€Œæ¢ä»¶ã€ï¼Œæ‰¿èªå¥¹çš„å‹‡æ°£ï¼Œåˆè­è«·æ²’æœ‰ç›”ç”²ã€‚Minfilia å …ç¨±ç›®æ¨™ä¸åœ¨æ­¤è™•ã€‚ã€ŒæŠ•é™æ¢ä»¶â€¦â€¦ä¸æ¥å—ï¼Œã€Livia æ–·è¨€ï¼Œä¸‹ä»¤æ’¤é›¢ä¸¦å¸¶èµ°ä¿˜è™œï¼šã€ŒHigh Priestess of the Scionsã€è¶³å ªä»£æ›¿ï¼Œä¸”å¥¹ä¹Ÿæ“æœ‰ Echoã€‚</p>
<p>Echo æ¶ˆé€€ã€‚Noraxia å¥„å¥„ä¸€æ¯åœ°æŠŠ Minfilia çš„äº¤ä»£å‚³çµ¦ä½ ï¼šè‹¥ä½ å›ä¾†ï¼Œè«‹åˆ° Eastern Thanalan çš„æ•™æœƒå°‹æ±‚åº‡è­·ã€‚å¥¹æ›¾è©¦è‘—ä¿è­· Minfilia ä¸è¢«å¸åœ‹å¸¶èµ°ã€‚ã€Œè«‹åŸè«’â€¦â€¦æ•‘â€”â€”ã€ã€‚</p>
<p>åœ¨æ•™æœƒè£¡ï¼ŒIliud ç¥çˆ¶çœ‹å‡ºä½ çš„ç—›æ¥šä¸¦æå‡ºå¹«åŠ©ï¼Œå•ä½ è¦èªªä»€éº¼ã€‚è‹¥ä½ æ±‚èµ¦ï¼Œä»–è¦ä½ å‘å…§çœ‹ã€èªéŒ¯ä¸¦è´–ç½ªï¼›è‹¥ä½ æ±‚å¾©ä»‡ï¼Œä»–æ‹’çµ•ä¸¦è«‹ä½ ç¥ˆæ±‚æ­£ç¾©ï¼›è‹¥ä½ èªªã€Œthe wild roses are deadã€ï¼Œä»–å‘Šè¨´ä½ åœ¨é€™è£¡å¯ä»¥æš¢æ‰€æ¬²è¨€â€”â€”é€™è£¡æ˜¯ Scions çš„æœ‹å‹ï¼›è‹¥ä½ æ²‰é»˜ï¼Œä»–ç‚ºæ­¤æ‚²æ­ã€‚ä»–ç¢ºèª Minfilia æ˜¯å¦ä¹Ÿåœ¨è¢«æ“„ä¹‹åˆ—ä¸¦ç¥ˆç¦±çœ¾äººå¹³å®‰ï¼Œå…è¨±ä½ æš«ä½ï¼Œèªªè‡ªå·±è‡ªå¥¹å¹´å¹¼ä¾¿è­˜å¾—å¥¹ï¼Œä¸¦å–šä¾† Carteneau çš„ç”Ÿé‚„è€… Marques ç…§çœ‹ä½ ã€‚</p>
</div>
<div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
  <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> é›…ãƒ»ä¿®ç‰¹æ‹‰ã€€æ‹‰è«¾è¥¿äºé«˜åœ° <small class="muted">(X:30.0, Y:23.1)</small></div>
</div>`,
    unlockq:`<div class="stack">
  <div class="row"><a class="link" href="lord-of-crags.html">æ†¤æ€’çš„å²©ç¥æ³°å¦</a></div>
</div>`,
    followq:`<div class="stack">
  <div class="row"><a class="link" href="you-cant-take-it-with-you.html">åœæ»¯ä¹‹æ™‚ï¼Œå¸¶ä¸èµ°çš„ä¸€åˆ‡</a></div>
</div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

/* === Giscusï¼šComments åˆ†é  === */
const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
