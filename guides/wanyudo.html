<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wanyudo | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="Summon forth your wanyudo, and hold on for dear life as the nightmare rolls on.">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} .video-wrap{position:relative;padding-top:56.25%} .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%} }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left"><a class="home" href="../index.html">ğŸ  Home</a></div>
      <div class="right"><button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button></div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/FmQPOm2xHsU" title="Wanyudo" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Wanyudo</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="about">About</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="seats">Seats</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-about" class="tab-panel active"></div>
          <div id="panel-acq"   class="tab-panel"></div>
          <div id="panel-seats" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script>
    const LANG_KEY = "ffxiv-guide-lang";
    const i18n = {
      EN: {
        langLabel: "EN",
        pageTitle: "Wanyudo",
        tabs: { about: "About", acq: "Acquisition", seats: "Seats", comments: "Comments" },
        about: `<div class="stack">
          <div class="row">Summon forth your wanyudo, and hold on for dear life as the nightmare rolls on.</div>
          <div class="row">Appearing as an oxcart wheel adorned with a demonic face, this automaton originating from the Far East is created in the likeness of mythical apparitions that steal the souls of any who look upon them. While originally intended to repel intruders, it can also serve as a mode of transport for those with sufficient endurance.</div>
        </div>`,
        acq: `<div class="stack">
          <div class="row">PvP Series 10 Malmstones - Level 25 Reward</div>
        </div>`,
        seats: `<div class="stack"><div class="row">1</div></div>`
      },
      JP: {
        langLabel: "JP",
        pageTitle: "ãƒ¯ãƒ‹ãƒ¥ã‚¦ãƒ‰ã‚¦",
        tabs: { about: "ç´¹ä»‹", acq: "å…¥æ‰‹æ–¹æ³•", seats: "åº§å¸­æ•°", comments: "ã‚³ãƒ¡ãƒ³ãƒˆ" },
        about: `<div class="stack">
          <div class="row">ãƒ¯ãƒ‹ãƒ¥ã‚¦ãƒ‰ã‚¦ã‚’å‘¼ã³å¯„ã›ã€æ‚ªå¤¢ã®ç–¾èµ°ãŒç¶šãã‚ã„ã ã€æŒ¯ã‚Šè½ã¨ã•ã‚Œã¬ã‚ˆã†å¿…æ­»ã«ã—ãŒã¿ã¤ã‘ã€‚</div>
          <div class="row">é¬¼é¢ã‚’å®¿ã—ãŸç‰›è»Šã®è»Šè¼ªã®ã”ã¨ãå§¿ã‚’ã—ãŸã“ã®ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³ã¯ã€æ¥µæ±ã«ä¼ã‚ã‚‹ã€Œç›®ã‚’åˆã‚ã›ãŸè€…ã®é­‚ã‚’å¥ªã†æ€ªç•°ã€ã‚’æ¨¡ã—ã¦é€ ã‚‰ã‚ŒãŸã¨ã„ã†ã€‚ã‚‚ã¨ã¯ä¾µå…¥è€…ã‚’é€€ã‘ã‚‹ãŸã‚ã®å­˜åœ¨ã ã£ãŸãŒã€ä¸¦å¤–ã‚ŒãŸæŒä¹…åŠ›ã‚’å‚™ãˆã‚‹è€…ã«ã¨ã£ã¦ã¯ç§»å‹•æ‰‹æ®µã«ã‚‚ãªã‚Šå¾—ã‚‹ã€‚</div>
        </div>`,
        acq: `<div class="stack">
          <div class="row">PvPã‚·ãƒªãƒ¼ã‚º10 ã‚·ãƒªãƒ¼ã‚ºãƒãƒ«ãƒ ã‚¹ãƒˆãƒ¼ãƒ³ â€• ãƒ¬ãƒ™ãƒ«25 å ±é…¬</div>
        </div>`,
        seats: `<div class="stack"><div class="row">1</div></div>`
      },
      ZH: {
        langLabel: "ZH",
        pageTitle: "ç«è¼ªå¦–åƒ§",
        tabs: { about: "ç°¡ä»‹", acq: "å–å¾—æ–¹å¼", seats: "å¯ä¹˜äººæ•¸", comments: "ç•™è¨€" },
        about: `<div class="stack">
          <div class="row">å¬å–šä½ çš„ wanyudoï¼Œç‰¢ç‰¢æŠ“ç·Šâ€”â€”å› ç‚ºé€™å ´æƒ¡å¤¢é‚„åœ¨ç¹¼çºŒå‘å‰ç¿»æ»¾ã€‚</div>
          <div class="row">å®ƒçœ‹èµ·ä¾†åƒä¸€åªç‰›è»Šçš„è»Šè¼ªï¼Œå»åµŒè‘—ä¸€å¼µçŒ™ç°çš„æƒ¡é¬¼é¢å­”ï¼›é€™å…·æºè‡ªæ±æ–¹çš„è‡ªå¾‹æ©Ÿæ¢°ï¼Œæ˜¯ä»¥å‚³èªªä¸­ã€Œåªè¦å°ä¸Šçœ¼å°±æœƒå¥ªèµ°éˆé­‚ã€çš„æ€ªç•°ç‚ºåŸå‹æ‰“é€ ã€‚åŸæœ¬ç”¨ä¾†é©…é€å…¥ä¾µè€…ï¼Œä½†è‹¥ä½ æœ‰è¶³å¤ çš„è€åŠ›ï¼Œä¹Ÿèƒ½æŠŠå®ƒç•¶æˆä¸€ç¨®ç‹‚é‡åˆå±éšªçš„äº¤é€šå·¥å…·ã€‚</div>
        </div>`,
        acq: `<div class="stack">
          <div class="row">PvP Series 10 Malmstones â€” ç­‰ç´š 25 çå‹µ</div>
        </div>`,
        seats: `<div class="stack"><div class="row">1</div></div>`
      }
    };

    const langToggle  = document.getElementById("langToggle");
    const pageTitle   = document.getElementById("pageTitle");
    const tabBtns     = [...document.querySelectorAll(".tab-btn")];
    const panels = {
      about: panel("about"),
      acq: panel("acq"),
      seats: panel("seats"),
      comments: panel("comments")
    };

    function panel(id){ return document.getElementById("panel-" + id); }
    function getLang(){ return localStorage.getItem(LANG_KEY) || "EN"; }

    function applyLang(lang){
      const t = i18n[lang] || i18n.EN;
      pageTitle.textContent = t.pageTitle;
      langToggle.textContent = "ğŸŒ " + t.langLabel;
      tabBtns.forEach(b => { if (t.tabs[b.dataset.tab]) b.textContent = t.tabs[b.dataset.tab]; });
      const active = tabBtns.find(b => b.getAttribute("aria-selected") === "true") || tabBtns[0];
      renderPanel(active.dataset.tab, lang);
      if (active.dataset.tab === "comments") loadGiscusForCurrentLang();
    }

    function renderPanel(key, lang){
      const t = i18n[lang] || i18n.EN;
      Object.keys(panels).forEach(k => panels[k].classList.remove("active"));
      panels[key].classList.add("active");
      if (key !== "comments") panels[key].innerHTML = t[key];
      if (key === "comments") loadGiscusForCurrentLang();
    }

    tabBtns.forEach(btn=>{
      btn.addEventListener("click", ()=>{
        tabBtns.forEach(b => b.setAttribute("aria-selected","false"));
        btn.setAttribute("aria-selected","true");
        renderPanel(btn.dataset.tab, getLang());
      });
    });

    langToggle.addEventListener("click", ()=>{
      const cur  = getLang();
      const next = cur === "EN" ? "JP" : (cur === "JP" ? "ZH" : "EN");
      localStorage.setItem(LANG_KEY, next);
      applyLang(next);
    });

    applyLang(getLang());

    /* === giscusï¼ˆCommentsï¼‰è¨­å®š === */
    const GISCUS_CFG = {
      repo: 'BELAUG-FFXIV/FFXIV_Library',
      repoId: 'R_kgDOPyh4Kw',
      category: 'General',
      categoryId: 'DIC_kwDOPyh4K84CwPjL',
      theme: 'preferred_color_scheme'
    };
    function uiLang(code){ return code === 'JP' ? 'ja' : (code === 'ZH' ? 'zh-TW' : 'en'); }
    function loadGiscusForCurrentLang(){
      const mount = document.getElementById('giscus_container');
      if (!mount) return;
      mount.innerHTML = '';
      const langCode = getLang();
      const s = document.createElement('script');
      s.src = 'https://giscus.app/client.js';
      s.setAttribute('data-repo', GISCUS_CFG.repo);
      s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
      s.setAttribute('data-category', GISCUS_CFG.category);
      s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
      s.setAttribute('data-mapping', 'specific');
      s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
      s.setAttribute('data-reactions-enabled', '1');
      s.setAttribute('data-emit-metadata', '0');
      s.setAttribute('data-input-position', 'bottom');
      s.setAttribute('data-lang', uiLang(langCode));
      s.setAttribute('data-theme', GISCUS_CFG.theme);
      s.setAttribute('crossorigin', 'anonymous');
      s.async = true;
      mount.appendChild(s);
    }
  </script>
</body>
</html>
