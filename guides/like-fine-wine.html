<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Like Fine Wine | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="MSQ â€“ Like Fine Wine (ARR Patch 2.0)">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative;padding-top:56.25%}
      .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%}
    }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
    .clamp{position:relative; max-height:360px; overflow:hidden}
    .clamp[data-collapsed="false"]{max-height:none}
    .clamp[data-collapsed="true"]::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:72px;
      background:linear-gradient(to bottom, rgba(255,255,255,0), var(--card)); pointer-events:none;
    }
    .expand-wrap{ margin-top:12px; }
    .expand-btn{
      display:inline-block; padding:8px 14px; border-radius:10px;
      background:var(--card); border:1px solid var(--border); cursor:pointer; font-weight:600;
    }
    .expand-btn:hover{ background:#fffef8; }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/dUHIq8wR8pM"
              title="Like Fine Wine" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Like Fine Wine</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="story">Story</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="unlockq">Unlock Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="followq">Follow-Up Quest</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story"   class="tab-panel active"></div>
          <div id="panel-acq"     class="tab-panel"></div>
          <div id="panel-unlockq" class="tab-panel"></div>
          <div id="panel-followq" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

<script>
const LANG_KEY = 'ffxiv-guide-lang';
const i18n = {
  EN:{
    langLabel:'EN',
    pageTitle:'Like Fine Wine',
    tabs:{ story:'Story', acq:'Acquisition', unlockq:'Unlock Quest', followq:'Follow-Up Quest', comments:'Comments' },
    readMore:'Show more', readLess:'Show less',
    story:`<div class="clamp" data-collapsed="true">
      <p>Teteroon presses a sloshing bottle of firewater into your hands, whiskers quivering with excitement as he insists that it is â€œgood, good firewaterâ€ made especially for â€œgood Buscarron.â€ He begs you to carry it safely to his friend, but with one condition: Buscarron must not drink it yet. Instead, you are to tell him to tuck it away for a full year, so the flavor can become the very best. As he speaks, his ears droop for a moment, and he lets out a small sigh, confessing that he can only hope this gift will make Buscarron happy. He asks you to deliver his thanksâ€”â€œmany, many thankiesâ€â€”and then, with renewed determination, he shares his dream of opening the biggest shop in all of Eorzea one day, a place filled with countless â€œsparklies,â€ all made possible thanks to Buscarronâ€™s kindness.</p>
      <p>Leaving Teteroon to his dreams, you set off to fulfill his request, the bottle of Qiqirn firewater carefully stowed away. Your path leads you from the Qiqirnâ€™s humble corner of the world through the Black Shroud to South Shroud, where the familiar wooden walls and warm lantern light of Buscarronâ€™s Druthers come into view. The lively murmur of voices and the scent of drink and food greet you as you step inside, bearing not only Teteroonâ€™s belongings but also the secret gift he entrusted to you.</p>
      <p>When you present the firewater, Buscarron thanks you first for seeing Teteroonâ€™s possessions returned, only to stop short as he notices the extra bottle in your hands. Realization dawns as he reads the label and inhales the scent: Qiqirn firewaterâ€”his favorite. The thought that Teteroon remembered his fondness for the drink hits him harder than any spirits could, and he swears under his breath, blinking rapidly as he demands to know who is â€œcutting onionsâ€ in the back. Hearing Teteroonâ€™s instructions, he agrees to shelve the bottle for a year, trusting the Qiqirnâ€™s judgment on how best to bring out its aroma and body. Though he laments the long wait ahead, he smiles through the emotion and invites you to return when the year has passed, so that the two of you can share the hard-earned bottle together.</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>Quest Giver</b> Teteroon <small class="muted">Upper La Noscea (X:14.7, Y:24.4)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="microbrewing.html">Microbrewing</a></div>
      <div class="row">All classes and jobs (excluding limited jobs) (Level 23 or above)</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="sylphish-concerns.html">Sylphish Concerns</a></div>
    </div>`
  },
  JP:{
    langLabel:'JP',
    pageTitle:'ç†Ÿæˆã•ã‚Œã‚‹å‹æƒ…',
    tabs:{ story:'ã‚¹ãƒˆãƒ¼ãƒªãƒ¼', acq:'å…¥æ‰‹æ–¹æ³•', unlockq:'é–‹æ”¾ã‚¯ã‚¨ã‚¹ãƒˆ', followq:'å¾Œç¶šã‚¯ã‚¨ã‚¹ãƒˆ', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ' },
    readMore:'å…¨æ–‡ã‚’è¡¨ç¤º', readLess:'æŠ˜ã‚ŠãŸãŸã‚€',
    story:`<div class="clamp" data-collapsed="true">
      <p>ãƒ†ãƒ†ãƒ«ãƒ³ã¯ã€æ‰‹ã«ã—ãŸç“¶ã‚’ã‚ãªãŸã®ã»ã†ã¸ãã„ã£ã¨å·®ã—å‡ºã—ã€ã€Œãƒ†ãƒ†ãƒ«ãƒ³ã€ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ä½œã‚‹ï¼ã€€ã„ã„ã€ã„ã„ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ï¼ã€ã¨ã€èˆˆå¥®æ°—å‘³ã«ã¾ãã—ç«‹ã¦ã‚‹ã€‚ã“ã‚Œã¯ã€Œã„ã„ãƒã‚¹ã‚«ãƒ­ãƒ³ã€ã®ãŸã‚ã ã‘ã«ç”¨æ„ã—ãŸç‰¹åˆ¥ãªé…’ã ã¨è¨€ã„ã€ã©ã†ã‹å½¼ã®ã‚‚ã¨ã¸å±Šã‘ã¦ã»ã—ã„ã¨é ¼ã¿è¾¼ã‚€ã€‚ãŸã ã—ã€ã²ã¨ã¤ã ã‘æ¡ä»¶ãŒã‚ã‚‹ã€‚ã„ã¾é£²ã‚€ã®ã§ã¯ãªãã€ã€Œã„ã¡ã­ã‚“ã€ã—ã¾ã†ã€ã¨ä¼ãˆã¦ã»ã—ã„ã¨ã„ã†ã®ã ã€‚ãã†ã™ã‚Œã°ã€ã„ã¡ã­ã‚“å¾Œã«ã¯ã„ã¡ã°ã‚“ãŠã„ã—ã„å‘³ã«ãªã‚‹ã‹ã‚‰ã€ã¨ã€‚ã‚„ãŒã¦å½¼ã¯å°ã•ããŸã‚æ¯ã‚’ã¤ãã€ã“ã‚Œã§ãƒã‚¹ã‚«ãƒ­ãƒ³ãŒå–œã‚“ã§ãã‚Œã‚Œã°ã„ã„ãŒã€ã¨ä¸å®‰ã’ãªæœ¬éŸ³ã‚’æ¼ã‚‰ã™ã€‚ãã‚Œã§ã‚‚ã€Œã‚µãƒ³ã‚­ãƒ¼ã‚ºã€ãŸãã•ã‚“ã€ãŸãã•ã‚“ã‚µãƒ³ã‚­ãƒ¼ã‚ºã€ã¨ã€ã‚ãªãŸã«æ„Ÿè¬ã®è¨€è‘‰ã‚’è¨—ã—ã€ã„ã¤ã‹ã‚¨ã‚ªãƒ«ã‚¼ã‚¢ã„ã¡å¤§ããªåº—ã‚’é–‹ã„ã¦ã€ãŸãã•ã‚“ã®ã€Œãƒ”ã‚«ãƒ”ã‚«ã€ã‚’ä¸¦ã¹ã‚‹ã®ã ã¨å¤¢ã‚’èªã‚‹ã€‚ãã®å¤¢ã¯ã€ã™ã¹ã¦ãƒã‚¹ã‚«ãƒ­ãƒ³ã®ãŠã‹ã’ã ã¨ã€ãƒ†ãƒ†ãƒ«ãƒ³ã¯ä½•åº¦ã‚‚å¼·èª¿ã™ã‚‹ã®ã ã£ãŸã€‚</p>
      <p>ãƒ†ãƒ†ãƒ«ãƒ³ã®å¤¢ã¨è¨€è‘‰ã‚’èƒ¸ã«åˆ»ã¿ã€ã‚ãªãŸã¯é ã‹ã£ãŸç“¶ã‚’å¤§åˆ‡ã«æŠ±ãˆã¦æ—…ç«‹ã¤ã€‚é“ã¯ãƒ–ãƒ©ãƒƒã‚¯ãƒ»ã‚·ãƒ¥ãƒ©ã‚¦ãƒ‰ã‚’æŠœã‘ã€ã‚„ãŒã¦ã‚µã‚¦ã‚¹ãƒ»ã‚·ãƒ¥ãƒ©ã‚¦ãƒ‰ã¸ã¨ç¶šãã€æœ¨é€ ã®å»ºç‰©ã¨æ¸©ã‹ãªç¯ã‚ŠãŒå°è±¡çš„ãªé…’å ´ã€Œãƒã‚¹ã‚«ãƒ­ãƒ³ã‚ºãƒ»ãƒ‰ãƒ©ãƒ³ã‚«ãƒ¼ã€ã¸ã¨ãŸã©ã‚Šç€ãã€‚æ‰‰ã‚’æŠ¼ã—é–‹ã‘ã‚Œã°ã€é…’ã¨æ–™ç†ã®åŒ‚ã„ã€å®¢ãŸã¡ã®ç¬‘ã„å£°ã¨ã–ã‚ã‚ããŒä¸€åº¦ã«æŠ¼ã—å¯„ã›ã€ã‚ãªãŸã¯ãƒ†ãƒ†ãƒ«ãƒ³ã‹ã‚‰è¨—ã•ã‚ŒãŸè·ç‰©ã¨ã¨ã‚‚ã«ã€ãã®éš ã•ã‚ŒãŸè´ˆã‚Šç‰©ã‚’ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã¸é‹ã¶ã€‚</p>
      <p>ã‚ãªãŸãŒè·ç‰©ã‚’æ¸¡ã™ã¨ã€ãƒã‚¹ã‚«ãƒ­ãƒ³ã¯ã¾ãšãƒ†ãƒ†ãƒ«ãƒ³ã®ç§ç‰©ã‚’å±Šã‘ã¦ãã‚ŒãŸã“ã¨ã«ç¤¼ã‚’è¿°ã¹ã‚‹ãŒã€ã™ãã«ã‚ãªãŸã®æ‰‹å…ƒã«ã‚ã‚‹ã‚‚ã†ä¸€æœ¬ã®ç“¶ã«ç›®ã‚’ç•™ã‚ã‚‹ã€‚ãƒ©ãƒ™ãƒ«ã¨é¦™ã‚Šã«æ°—ã¥ã„ãŸç¬é–“ã€ãã‚ŒãŒã‚­ã‚­ãƒ«ãƒ³ã®ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ã ã¨æ‚Ÿã‚Šã€å½¼ã¯æ€ã‚ãšè¨€è‘‰ã‚’è©°ã¾ã‚‰ã›ã‚‹ã€‚è‡ªåˆ†ã®å¥½ç‰©ã‚’è¦šãˆã¦ã„ã¦ãã‚ŒãŸãƒ†ãƒ†ãƒ«ãƒ³ã®å¿ƒé£ã„ã«ã€è’ã£ã½ã„å£èª¿ã®è£ã§èƒ¸ã‚’ã„ã£ã±ã„ã«ã—ã€ã€Œã„ã£ãŸã„èª°ãŒç‰ã­ããªã‚“ãåˆ»ã‚“ã§ã‚„ãŒã‚‹ã€ã¨ç…§ã‚Œéš ã—ã®ã‚ˆã†ã«ã¼ã‚„ãã€‚ãƒ†ãƒ†ãƒ«ãƒ³ã®ã€Œã„ã¡ã­ã‚“ã€ã—ã¾ã†ã€ã¨ã„ã†ä¼è¨€ã‚’èã„ãŸãƒã‚¹ã‚«ãƒ­ãƒ³ã¯ã€ãã£ã¨ã“ã‚‰ãˆãªãŒã‚‰ã‚‚é ·ãã€ãã®åŠ©è¨€ã«å¾“ã£ã¦æ£šã«ã—ã¾ã†ã“ã¨ã‚’ç´„æŸã™ã‚‹ã€‚ã“ã®é…’ã¯ã€ã»ã‹ã®ã©ã‚“ãªé…’ã¨ã‚‚é•ã†é¦™ã‚Šã¨ã‚³ã‚¯ã‚’æŒã£ã¦ã„ã‚‹ã¨èªã‚Šã€é•·ã„ä¸€å¹´ã«ãªã‚‹ã¨è‹¦ç¬‘ã—ãªãŒã‚‰ã‚‚ã€ã‚ãªãŸã«ã€Œãã®ã¨ããŒæ¥ãŸã‚‰ã¾ãŸå¸°ã£ã¦ãã¦ãã‚Œã€ã¨å£°ã‚’ã‹ã‘ã‚‹ã€‚ä¸€å¹´å¾Œã€ã“ã®ä¸€æœ¬ã‚’ãµãŸã‚Šã§é£²ã¿å¹²ãã†ã¨ã€æ„Ÿæƒ…ã‚’ã«ã˜ã¾ã›ãŸç¬‘ã¿ã§èª˜ã†ã®ã ã£ãŸã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ã‚¯ã‚¨ã‚¹ãƒˆç™ºè¡Œ</b> ãƒ†ãƒ†ãƒ«ãƒ³ã€€<small class="muted">é«˜åœ°ãƒ©ãƒã‚·ã‚¢ (X:14.7, Y:24.4)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="microbrewing.html">ãƒ†ãƒ†ãƒ«ãƒ³ã®ãµã‚‹ã¾ã„é…’</a></div>
      <div class="row">ã™ã¹ã¦ï¼ˆãƒªãƒŸãƒ†ãƒƒãƒ‰ã‚¸ãƒ§ãƒ–ã‚’é™¤ãï¼‰Lv 23ï½</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="sylphish-concerns.html">æœ¨ç«‹ã‚’ç¸«ã†è€…</a></div>
    </div>`
  },
  ZH:{
    langLabel:'ZH',
    pageTitle:'æ­·ä¹…å½Œæ–°çš„æƒ…èª¼',
    tabs:{ story:'æ•…äº‹æ¦‚è¦', acq:'å–å¾—æ–¹å¼', unlockq:'è§£é–ä»»å‹™', followq:'å¾ŒçºŒä»»å‹™', comments:'ç•™è¨€' },
    readMore:'å±•é–‹å…¨æ–‡', readLess:'æ”¶åˆå…§å®¹',
    story:`<div class="clamp" data-collapsed="true">
      <p>Teteroon æŠŠæ‰‹ä¸Šçš„é…’ç“¶ä¸€ä¸‹å­æ¨åˆ°ä½ é¢å‰ï¼Œç“¶è£¡çš„æ¶²é«”éš¨è‘—ä»–çš„å‹•ä½œè¼•è¼•æ™ƒå‹•ã€‚ä»–çš„é¬é¬šèˆˆå¥®å¾—ç›´æŠ–ï¼Œä¸€é‚Šé«˜è²åš·è‘—é€™æ˜¯ã€Œå¥½ã€å¥½å–çš„ firewaterã€ï¼Œæ˜¯å°ˆé–€ç‚ºã€Œå¥½äºº Buscarronã€æº–å‚™çš„ç‰¹åˆ¥ç¦®ç‰©ï¼Œæ‹œè¨—ä½ ä¸€å®šè¦å¹«ä»–é€åˆ°å°æ–¹æ‰‹ä¸­ã€‚ä¸éï¼Œä»–æå‡ºäº†ä¸€å€‹é‡è¦çš„æ¢ä»¶â”€â”€ä½ å¾—è½‰å‘Š Buscarron ç¾åœ¨é‚„ä¸èƒ½å–ï¼Œå¿…é ˆå…ˆå¥½å¥½æ”¶èµ·ä¾†æ”¾ä¸Šä¸€æ•´å¹´ï¼Œç­‰æ™‚é–“æŠŠå‘³é“é¤Šåˆ°æœ€æ£’å†é–‹å°ã€‚èªªåˆ°é€™è£¡ï¼ŒTeteroon çš„è€³æœµå¾®å¾®å‚ä¸‹ï¼Œè¼•è¼•å˜†äº†ä¸€å£æ°£ï¼Œå¦è¨€è‡ªå·±åªå¸Œæœ›é€™ä»½ç¦®ç‰©èƒ½è®“ Buscarron æ„Ÿåˆ°é–‹å¿ƒã€‚ä»–æŠŠã€Œmany, many thankiesã€è¨—ä»˜çµ¦ä½ ï¼Œä¸€å†æ‹œè¨—ä½ ä¸€å®šè¦å¥½å¥½è½‰é”ï¼Œæ¥è‘—åˆé‡æ–°æ‰“èµ·ç²¾ç¥ï¼Œèªªèµ·è‡ªå·±ç¸½æœ‰ä¸€å¤©è¦é–‹ä¸€é–“ Eorzea æœ€å¤§çš„åº—ï¼Œè£¡é¢æ“ºæ»¿ä¸€é–ƒä¸€é–ƒçš„ã€Œsparkliesã€ï¼Œè€Œé€™ä¸€åˆ‡ï¼Œéƒ½æ˜¯å› ç‚º Buscarron æ›¾ç¶“å¹«éä»–ã€‚</p>
      <p>å¸¶è‘— Teteroon çš„å¿ƒæ„èˆ‡å¤¢æƒ³ï¼Œä½ å°å¿ƒç¿¼ç¿¼åœ°æ”¶å¥½é€™ç“¶ Qiqirn firewaterï¼Œè¸ä¸Šå‰å¾€ South Shroud çš„è·¯ã€‚å¾æ—é–“å°é“ä¸€è·¯èµ°å»ï¼Œç›´åˆ° Buscarronâ€™s Druthers é‚£æ£Ÿæœ¨é€ å»ºç¯‰åœ¨æ¨¹å½±é–“æµ®ç¾å‡ºè¼ªå»“ï¼Œé–€å£æš–é»ƒçš„ç‡ˆå…‰èˆ‡é…’é¤¨ç‰¹æœ‰çš„å–§é¬§è²ä¸€åŒå‚³ä¾†ã€‚ä½ æ¨é–‹å¤§é–€ï¼Œè¿é¢è€Œä¾†çš„æ˜¯é…’é¦™èˆ‡æ–™ç†çš„ç†±æ°£ï¼Œä»¥åŠå®¢äººå€‘è«‡ç¬‘çš„å—“éŸ³ã€‚æ‡·æŠ±è‘— Teteroon æ‰˜ä»˜çš„è¡Œæèˆ‡é‚£ç“¶éš±è—çš„è´ˆç¦®ï¼Œä½ èµ°å‘æ«ƒæª¯ï¼Œæº–å‚™æŠŠä¸€åˆ‡äº¤åˆ° Buscarron æ‰‹è£¡ã€‚</p>
      <p>ç•¶ä½ å…ˆæŠŠ Teteroon çš„éš¨èº«ç‰©å“äº¤çµ¦ä»–æ™‚ï¼ŒBuscarron å…ˆæ˜¯å‘ä½ é“è¬ï¼Œéš¨å³æ³¨æ„åˆ°ä½ æ‰‹è£¡å¤šå‡ºä¾†çš„é‚£ä¸€ç“¶ã€‚ä»–æ‹¿èµ·ä¾†ä»”ç´°ä¸€çœ‹ã€è¼•è¼•ä¸€å—…ï¼Œç«‹åˆ»æ˜ç™½é€™æ˜¯ Qiqirn firewaterâ”€â”€æ­£æ˜¯ä»–æœ€æ„›çš„é‚£ç¨®é…’ã€‚æƒ³åˆ° Teteroon é‚„è¨˜å¾—è‡ªå·±çš„å–œå¥½ï¼Œä»–ç²—ç·çš„èªæ°£ä¸€ä¸‹å­è®Šå¾—æœ‰äº›å“½å’½ï¼Œåªèƒ½åŠé–‹ç©ç¬‘åœ°å’’ç½µä¸€å¥ï¼Œå•åˆ°åº•æ˜¯èª°åœ¨å¾Œé¢åˆ‡æ´‹è”¥ï¼Œå¥½æ©é£¾çœ¼çœ¶çš„é…¸æ¾€ã€‚è½å®Œä½ è½‰é”çš„è©±ï¼Œä»–é»é ­ç­”æ‡‰æœƒç…§ Teteroon çš„è¦æ±‚ï¼ŒæŠŠé…’å¥½å¥½æ”¶èµ·ä¾†æ”¾ä¸Šä¸€å¹´ï¼Œå› ç‚ºé€™æ¨£æ‰èƒ½é‡€å‡ºç¨ä¸€ç„¡äºŒçš„é¦™æ°£èˆ‡æ¿ƒåšå£æ„Ÿã€‚é›–ç„¶ä»–ç¬‘è‘—èªªé€™æœƒæ˜¯å¾ˆæ¼«é•·çš„ä¸€å¹´ï¼Œå»ä»åœ¨é‚£ç¬‘æ„è£¡è—ä¸ä½æ„Ÿå‹•ï¼Œé‚€è«‹ä½ åœ¨ä¸€å¹´ä¹‹å¾Œå†å›ä¾†ï¼Œåˆ°æ™‚å€™å°±ä¸€èµ·æŠŠé€™ç“¶ä¾†ä¹‹ä¸æ˜“çš„ firewater å…±åŒå–å®Œã€‚</p>
    </div>
    <div class="expand-wrap"><button class="expand-btn" data-role="expand"></button></div>`,
    acq:`<div class="stack">
      <div class="row"><b>ä»»å‹™ç™¼å¸ƒ</b> ç‰¹ç‰¹å€«ã€€<small class="muted">æ‹‰è«¾è¥¿äºé«˜åœ° (X:14.7, Y:24.4)</small></div>
    </div>`,
    unlockq:`<div class="stack">
      <div class="row"><a class="link" href="microbrewing.html">ç‰¹ç‰¹å€«çš„è‡ªé‡€å¥½é…’</a></div>
      <div class="row">æ‰€æœ‰è·æ¥­ï¼ˆä¸å«é™å®šè·ï¼‰ ç­‰ç´š 23 ä»¥ä¸Š</div>
    </div>`,
    followq:`<div class="stack">
      <div class="row"><a class="link" href="sylphish-concerns.html">æ—å½±é–“çš„æ†‚æ…®</a></div>
    </div>`
  }
};

const langToggle  = document.getElementById('langToggle');
const pageTitle   = document.getElementById('pageTitle');
const tabBtns     = [...document.querySelectorAll('.tab-btn')];
const panels = {
  story:  document.getElementById('panel-story'),
  acq:    document.getElementById('panel-acq'),
  unlockq:document.getElementById('panel-unlockq'),
  followq:document.getElementById('panel-followq'),
  comments: document.getElementById('panel-comments')
};

function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }
function applyLang(lang){
  const t = i18n[lang] || i18n.EN;
  pageTitle.textContent = t.pageTitle;
  langToggle.textContent = `ğŸŒ ${t.langLabel}`;
  tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
  const activeBtn = tabBtns.find(b => b.getAttribute('aria-selected')==='true') || tabBtns[0];
  renderPanel(activeBtn.dataset.tab, lang);
}

function wireClamp(panelEl, t){
  const clamp = panelEl.querySelector('.clamp');
  const btn = panelEl.querySelector('[data-role="expand"]');
  if(!clamp || !btn) return;
  function setLabel(){
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    btn.textContent = collapsed ? t.readMore : t.readLess;
  }
  setLabel();
  btn.addEventListener('click', ()=>{
    const collapsed = clamp.getAttribute('data-collapsed') !== 'false';
    clamp.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
    setLabel();
  });
}

function renderPanel(key, lang){
  const t = i18n[lang] || i18n.EN;
  Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
  panels[key].classList.add('active');
  if (key !== 'comments') panels[key].innerHTML = t[key];
  if (key === 'story') wireClamp(panels[key], t);
  if (key === 'comments') loadGiscusForCurrentLang();
}

tabBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    renderPanel(btn.dataset.tab, getLang());
  });
});

langToggle.addEventListener('click', ()=>{
  const cur = getLang();
  const next = cur==='EN' ? 'JP' : (cur==='JP' ? 'ZH' : 'EN');
  localStorage.setItem(LANG_KEY, next);
  applyLang(next);
});

applyLang(getLang());

const GISCUS_CFG = {
  repo: 'BELAUG-FFXIV/FFXIV_Library',
  repoId: 'R_kgDOPyh4Kw',
  category: 'General',
  categoryId: 'DIC_kwDOPyh4K84CwPjL',
  theme: 'preferred_color_scheme'
};
function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }
function loadGiscusForCurrentLang(){
  const mount = document.getElementById('giscus_container');
  if (!mount) return;
  mount.innerHTML = '';
  const langCode = getLang();
  const s = document.createElement('script');
  s.src = 'https://giscus.app/client.js';
  s.setAttribute('data-repo', GISCUS_CFG.repo);
  s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
  s.setAttribute('data-category', GISCUS_CFG.category);
  s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
  s.setAttribute('data-mapping', 'specific');
  s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
  s.setAttribute('data-reactions-enabled', '1');
  s.setAttribute('data-emit-metadata', '0');
  s.setAttribute('data-input-position', 'bottom');
  s.setAttribute('data-lang', uiLang(langCode));
  s.setAttribute('data-theme', GISCUS_CFG.theme);
  s.setAttribute('crossorigin', 'anonymous');
  s.async = true;
  mount.appendChild(s);
}
</script>
</body>
</html>
