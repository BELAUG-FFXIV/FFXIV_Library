<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thunder Rolls | BELAUG Â· FFXIV Library</title>
  <meta name="description" content="FFXIV ARR 3.4 BGM â€” Thunder Rollsï¼ˆé›·å…‰é›·é³´ / é›·å…‰è½Ÿé³´ï¼‰ï¼šThemeã€å‡ºç¾å…§å®¹ã€å–å¾—æ–¹å¼èˆ‡è£½ä½œç­†è¨˜ï¼Œå«æ­Œè©åˆ†é èˆ‡å½±ç‰‡ã€‚" />
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#ffffff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif; background:var(--bg); color:var(--fg);}
    .container{max-width:1080px; margin:0 auto; padding:0 16px}
    .site-header{border-bottom:1px solid var(--border); background:#fff9edb3; backdrop-filter:saturate(120%) blur(6px); position:sticky; top:0; z-index:10}
    .nav{display:flex; align-items:center; justify-content:space-between; height:60px}
    .left{display:flex; align-items:center; gap:12px}
    .home{border:1px solid var(--border); background:#fff; padding:4px 8px; border-radius:8px; text-decoration:none; color:var(--fg); font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex; align-items:center; gap:8px}
    .icon-btn{background:none; border:none; cursor:pointer; font-size:14px; padding:6px 10px; border-radius:8px}
    .icon-btn:hover{background:#fff; border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid; grid-template-columns:1.1fr 1fr; gap:20px; align-items:start;}
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      .video-wrap{position:relative; padding-top:56.25%}
      .video-wrap iframe{position:absolute; inset:0; width:100%; height:100%}
    }
    .card{background:var(--card); border:1px solid var(--border); border-radius:16px; box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px; border-bottom:1px solid var(--border); font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%; height:420px; border:0; display:block; border-radius:16px}

    .tabs{display:flex; gap:8px; padding:12px 12px 0; flex-wrap:wrap}
    .tab-btn{background:#fff; border:1px solid var(--border); color:var(--fg); border-radius:999px; padding:8px 14px; cursor:pointer; font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent); color:#fff; background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}

    .stack{display:flex; flex-direction:column; gap:10px}
    .stack .row{padding:12px 14px; border:1px dashed var(--border); border-radius:12px; background:#fffdf6}

    .link{color:#0b60d8; text-decoration:none}
    .link:hover{text-decoration:underline}

    .row-flex{
      display:flex;
      align-items:baseline;
      gap:18px;
      justify-content:flex-start;
      flex-wrap:wrap;
    }
    .row-flex .label{font-weight:800}
    .row-flex .righttxt{margin-left:0}

    .lyrics{
      white-space:pre-wrap;
      line-height:1.6;
      padding:12px 14px;
      border:1px dashed var(--border);
      border-radius:12px;
      background:#fffdf6;
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      font-size:13px;
    }
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left">
        <a class="home" href="../index.html">ğŸ  Home</a>
      </div>
      <div class="right">
        <button id="langToggle" class="icon-btn" aria-label="åˆ‡æ›èªè¨€">ğŸŒ EN</button>
      </div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- å·¦ï¼šå½±ç‰‡ -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/tx3d7N0Rfos" title="Thunder Rolls" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæ¨™é¡Œ + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Thunder Rolls</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true" data-tab="story">Info</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="lyrics">Lyrics</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="comments">Comments</button>
        </div>
        <div class="bd">
          <div id="panel-story" class="tab-panel active"></div>
          <div id="panel-acq" class="tab-panel"></div>
          <div id="panel-lyrics" class="tab-panel"></div>
          <div id="panel-comments" class="tab-panel">
            <div id="giscus_container" style="min-height:320px;"></div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script>
    const LANG_KEY = 'ffxiv-guide-lang';

    /* =========================================================
       LYRICS (shared across EN/JP/ZH)
       Paste FULL lyrics below. This will be identical for all
       languages, so the Lyrics tab stays synced when you toggle
       EN/JP/ZH.
       ========================================================= */
    const LYRICS_TEXT = `
Ula menida tula oh / Hoary Arbor, Lord of Light
Tela omnida tula ei / Thine advent quelleth creeping night
Ona ramuhda deme os / The wicked burn, their pyres bright
Nola tulama tela ei / Smote by Levin's blinding might

Soul without a name, heed my call
Sin doth stain the hearts of us all
The worm hath burrowed deep and hath grown
Soon he too shall reap what is sown

Step into the storm, know its mercy
Let the wind and the rain crash down over thee
Lightning bright, thunder bold
Guiding us forevermore

Soul fallen from grace, ware thee well
Judgment thou must face, thine own hell
The worm stirreth within, black as night
Breeding deeper sin, foul its blight

Soul, thine end is nigh. Take mine hand
All life must return to the land
Lingered hath the worm, overlong
Purge thy flesh of fear and be strong

Step in from the storm, praise its mercy
Let the sting of the rain ne'er stray far from thee
Lightning bright, thunder bold
Freeing us forevermore

Now lift thine heavy head and vanquish thy sorrow
Lightning doth strike
Thunder doth roll

Now turn thy gaze ahead and look to the morrow
Lightning shall strike
Thunder shall roll on
`.trim();

    function escapeHtml(str){
      return String(str)
        .replaceAll('&','&amp;')
        .replaceAll('<','&lt;')
        .replaceAll('>','&gt;')
        .replaceAll('"','&quot;')
        .replaceAll("'","&#39;");
    }

    const i18n = {
      EN:{
        langLabel:'EN',
        pageTitle:'Thunder Rolls',
        tabs:{story:'Info', acq:'Acquisition', lyrics:'Lyrics', comments:'Comments'},
        story:`<div class="stack">
          <div class="row row-flex">
            <span class="label">Theme</span>
            <span class="righttxt">The Striking Tree Theme</span>
          </div>
          <div class="row row-flex">
            <span class="label">Appears in</span>
            <span class="righttxt"><a class="link" href="the-striking-tree-hard.html">The Striking Tree (Hard)</a></span>
          </div>
        </div>`,
        acq:`<div class="stack">
          <div class="row"><strong>Acquisition:</strong> Materials for synthesis obtained in the Striking Tree (Extreme).</div>
          <div class="row"><strong>Additional Notes:</strong> Crafted by Level 50 Alchemist (Master Alchemist II) with Faded Copy of Thunder Rolls, dropped in Trial The Striking Tree (Extreme).</div>
        </div>`,
        lyrics:`<div class="stack">
          <div class="lyrics">${escapeHtml(LYRICS_TEXT || '[No lyrics text yet]')}</div>
        </div>`
      },

      JP:{
        langLabel:'JP',
        pageTitle:'é›·å…‰é›·é³´',
        tabs:{story:'æƒ…å ±', acq:'å…¥æ‰‹æ–¹æ³•', lyrics:'æ­Œè©', comments:'ã‚³ãƒ¡ãƒ³ãƒˆ'},
        story:`<div class="stack">
          <div class="row row-flex">
            <span class="label">ãƒ†ãƒ¼ãƒ</span>
            <span class="righttxt">çœŸãƒ©ãƒ ã‚¦è¨æ»…æˆ¦ ãƒ†ãƒ¼ãƒ</span>
          </div>
          <div class="row row-flex">
            <span class="label">ä½¿ç”¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</span>
            <span class="righttxt"><a class="link" href="the-striking-tree-hard.html">çœŸãƒ©ãƒ ã‚¦è¨æ»…æˆ¦</a></span>
          </div>
        </div>`,
        acq:`<div class="stack">
          <div class="row"><strong>å…¥æ‰‹ï¼š</strong>åˆæˆç”¨ç´ æï¼šè¨æ»…æˆ¦ã€Œæ¥µãƒ©ãƒ ã‚¦è¨æ»…æˆ¦ã€ã§å…¥æ‰‹ã€‚</div>
          <div class="row"><strong>è£œè¶³ï¼š</strong>éŒ¬é‡‘è¡“å¸«Lv50ï¼ˆéŒ¬æˆç§˜ä¼æ›¸:ç¬¬2å·»ï¼‰ã§è£½ä½œã€‚ç´ æã® å¤ã³ãŸè­œé¢:é›·å…‰é›·é³´ ã¯ã€è¨æ»…æˆ¦ ã€Œæ¥µãƒ©ãƒ ã‚¦è¨æ»…æˆ¦ã€ï¼ˆThe Striking Tree (Extreme)ï¼‰ã§å…¥æ‰‹ã€‚</div>
        </div>`,
        lyrics:`<div class="stack">
          <div class="lyrics">${escapeHtml(LYRICS_TEXT || '[æ­Œè©ãƒ†ã‚­ã‚¹ãƒˆæœªå…¥åŠ›]')}</div>
        </div>`
      },

      ZH:{
        langLabel:'ZH-TW',
        pageTitle:'é›·å…‰è½Ÿé³´',
        tabs:{story:'è³‡è¨Š', acq:'å–å¾—æ–¹å¼', lyrics:'æ­Œè©', comments:'ç•™è¨€'},
        story:`<div class="stack">
          <div class="row row-flex">
            <span class="label">ä¸»é¡Œ</span>
            <span class="righttxt">çœŸæ‹‰å§†è¨æ»…æˆ° ä¸»é¡Œ</span>
          </div>
          <div class="row row-flex">
            <span class="label">å‡ºç¾å…§å®¹</span>
            <span class="righttxt"><a class="link" href="the-striking-tree-hard.html">çœŸæ‹‰å§†è¨æ»…æˆ°</a></span>
          </div>
        </div>`,
        acq:`<div class="stack">
          <div class="row"><strong>å–å¾—ï¼š</strong>åˆæˆç”¨ç´ æï¼šå¯æ–¼ The Striking Tree (Extreme)ï¼ˆæ¥µãƒ©ãƒ ã‚¦è¨æ»…æˆ¦ï¼‰å–å¾—ã€‚</div>
          <div class="row"><strong>è£œå……ï¼š</strong>ç”±éŠé‡‘è¡“å¸« Lv.50ï¼ˆMaster Alchemist IIï¼éŒ¬æˆç§˜ä¼æ›¸:ç¬¬2å·»ï¼‰è£½ä½œï¼›éœ€ä½¿ç”¨ Faded Copy of Thunder Rollsï¼ˆå¤ã³ãŸè­œé¢:é›·å…‰é›·é³´ï¼‰ï¼Œè©²ç´ æå¯æ–¼ The Striking Tree (Extreme)ï¼ˆæ¥µãƒ©ãƒ ã‚¦è¨æ»…æˆ¦ï¼‰æ‰è½å–å¾—ã€‚</div>
        </div>`,
        lyrics:`<div class="stack">
          <div class="lyrics">${escapeHtml(LYRICS_TEXT || '[å°šæœªè²¼ä¸Šæ­Œè©æ–‡å­—]')}</div>
        </div>`
      }
    };

    const langToggle = document.getElementById('langToggle');
    const pageTitle  = document.getElementById('pageTitle');
    const tabBtns    = [...document.querySelectorAll('.tab-btn')];

    const panels = {
      story   : document.getElementById('panel-story'),
      acq     : document.getElementById('panel-acq'),
      lyrics  : document.getElementById('panel-lyrics'),
      comments: document.getElementById('panel-comments')
    };

    function getLang(){ return localStorage.getItem(LANG_KEY) || 'EN'; }

    function applyLang(lang){
      const t = i18n[lang] || i18n.EN;
      pageTitle.textContent = t.pageTitle;
      langToggle.textContent = `ğŸŒ ${t.langLabel}`;
      tabBtns.forEach(btn => { btn.textContent = t.tabs[btn.dataset.tab]; });
      const activeBtn = tabBtns.find(b=>b.getAttribute('aria-selected')==='true') || tabBtns[0];
      renderPanel(activeBtn.dataset.tab, lang);
      if (activeBtn && activeBtn.dataset.tab === 'comments') loadGiscusForCurrentLang();
    }

    function renderPanel(key, lang){
      const t = i18n[lang] || i18n.EN;
      Object.keys(panels).forEach(k => panels[k].classList.remove('active'));
      panels[key].classList.add('active');
      if (key !== 'comments') {
        panels[key].innerHTML = t[key] || '';
      } else {
        loadGiscusForCurrentLang();
      }
    }

    tabBtns.forEach(btn=>{
      btn.addEventListener('click',()=>{
        tabBtns.forEach(b=>b.setAttribute('aria-selected','false'));
        btn.setAttribute('aria-selected','true');
        renderPanel(btn.dataset.tab, getLang());
      });
    });

    langToggle.addEventListener('click',()=>{
      const cur=getLang();
      const next=cur==='EN'?'JP':(cur==='JP'?'ZH':'EN');
      localStorage.setItem(LANG_KEY,next);
      applyLang(next);
    });

    applyLang(getLang());

    const GISCUS_CFG = {
      repo: 'BELAUG-FFXIV/FFXIV_Library',
      repoId: 'R_kgDOPyh4Kw',
      category: 'General',
      categoryId: 'DIC_kwDOPyh4K84CwPjL',
      theme: 'preferred_color_scheme'
    };

    function uiLang(code){ return code==='JP' ? 'ja' : (code==='ZH' ? 'zh-TW' : 'en'); }

    function loadGiscusForCurrentLang(){
      const mount = document.getElementById('giscus_container');
      if (!mount) return;
      mount.innerHTML = '';
      const langCode = getLang();
      const s = document.createElement('script');
      s.src = 'https://giscus.app/client.js';
      s.setAttribute('data-repo', GISCUS_CFG.repo);
      s.setAttribute('data-repo-id', GISCUS_CFG.repoId);
      s.setAttribute('data-category', GISCUS_CFG.category);
      s.setAttribute('data-category-id', GISCUS_CFG.categoryId);
      s.setAttribute('data-mapping', 'specific');
      s.setAttribute('data-term', location.pathname + 'ï½œ' + langCode);
      s.setAttribute('data-reactions-enabled', '1');
      s.setAttribute('data-emit-metadata', '0');
      s.setAttribute('data-input-position', 'bottom');
      s.setAttribute('data-lang', uiLang(langCode));
      s.setAttribute('data-theme', GISCUS_CFG.theme);
      s.setAttribute('crossorigin', 'anonymous');
      s.async = true;
      mount.appendChild(s);
    }
  </script>
</body>
</html>
