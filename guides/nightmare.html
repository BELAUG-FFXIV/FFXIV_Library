<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nightmare | BELAUG · FFXIV Library</title>
  <meta name="description" content="Summon forth the single-horned steed with a temperament as black as his coat.">
  <link rel="icon" href="../img/favicon.ico" />
  <style>
    :root { --bg:#fff8e6; --card:#fff; --fg:#222; --muted:#666; --border:#e5e1d8; --accent:#e11d48; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",Arial,sans-serif;background:var(--bg);color:var(--fg)}
    .container{max-width:1080px;margin:0 auto;padding:0 16px}
    .site-header{border-bottom:1px solid var(--border);background:#fff9edb3;backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .left{display:flex;align-items:center;gap:12px}
    .home{border:1px solid var(--border);background:#fff;padding:4px 8px;border-radius:8px;text-decoration:none;color:var(--fg);font-weight:800}
    .home:hover{background:#fffef8}
    .right{display:flex;align-items:center;gap:8px}
    .icon-btn{background:none;border:none;cursor:pointer;font-size:14px;padding:6px 10px;border-radius:8px}
    .icon-btn:hover{background:#fff;border:1px solid var(--border)}
    .main{padding:20px 0 40px}
    .grid{display:grid;grid-template-columns:1.1fr 1fr;gap:20px;align-items:start}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} .video-wrap{position:relative;padding-top:56.25%} .video-wrap iframe{position:absolute;inset:0;width:100%;height:100%} }
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:700}
    .card .bd{padding:16px}
    .video-card .bd{padding:0}
    .video-card iframe{width:100%;height:420px;border:0;display:block;border-radius:16px}
    .tabs{display:flex;gap:8px;padding:12px 12px 0;flex-wrap:wrap}
    .tab-btn{background:#fff;border:1px solid var(--border);color:var(--fg);border-radius:999px;padding:8px 14px;cursor:pointer;font-weight:600}
    .tab-btn[aria-selected="true"]{border-color:var(--accent);color:#fff;background:var(--accent)}
    .tab-panel{display:none}
    .tab-panel.active{display:block}
    .stack{display:flex;flex-direction:column;gap:10px}
    .stack .row{padding:12px 14px;border:1px dashed var(--border);border-radius:12px;background:#fffdf6}
    .row b{display:inline-block;min-width:130px}
    .muted{color:var(--muted)}
    .link{color:#0b60d8;text-decoration:none}
    .link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="container nav">
      <div class="left"><a class="home" href="../index.html">🏠 Home</a></div>
      <div class="right"><button id="langToggle" class="icon-btn" aria-label="切換語言">🌐 EN</button></div>
    </nav>
  </header>

  <main class="container main">
    <div class="grid">
      <!-- 左：影片 -->
      <section class="card video-card">
        <div class="bd">
          <div class="video-wrap">
            <iframe id="ytFrame" src="https://www.youtube.com/embed/u0uyz3gKgP8" title="Nightmare" allowfullscreen></iframe>
          </div>
        </div>
      </section>

      <!-- 右：標題 + Tabs -->
      <section class="card">
        <div class="hd" id="pageTitle">Nightmare</div>
        <div class="tabs" role="tablist">
          <button class="tab-btn" role="tab" aria-selected="true"  data-tab="about">About</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="acq">Acquisition</button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="seats">Seats</button>
        </div>
        <div class="bd">
          <div id="panel-about" class="tab-panel active"></div>
          <div id="panel-acq"   class="tab-panel"></div>
          <div id="panel-seats" class="tab-panel"></div>
        </div>
      </section>
    </div>
  </main>

  <script>
    const LANG_KEY = "ffxiv-guide-lang";
    const i18n = {
      EN: {
        langLabel: "EN",
        pageTitle: "Nightmare",
        tabs: { about: "About", acq: "Acquisition", seats: "Seats" },
        about:
          "<div class='stack'>"
          + "<div class='row'>Summon forth the single-horned steed with a temperament as black as his coat.</div>"
          + "<div class='row'>While it is no secret that it was the enigmatic Ascians who provided the beast tribes with nightmares, their reasons for doing so remain shrouded in mystery. Otherwise untamable, the single piercing tone of a magicked whistle is the only method known to soothe the savage beasts.</div>"
          + "</div>",
        acq:
          "<div class='stack'>"
          + "<div class='row'>Random drop upon completion of Trial The Howling Eye (Extreme), Trial The Navel (Extreme) or Trial The Bowl of Embers (Extreme).</div>"
          + "</div>",
        seats: "<div class='stack'><div class='row'>1</div></div>"
      },
      JP: {
        langLabel: "JP",
        pageTitle: "ナイトメア",
        tabs: { about: "紹介", acq: "入手方法", seats: "座席数" },
        about:
          "<div class='stack'>"
          + "<div class='row'>漆黒の毛並みに相応しい荒々しい気性を持つ、一角の魔馬を呼び出そう。</div>"
          + "<div class='row'>ナイトメアが蛮族に与えられたのは、謎に包まれたアシエンの仕業であることは周知の事実である。しかし、彼らがそのような力を授けた理由はいまだ明らかになっていない。通常の手段では手懐けられず、魔法の笛が奏でる鋭い一音だけが、この凶暴な魔馬の心を鎮める術とされている。</div>"
          + "</div>",
        acq:
          "<div class='stack'>"
          + "<div class='row'>討伐・討滅戦「真ガルーダ討滅戦」「真タイタン討滅戦」「真イフリート討滅戦」クリア時にランダムで入手。</div>"
          + "</div>",
        seats: "<div class='stack'><div class='row'>1</div></div>"
      },
      ZH: {
        langLabel: "ZH",
        pageTitle: "噩夢之影",
        tabs: { about: "簡介", acq: "取得方式", seats: "可乘人數" },
        about:
          "<div class='stack'>"
          + "<div class='row'>召喚這匹單角魔馬，牠的性情如牠漆黑的毛皮般陰沉狂野。</div>"
          + "<div class='row'>眾所皆知，Nightmare 是由神秘的 Ascians 贈與各大獸人部族的，但其背後動機仍籠罩於迷霧之中。牠難以馴服，唯有透過一枚魔法笛子所吹出的尖銳音色，方能使這頭兇猛坐騎稍稍安靜下來。</div>"
          + "</div>",
        acq:
          "<div class='stack'>"
          + "<div class='row'>完成試煉任務「豪神蓋魯達」、「豪神泰坦」或「豪神伊弗利特」後，有機率隨機獲得。</div>"
          + "</div>",
        seats: "<div class='stack'><div class='row'>1</div></div>"
      }
    };

    const langToggle = document.getElementById("langToggle");
    const pageTitle = document.getElementById("pageTitle");
    const tabBtns = [].slice.call(document.querySelectorAll(".tab-btn"));
    const panels = { about: panel("about"), acq: panel("acq"), seats: panel("seats") };

    function panel(id){ return document.getElementById("panel-" + id); }
    function getLang(){ return localStorage.getItem(LANG_KEY) || "EN"; }

    function applyLang(lang){
      var t = i18n[lang] || i18n.EN;
      pageTitle.textContent = t.pageTitle;
      langToggle.textContent = "🌐 " + t.langLabel; // 安全字串相接
      tabBtns.forEach(function(b){ b.textContent = t.tabs[b.getAttribute("data-tab")]; });
      var active = tabBtns.find(function(b){ return b.getAttribute("aria-selected") === "true"; }) || tabBtns[0];
      renderPanel(active.getAttribute("data-tab"), lang);
    }

    function renderPanel(key, lang){
      var t = i18n[lang] || i18n.EN;
      Object.keys(panels).forEach(function(k){ panels[k].classList.remove("active"); });
      panels[key].classList.add("active");
      panels[key].innerHTML = t[key];
    }

    tabBtns.forEach(function(btn){
      btn.addEventListener("click", function(){
        tabBtns.forEach(function(b){ b.setAttribute("aria-selected","false"); });
        btn.setAttribute("aria-selected","true");
        renderPanel(btn.getAttribute("data-tab"), getLang());
      });
    });

    langToggle.addEventListener("click", function(){
      var cur = getLang();
      var next = cur === "EN" ? "JP" : (cur === "JP" ? "ZH" : "EN");
      localStorage.setItem(LANG_KEY, next);
      applyLang(next);
    });

    applyLang(getLang());
  </script>
</body>
</html>
