/* =========================
   BELAUG FFXIV Library - style.css (clean)
   ========================= */

/* === Theme variables (light default) === */
:root{
  --bg:#fffef8;
  --text:#111111;
  --muted:#666;
  --border:#e5e5e5;

  --card-bg:#f9f9f9;
  --card-border:#e5e5e5;

  --btn-bg:#2563eb;
  --btn-text:#ffffff;
  --btn-border:transparent;

  --input-bg:#ffffff;
  --input-text:#111111;
  --input-border:#dddddd;

  --link:#2563eb;

  /* derived */
  --fg: var(--text);
  --accent: var(--btn-bg);
  --card: var(--card-bg);
  --bg2: var(--card-bg);

  /* CTA */
  --sub-bg:#ff0000;
  --sub-border:#ff0000;
  --sub-text:#ffffff;
}

/* Dark */
html[data-theme="dark"]{
  --bg:#141414;
  --text:#eaeaea;
  --muted:#aaa;
  --border:#3a3a3a;

  --card-bg:#1f1f1f;
  --card-border:#3a3a3a;

  --btn-bg:#3b82f6;
  --btn-text:#ffffff;
  --btn-border:#3a3a3a;

  --input-bg:#161616;
  --input-text:#eaeaea;
  --input-border:#3a3a3a;

  --link:#90c2ff;

  /* CTA (still red in dark) */
  --sub-bg:#ff0000;
  --sub-border:#ff0000;
  --sub-text:#ffffff;
}

/* = Base = */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  background:var(--bg);
  color:var(--text);
  font:16px/1.6 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,"Noto Sans TC","Noto Sans JP",sans-serif;
  transition: background .25s, color .25s;
}
a{color:var(--link); text-decoration:none}
a:hover{text-decoration:underline}
img,video{max-width:100%; height:auto; display:block}

/* IMPORTANT:
   ä¸è¦å…¨åŸŸæŠŠ iframe å¼·åˆ¶ 16:9ï¼Œæœƒå½±éŸ¿ modal/player
*/
iframe{
  max-width:100%;
  width:100%;
  height:auto;
  aspect-ratio:auto;
  border:0;
}

/* = Layout = */
.container{max-width:1100px; margin:0 auto; padding:0 16px}
.site-header{
  position:sticky; top:0; z-index:10;
  background:var(--bg);
  border-bottom:1px solid var(--border);
}
.nav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  height:56px;
}

/* å·¦ä¸Šè§’å“ç‰Œ LOGO */
.brand{
  font-weight:700;
  font-family:"Inter","Noto Sans TC","Noto Sans JP",system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,"PingFang TC","Microsoft JhengHei",sans-serif;
  color: var(--brand-color, #111);
  text-decoration:none !important;
  font-size:1.4rem;
  letter-spacing:.5px;
  display:inline-block;
  padding:2px 6px;
  border-radius:6px;
  transition:opacity .2s ease;
}
.brand:hover{opacity:.8}
.brand:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

/* Header å³å´ icon æŒ‰éˆ• (ðŸŒ™ / ðŸŒ / YouTube) */
.nav-right{
  display:flex;
  gap:12px;
  align-items:center;
}
.icon-btn{
  background:none;
  border:none;
  padding:6px;
  margin:0;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  line-height:1;
  color:var(--text);
  font-family:inherit;
  transition:opacity .2s ease, transform .1s ease;
}
.icon-btn:hover{opacity:.7; transform:scale(1.05)}
.icon-btn:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

/* YouTube icon */
.yt-icon{
  width:28px;
  height:28px;
  fill:red;
  transition:transform .2s ease, fill .3s ease;
}
.yt-icon:hover{
  fill:#cc0000;
  transform:scale(1.12);
}

/* = Hero = */
.hero{padding:28px 0 12px}
.hero .sub{color:var(--muted); margin:.25rem 0 1rem}

/* Hero CTA */
.hero-cta{
  margin:12px 0 10px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}

/* = Inputs / Selects = */
.filters{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
.input,.select{
  height:36px;
  padding:0 10px;
  border-radius:10px;
  border:1px solid var(--input-border);
  background:var(--input-bg);
  color:var(--input-text);
}
.input{min-width:240px}

/* = Buttons = */
.btn{
  height:36px;
  padding:0 12px;
  border-radius:10px;
  border:1px solid var(--btn-border);
  background:var(--btn-bg);
  color:var(--btn-text);
  cursor:pointer;
  transition: background .2s, color .2s, border-color .2s, opacity .2s, transform .1s;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
}
.btn:hover{opacity:.92}
.btn:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}
.btn.ghost{
  background:transparent;
  color:var(--text);
  border-color:var(--border);
}
.btn.play{font-weight:600}

/* Subscribe button (force red, both themes) */
#subscribeCta.btn.btn-sub{
  background:var(--sub-bg) !important;
  border:1px solid var(--sub-border) !important;
  color:var(--sub-text) !important;
  font-weight:800 !important;

  height:auto !important;         /* ä¸åƒ .btn 36px */
  padding:10px 16px !important;
  border-radius:14px !important;
  box-shadow:0 6px 16px rgba(0,0,0,.12) !important;
}
#subscribeCta.btn.btn-sub:hover{
  opacity:.92 !important;
  transform:translateY(-1px);
  text-decoration:none !important;
}

/* Clear filters (å¯è¦‹çš„ç°è‰²ï¼Œä¸è¦å†è·ŸèƒŒæ™¯èžåœ¨ä¸€èµ·) */
#clear.btn.btn-clear{
  background:rgba(0,0,0,.06) !important;
  border:1px solid rgba(0,0,0,.22) !important;
  color:var(--text) !important;
  font-weight:800 !important;
}
#clear.btn.btn-clear:hover{ background:rgba(0,0,0,.10) !important; }
html[data-theme="dark"] #clear.btn.btn-clear{
  background:rgba(255,255,255,.10) !important;
  border-color:rgba(255,255,255,.28) !important;
}
html[data-theme="dark"] #clear.btn.btn-clear:hover{
  background:rgba(255,255,255,.15) !important;
}

/* = Toolbar + grid = */
.toolbar{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  flex-wrap:wrap;
  gap:12px;
  padding:10px 0;
}
.toolbar > *{flex:0 0 auto;}
.count{color:var(--muted)}

.grid{
  display:grid;
  gap:14px;
  grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
}
.card{
  background:var(--card-bg);
  border:1px solid var(--card-border);
  border-radius:12px;
  overflow:hidden;
  transition:transform .12s ease, box-shadow .12s ease, background .25s, border-color .25s;
}
.card:hover{transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.12)}
.card .thumb{aspect-ratio:16/9; width:100%; object-fit:cover; background:#000}
.card .body{padding:12px}
.card .title{margin:0 0 6px 0; font-size:16px; line-height:1.3}
.meta{display:flex; gap:6px; flex-wrap:wrap; align-items:center; color:var(--muted); font-size:13px}
.badge{display:inline-block; padding:2px 8px; border-radius:999px; background:rgba(0,0,0,.06)}
html[data-theme="dark"] .badge{background:rgba(255,255,255,.08)}
.actions{display:flex; gap:8px; margin-top:10px}
.tags{display:flex; gap:6px; flex-wrap:wrap; color:var(--muted); font-size:12px}
.tag{background:transparent; border:1px dashed var(--card-border); padding:2px 6px; border-radius:999px}

/* Card actions tighten */
.card .actions{
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  margin-top:8px;
}
.card .actions .btn{
  font-size:13px;
  padding:6px 10px;
  height:auto;
  border-radius:10px;
}

/* = Pager = */
.pager{display:flex; gap:6px; justify-content:center; padding:16px 0 28px}
.pagebtn{
  padding:6px 10px;
  border-radius:10px;
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
  cursor:pointer;
}
.pagebtn.active{background:var(--btn-bg); color:#fff; border-color:var(--btn-bg)}

/* = Modal dialog = */
dialog{border:none; padding:0; border-radius:12px; max-width:960px; width:min(90vw,960px)}
::backdrop{background:rgba(0,0,0,.5)}
.modal-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px;
  border-bottom:1px solid var(--border);
  background:var(--bg);
}
.modal-body{width:100%; height:min(70vh,600px); background:#000}
#modalTitle{margin:0; font-size:16px}
#modalClose{height:32px; padding:0 8px}

/* Modal player: fill container */
#ytFrame{
  width:100% !important;
  height:100% !important;
  aspect-ratio:auto !important;
}

/* = Featured Section = */
.featured-slot{ margin:20px auto; max-width:960px; }
.featured-card{
  background:var(--bg2);
  padding:16px;
  border-radius:12px;
  box-shadow:0 2px 6px rgba(0,0,0,0.10);
  color:var(--fg);
}
.featured-card h2{ margin:0 0 12px; font-size:1.2rem; }
html[data-theme="dark"] .featured-card{
  background:#222;
  color:#eee;
}
html[data-theme="dark"] .featured-card h2{ color:#fff; }

.video-wrapper{
  position:relative;
  padding-bottom:56.25%;
  height:0;
  overflow:hidden;
  border-radius:12px;
}
.video-wrapper iframe{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  aspect-ratio:16/9;
}

/* ===========================
   Topic page styles
   =========================== */
.topic.container{ max-width:1100px; }

.topic .crumbs{
  margin:12px 0 20px;
  color:var(--muted);
  font-size:.95rem;
}
.topic .crumbs a{ color:var(--accent); text-decoration:none; }
.topic .crumbs a:hover{ text-decoration:underline; }
.topic .crumbs span{ opacity:.6; margin:0 .35rem; }

.topic .topic-head{ margin:6px 0 18px; }
.topic .topic-head h1{
  margin:0 0 6px;
  font-size:clamp(1.6rem,2vw + 1.2rem,2.1rem);
  line-height:1.2;
}
.topic .topic-head .subtitle{ margin:0 0 10px; color:var(--muted); }

.topic .chips{ display:flex; gap:8px; flex-wrap:wrap; }
.topic .chip{
  display:inline-flex; align-items:center;
  height:28px; padding:0 10px;
  border-radius:999px;
  background:var(--input-bg);
  color:var(--fg);
  font-size:.9rem;
  border:1px solid var(--input-border);
}

.topic .yt-wrap{
  position:relative;
  width:100%;
  aspect-ratio:16 / 9;
  background:#000;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 1px 0 rgba(0,0,0,.03);
}
.topic .yt-wrap iframe{
  position:absolute; inset:0; width:100%; height:100%;
  aspect-ratio:16/9;
}
.topic .caption{ color:var(--muted); margin:8px 2px 0; }

.topic .topic-section{ margin:26px 0; }
.topic .topic-section h2{
  margin:0 0 12px;
  font-size:clamp(1.15rem,1.2vw + .9rem,1.35rem);
}
.topic .topic-section p{ margin:10px 0; }

.topic .step-list{ padding-left:1.2rem; }
.topic .step-list li{ margin:6px 0; }

.topic .info-table{
  width:100%;
  border-collapse:collapse;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:12px;
  overflow:hidden;
}
.topic .info-table th,
.topic .info-table td{
  padding:10px 14px;
  vertical-align:top;
  border-top:1px solid var(--border);
}
.topic .info-table tr:first-child th,
.topic .info-table tr:first-child td{ border-top:none; }
.topic .info-table th{ width:160px; color:var(--muted); text-align:left; }

.topic .callout{
  border:1px solid var(--border);
  border-left-width:4px;
  padding:12px 14px;
  border-radius:10px;
  background:var(--card);
  margin:12px 0;
}
.topic .callout.info{ border-left-color:var(--accent); }

.topic .topic-foot{ margin:28px 0 12px; }
.topic .backtop{ font-weight:700; text-decoration:none; }

html[data-theme="dark"] .topic .chip{ background:#1f2937; border-color:#2b3442; }
html[data-theme="dark"] .topic .info-table{ background:#111827; border-color:#2b3442; }
html[data-theme="dark"] .topic .callout{ background:#0b1220; border-color:#2b3442; }
html[data-theme="dark"] .topic .subtitle,
html[data-theme="dark"] .topic .caption{ color:#9aa4b2; }

/* = Footer = */
.site-footer{ border-top:1px solid var(--border); margin-top:24px; }
.foot{ display:flex; align-items:center; justify-content:space-between; height:56px; color:var(--muted); }
.backtop{ font-weight:700; }

/* =========================
   Mobile fixes
   ========================= */
table{
  width:100%;
  border-collapse:collapse;
  display:block;
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
}
pre{ overflow-x:auto; -webkit-overflow-scrolling:touch; }
code,pre,table{ max-width:100%; }

@media (max-width: 768px){
  .container{ padding-left:14px; padding-right:14px; }

  .tabs,
  .tabbar,
  .tab-buttons,
  .tab-nav{
    display:flex;
    gap:8px;
    overflow-x:auto;
    flex-wrap:nowrap;
    white-space:nowrap;
    -webkit-overflow-scrolling:touch;
    padding-bottom:6px;
    mask-image:linear-gradient(to right, transparent, #000 18px, #000 calc(100% - 18px), transparent);
  }

  .tabs button,
  .tabbar button,
  .tab-buttons button,
  .tab-nav button,
  .tabs a,
  .tabbar a{
    flex:0 0 auto;
    white-space:nowrap;
  }

  .lang-switch,
  .langbar,
  .lang-tabs{
    display:flex;
    gap:8px;
    overflow-x:auto;
    flex-wrap:nowrap;
    white-space:nowrap;
    -webkit-overflow-scrolling:touch;
    padding-bottom:6px;
  }

  .layout,
  .page,
  .wrap,
  .content-wrap,
  .guide-wrap,
  .main-grid{
    display:block !important;
  }

  *{ min-width:0; }
}

/* =========================
   Guide pages: desktop split + scroll panel
   (only affects <main class="container main">)
   ========================= */
@media (min-width: 901px){
  main.main{
    height:calc(100vh - 60px);
    overflow:hidden;
  }
  main.main .grid{
    height:100%;
    align-items:stretch;
  }
  main.main .card{
    height:100%;
    display:flex;
    flex-direction:column;
    min-height:0;
  }
  main.main .card .bd{
    flex:1;
    min-height:0;
    overflow:auto;
    -webkit-overflow-scrolling:touch;
  }
  main.main .video-card .bd{ padding:0; }
  main.main .video-card iframe{
    width:100%;
    height:100% !important;
    display:block;
  }
}
